var gw=t=>{throw TypeError(t)};var ep=(t,e,n)=>e.has(t)||gw("Cannot "+n);var O=(t,e,n)=>(ep(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?gw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ae=(t,e,n,r)=>(ep(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xt=(t,e,n)=>(ep(t,e,"access private method"),n);var su=(t,e,n,r)=>({set _(s){ae(t,e,s,n)},get _(){return O(t,e,r)}});function zN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function _E(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EE={exports:{}},wh={},bE={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ic=Symbol.for("react.element"),BN=Symbol.for("react.portal"),HN=Symbol.for("react.fragment"),WN=Symbol.for("react.strict_mode"),qN=Symbol.for("react.profiler"),KN=Symbol.for("react.provider"),GN=Symbol.for("react.context"),QN=Symbol.for("react.forward_ref"),YN=Symbol.for("react.suspense"),XN=Symbol.for("react.memo"),JN=Symbol.for("react.lazy"),yw=Symbol.iterator;function ZN(t){return t===null||typeof t!="object"?null:(t=yw&&t[yw]||t["@@iterator"],typeof t=="function"?t:null)}var TE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SE=Object.assign,IE={};function Ta(t,e,n){this.props=t,this.context=e,this.refs=IE,this.updater=n||TE}Ta.prototype.isReactComponent={};Ta.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ta.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kE(){}kE.prototype=Ta.prototype;function dy(t,e,n){this.props=t,this.context=e,this.refs=IE,this.updater=n||TE}var hy=dy.prototype=new kE;hy.constructor=dy;SE(hy,Ta.prototype);hy.isPureReactComponent=!0;var vw=Array.isArray,CE=Object.prototype.hasOwnProperty,fy={current:null},AE={key:!0,ref:!0,__self:!0,__source:!0};function RE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)CE.call(e,r)&&!AE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ic,type:t,key:i,ref:o,props:s,_owner:fy.current}}function eP(t,e){return{$$typeof:Ic,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function py(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ic}function tP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ww=/\/+/g;function tp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tP(""+t.key):e.toString(36)}function Bu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ic:case BN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+tp(o,0):r,vw(s)?(n="",t!=null&&(n=t.replace(ww,"$&/")+"/"),Bu(s,e,n,"",function(u){return u})):s!=null&&(py(s)&&(s=eP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ww,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+tp(i,a);o+=Bu(i,e,n,l,s)}else if(l=ZN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+tp(i,a++),o+=Bu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function iu(t,e,n){if(t==null)return t;var r=[],s=0;return Bu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function nP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},Hu={transition:null},rP={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:fy};function NE(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:iu,forEach:function(t,e,n){iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return iu(t,function(){e++}),e},toArray:function(t){return iu(t,function(e){return e})||[]},only:function(t){if(!py(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Ta;le.Fragment=HN;le.Profiler=qN;le.PureComponent=dy;le.StrictMode=WN;le.Suspense=YN;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rP;le.act=NE;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=SE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=fy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)CE.call(e,l)&&!AE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ic,type:t.type,key:s,ref:i,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:GN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KN,_context:t},t.Consumer=t};le.createElement=RE;le.createFactory=function(t){var e=RE.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:QN,render:t}};le.isValidElement=py;le.lazy=function(t){return{$$typeof:JN,_payload:{_status:-1,_result:t},_init:nP}};le.memo=function(t,e){return{$$typeof:XN,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Hu.transition;Hu.transition={};try{t()}finally{Hu.transition=e}};le.unstable_act=NE;le.useCallback=function(t,e){return Ut.current.useCallback(t,e)};le.useContext=function(t){return Ut.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};le.useEffect=function(t,e){return Ut.current.useEffect(t,e)};le.useId=function(){return Ut.current.useId()};le.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Ut.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};le.useRef=function(t){return Ut.current.useRef(t)};le.useState=function(t){return Ut.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Ut.current.useTransition()};le.version="18.3.1";bE.exports=le;var p=bE.exports;const z=_E(p),PE=zN({__proto__:null,default:z},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP=p,iP=Symbol.for("react.element"),oP=Symbol.for("react.fragment"),aP=Object.prototype.hasOwnProperty,lP=sP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cP={key:!0,ref:!0,__self:!0,__source:!0};function DE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)aP.call(e,r)&&!cP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:iP,type:t,key:i,ref:o,props:s,_owner:lP.current}}wh.Fragment=oP;wh.jsx=DE;wh.jsxs=DE;EE.exports=wh;var c=EE.exports,jE={exports:{}},_n={},OE={exports:{}},ME={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,j){var U=k.length;k.push(j);e:for(;0<U;){var L=U-1>>>1,Q=k[L];if(0<s(Q,j))k[L]=j,k[U]=Q,U=L;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var j=k[0],U=k.pop();if(U!==j){k[0]=U;e:for(var L=0,Q=k.length,oe=Q>>>1;L<oe;){var Te=2*(L+1)-1,ut=k[Te],he=Te+1,rn=k[he];if(0>s(ut,U))he<Q&&0>s(rn,ut)?(k[L]=rn,k[he]=U,L=he):(k[L]=ut,k[Te]=U,L=Te);else if(he<Q&&0>s(rn,U))k[L]=rn,k[he]=U,L=he;else break e}}return j}function s(k,j){var U=k.sortIndex-j.sortIndex;return U!==0?U:k.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,x=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=k)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function E(k){if(g=!1,w(k),!x)if(n(l)!==null)x=!0,V(b);else{var j=n(u);j!==null&&G(E,j.startTime-k)}}function b(k,j){x=!1,g&&(g=!1,y(C),C=-1),m=!0;var U=h;try{for(w(j),f=n(l);f!==null&&(!(f.expirationTime>j)||k&&!R());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var Q=L(f.expirationTime<=j);j=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),w(j)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var Te=n(u);Te!==null&&G(E,Te.startTime-j),oe=!1}return oe}finally{f=null,h=U,m=!1}}var S=!1,T=null,C=-1,P=5,A=-1;function R(){return!(t.unstable_now()-A<P)}function N(){if(T!==null){var k=t.unstable_now();A=k;var j=!0;try{j=T(!0,k)}finally{j?$():(S=!1,T=null)}}else S=!1}var $;if(typeof v=="function")$=function(){v(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=N,$=function(){B.postMessage(null)}}else $=function(){_(N,0)};function V(k){T=k,S||(S=!0,$())}function G(k,j){C=_(function(){k(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,V(b))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var U=h;h=j;try{return k()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,j){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var U=h;h=k;try{return j()}finally{h=U}},t.unstable_scheduleCallback=function(k,j,U){var L=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?L+U:L):U=L,k){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=U+Q,k={id:d++,callback:j,priorityLevel:k,startTime:U,expirationTime:Q,sortIndex:-1},U>L?(k.sortIndex=U,e(u,k),n(l)===null&&k===n(u)&&(g?(y(C),C=-1):g=!0,G(E,U-L))):(k.sortIndex=Q,e(l,k),x||m||(x=!0,V(b))),k},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(k){var j=h;return function(){var U=h;h=j;try{return k.apply(this,arguments)}finally{h=U}}}})(ME);OE.exports=ME;var uP=OE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP=p,wn=uP;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LE=new Set,Ml={};function qi(t,e){ra(t,e),ra(t+"Capture",e)}function ra(t,e){for(Ml[t]=e,t=0;t<e.length;t++)LE.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=Object.prototype.hasOwnProperty,hP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xw={},_w={};function fP(t){return ym.call(_w,t)?!0:ym.call(xw,t)?!1:hP.test(t)?_w[t]=!0:(xw[t]=!0,!1)}function pP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mP(t,e,n,r){if(e===null||typeof e>"u"||pP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var my=/[\-:]([a-z])/g;function gy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(my,gy);vt[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(my,gy);vt[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(my,gy);vt[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function yy(t,e,n,r){var s=vt.hasOwnProperty(e)?vt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mP(e,n,s,r)&&(n=null),r||s===null?fP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yr=dP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ou=Symbol.for("react.element"),vo=Symbol.for("react.portal"),wo=Symbol.for("react.fragment"),vy=Symbol.for("react.strict_mode"),vm=Symbol.for("react.profiler"),VE=Symbol.for("react.provider"),FE=Symbol.for("react.context"),wy=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),xm=Symbol.for("react.suspense_list"),xy=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),$E=Symbol.for("react.offscreen"),Ew=Symbol.iterator;function Ha(t){return t===null||typeof t!="object"?null:(t=Ew&&t[Ew]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,np;function sl(t){if(np===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);np=e&&e[1]||""}return`
`+np+t}var rp=!1;function sp(t,e){if(!t||rp)return"";rp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{rp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sl(t):""}function gP(t){switch(t.tag){case 5:return sl(t.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return t=sp(t.type,!1),t;case 11:return t=sp(t.type.render,!1),t;case 1:return t=sp(t.type,!0),t;default:return""}}function _m(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wo:return"Fragment";case vo:return"Portal";case vm:return"Profiler";case vy:return"StrictMode";case wm:return"Suspense";case xm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FE:return(t.displayName||"Context")+".Consumer";case VE:return(t._context.displayName||"Context")+".Provider";case wy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xy:return e=t.displayName||null,e!==null?e:_m(t.type)||"Memo";case cs:e=t._payload,t=t._init;try{return _m(t(e))}catch{}}return null}function yP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _m(e);case 8:return e===vy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vP(t){var e=UE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function au(t){t._valueTracker||(t._valueTracker=vP(t))}function zE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=UE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function md(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Em(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BE(t,e){e=e.checked,e!=null&&yy(t,"checked",e,!1)}function bm(t,e){BE(t,e);var n=Fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tm(t,e.type,Fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tm(t,e,n){(e!=="number"||md(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var il=Array.isArray;function Po(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Sm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(il(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fs(n)}}function HE(t,e){var n=Fs(e.value),r=Fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Iw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Im(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lu,qE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lu=lu||document.createElement("div"),lu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ll(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wP=["Webkit","ms","Moz","O"];Object.keys(ml).forEach(function(t){wP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ml[e]=ml[t]})});function KE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ml.hasOwnProperty(t)&&ml[t]?(""+e).trim():e+"px"}function GE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=KE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var xP=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(t,e){if(e){if(xP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Cm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Am=null;function _y(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rm=null,Do=null,jo=null;function kw(t){if(t=Ac(t)){if(typeof Rm!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Th(e),Rm(t.stateNode,t.type,e))}}function QE(t){Do?jo?jo.push(t):jo=[t]:Do=t}function YE(){if(Do){var t=Do,e=jo;if(jo=Do=null,kw(t),e)for(t=0;t<e.length;t++)kw(e[t])}}function XE(t,e){return t(e)}function JE(){}var ip=!1;function ZE(t,e,n){if(ip)return t(e,n);ip=!0;try{return XE(t,e,n)}finally{ip=!1,(Do!==null||jo!==null)&&(JE(),YE())}}function Vl(t,e){var n=t.stateNode;if(n===null)return null;var r=Th(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Nm=!1;if(Vr)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Nm=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Nm=!1}function _P(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var gl=!1,gd=null,yd=!1,Pm=null,EP={onError:function(t){gl=!0,gd=t}};function bP(t,e,n,r,s,i,o,a,l){gl=!1,gd=null,_P.apply(EP,arguments)}function TP(t,e,n,r,s,i,o,a,l){if(bP.apply(this,arguments),gl){if(gl){var u=gd;gl=!1,gd=null}else throw Error(F(198));yd||(yd=!0,Pm=u)}}function Ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cw(t){if(Ki(t)!==t)throw Error(F(188))}function SP(t){var e=t.alternate;if(!e){if(e=Ki(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Cw(s),t;if(i===r)return Cw(s),e;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function tb(t){return t=SP(t),t!==null?nb(t):null}function nb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nb(t);if(e!==null)return e;t=t.sibling}return null}var rb=wn.unstable_scheduleCallback,Aw=wn.unstable_cancelCallback,IP=wn.unstable_shouldYield,kP=wn.unstable_requestPaint,Ke=wn.unstable_now,CP=wn.unstable_getCurrentPriorityLevel,Ey=wn.unstable_ImmediatePriority,sb=wn.unstable_UserBlockingPriority,vd=wn.unstable_NormalPriority,AP=wn.unstable_LowPriority,ib=wn.unstable_IdlePriority,xh=null,mr=null;function RP(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(xh,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:DP,NP=Math.log,PP=Math.LN2;function DP(t){return t>>>=0,t===0?32:31-(NP(t)/PP|0)|0}var cu=64,uu=4194304;function ol(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ol(a):(i&=o,i!==0&&(r=ol(i)))}else o=n&~s,o!==0?r=ol(o):i!==0&&(r=ol(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),s=1<<n,r|=t[n],e&=~s;return r}function jP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Bn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=jP(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Dm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ob(){var t=cu;return cu<<=1,!(cu&4194240)&&(cu=64),t}function op(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function MP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function by(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ee=0;function ab(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lb,Ty,cb,ub,db,jm=!1,du=[],ks=null,Cs=null,As=null,Fl=new Map,$l=new Map,ds=[],LP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rw(t,e){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(e.pointerId)}}function qa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ac(e),e!==null&&Ty(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function VP(t,e,n,r,s){switch(e){case"focusin":return ks=qa(ks,t,e,n,r,s),!0;case"dragenter":return Cs=qa(Cs,t,e,n,r,s),!0;case"mouseover":return As=qa(As,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fl.set(i,qa(Fl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,$l.set(i,qa($l.get(i)||null,t,e,n,r,s)),!0}return!1}function hb(t){var e=ci(t.target);if(e!==null){var n=Ki(e);if(n!==null){if(e=n.tag,e===13){if(e=eb(n),e!==null){t.blockedOn=e,db(t.priority,function(){cb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Om(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Am=r,n.target.dispatchEvent(r),Am=null}else return e=Ac(n),e!==null&&Ty(e),t.blockedOn=n,!1;e.shift()}return!0}function Nw(t,e,n){Wu(t)&&n.delete(e)}function FP(){jm=!1,ks!==null&&Wu(ks)&&(ks=null),Cs!==null&&Wu(Cs)&&(Cs=null),As!==null&&Wu(As)&&(As=null),Fl.forEach(Nw),$l.forEach(Nw)}function Ka(t,e){t.blockedOn===e&&(t.blockedOn=null,jm||(jm=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,FP)))}function Ul(t){function e(s){return Ka(s,t)}if(0<du.length){Ka(du[0],t);for(var n=1;n<du.length;n++){var r=du[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ks!==null&&Ka(ks,t),Cs!==null&&Ka(Cs,t),As!==null&&Ka(As,t),Fl.forEach(e),$l.forEach(e),n=0;n<ds.length;n++)r=ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ds.length&&(n=ds[0],n.blockedOn===null);)hb(n),n.blockedOn===null&&ds.shift()}var Oo=Yr.ReactCurrentBatchConfig,xd=!0;function $P(t,e,n,r){var s=Ee,i=Oo.transition;Oo.transition=null;try{Ee=1,Sy(t,e,n,r)}finally{Ee=s,Oo.transition=i}}function UP(t,e,n,r){var s=Ee,i=Oo.transition;Oo.transition=null;try{Ee=4,Sy(t,e,n,r)}finally{Ee=s,Oo.transition=i}}function Sy(t,e,n,r){if(xd){var s=Om(t,e,n,r);if(s===null)gp(t,e,r,_d,n),Rw(t,r);else if(VP(s,t,e,n,r))r.stopPropagation();else if(Rw(t,r),e&4&&-1<LP.indexOf(t)){for(;s!==null;){var i=Ac(s);if(i!==null&&lb(i),i=Om(t,e,n,r),i===null&&gp(t,e,r,_d,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else gp(t,e,r,null,n)}}var _d=null;function Om(t,e,n,r){if(_d=null,t=_y(r),t=ci(t),t!==null)if(e=Ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _d=t,null}function fb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CP()){case Ey:return 1;case sb:return 4;case vd:case AP:return 16;case ib:return 536870912;default:return 16}default:return 16}}var bs=null,Iy=null,qu=null;function pb(){if(qu)return qu;var t,e=Iy,n=e.length,r,s="value"in bs?bs.value:bs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return qu=s.slice(t,1<r?1-r:void 0)}function Ku(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hu(){return!0}function Pw(){return!1}function En(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hu:Pw,this.isPropagationStopped=Pw,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),e}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ky=En(Sa),Cc=$e({},Sa,{view:0,detail:0}),zP=En(Cc),ap,lp,Ga,_h=$e({},Cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(ap=t.screenX-Ga.screenX,lp=t.screenY-Ga.screenY):lp=ap=0,Ga=t),ap)},movementY:function(t){return"movementY"in t?t.movementY:lp}}),Dw=En(_h),BP=$e({},_h,{dataTransfer:0}),HP=En(BP),WP=$e({},Cc,{relatedTarget:0}),cp=En(WP),qP=$e({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),KP=En(qP),GP=$e({},Sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QP=En(GP),YP=$e({},Sa,{data:0}),jw=En(YP),XP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZP[t])?!!e[t]:!1}function Cy(){return e2}var t2=$e({},Cc,{key:function(t){if(t.key){var e=XP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ku(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cy,charCode:function(t){return t.type==="keypress"?Ku(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ku(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n2=En(t2),r2=$e({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ow=En(r2),s2=$e({},Cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cy}),i2=En(s2),o2=$e({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),a2=En(o2),l2=$e({},_h,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),c2=En(l2),u2=[9,13,27,32],Ay=Vr&&"CompositionEvent"in window,yl=null;Vr&&"documentMode"in document&&(yl=document.documentMode);var d2=Vr&&"TextEvent"in window&&!yl,mb=Vr&&(!Ay||yl&&8<yl&&11>=yl),Mw=" ",Lw=!1;function gb(t,e){switch(t){case"keyup":return u2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xo=!1;function h2(t,e){switch(t){case"compositionend":return yb(e);case"keypress":return e.which!==32?null:(Lw=!0,Mw);case"textInput":return t=e.data,t===Mw&&Lw?null:t;default:return null}}function f2(t,e){if(xo)return t==="compositionend"||!Ay&&gb(t,e)?(t=pb(),qu=Iy=bs=null,xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mb&&e.locale!=="ko"?null:e.data;default:return null}}var p2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p2[t.type]:e==="textarea"}function vb(t,e,n,r){QE(r),e=Ed(e,"onChange"),0<e.length&&(n=new ky("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vl=null,zl=null;function m2(t){Ab(t,0)}function Eh(t){var e=bo(t);if(zE(e))return t}function g2(t,e){if(t==="change")return e}var wb=!1;if(Vr){var up;if(Vr){var dp="oninput"in document;if(!dp){var Fw=document.createElement("div");Fw.setAttribute("oninput","return;"),dp=typeof Fw.oninput=="function"}up=dp}else up=!1;wb=up&&(!document.documentMode||9<document.documentMode)}function $w(){vl&&(vl.detachEvent("onpropertychange",xb),zl=vl=null)}function xb(t){if(t.propertyName==="value"&&Eh(zl)){var e=[];vb(e,zl,t,_y(t)),ZE(m2,e)}}function y2(t,e,n){t==="focusin"?($w(),vl=e,zl=n,vl.attachEvent("onpropertychange",xb)):t==="focusout"&&$w()}function v2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eh(zl)}function w2(t,e){if(t==="click")return Eh(e)}function x2(t,e){if(t==="input"||t==="change")return Eh(e)}function _2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:_2;function Bl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ym.call(e,s)||!Wn(t[s],e[s]))return!1}return!0}function Uw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zw(t,e){var n=Uw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uw(n)}}function _b(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_b(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Eb(){for(var t=window,e=md();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=md(t.document)}return e}function Ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function E2(t){var e=Eb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_b(n.ownerDocument.documentElement,n)){if(r!==null&&Ry(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zw(n,i);var o=zw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var b2=Vr&&"documentMode"in document&&11>=document.documentMode,_o=null,Mm=null,wl=null,Lm=!1;function Bw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lm||_o==null||_o!==md(r)||(r=_o,"selectionStart"in r&&Ry(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&Bl(wl,r)||(wl=r,r=Ed(Mm,"onSelect"),0<r.length&&(e=new ky("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_o)))}function fu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Eo={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},hp={},bb={};Vr&&(bb=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function bh(t){if(hp[t])return hp[t];if(!Eo[t])return t;var e=Eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bb)return hp[t]=e[n];return t}var Tb=bh("animationend"),Sb=bh("animationiteration"),Ib=bh("animationstart"),kb=bh("transitionend"),Cb=new Map,Hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(t,e){Cb.set(t,e),qi(e,[t])}for(var fp=0;fp<Hw.length;fp++){var pp=Hw[fp],T2=pp.toLowerCase(),S2=pp[0].toUpperCase()+pp.slice(1);Gs(T2,"on"+S2)}Gs(Tb,"onAnimationEnd");Gs(Sb,"onAnimationIteration");Gs(Ib,"onAnimationStart");Gs("dblclick","onDoubleClick");Gs("focusin","onFocus");Gs("focusout","onBlur");Gs(kb,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I2=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function Ww(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TP(r,e,void 0,t),t.currentTarget=null}function Ab(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ww(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ww(s,a,u),i=l}}}if(yd)throw t=Pm,yd=!1,Pm=null,t}function Ne(t,e){var n=e[zm];n===void 0&&(n=e[zm]=new Set);var r=t+"__bubble";n.has(r)||(Rb(e,t,2,!1),n.add(r))}function mp(t,e,n){var r=0;e&&(r|=4),Rb(n,t,r,e)}var pu="_reactListening"+Math.random().toString(36).slice(2);function Hl(t){if(!t[pu]){t[pu]=!0,LE.forEach(function(n){n!=="selectionchange"&&(I2.has(n)||mp(n,!1,t),mp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pu]||(e[pu]=!0,mp("selectionchange",!1,e))}}function Rb(t,e,n,r){switch(fb(e)){case 1:var s=$P;break;case 4:s=UP;break;default:s=Sy}n=s.bind(null,e,n,t),s=void 0,!Nm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function gp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ci(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ZE(function(){var u=i,d=_y(n),f=[];e:{var h=Cb.get(t);if(h!==void 0){var m=ky,x=t;switch(t){case"keypress":if(Ku(n)===0)break e;case"keydown":case"keyup":m=n2;break;case"focusin":x="focus",m=cp;break;case"focusout":x="blur",m=cp;break;case"beforeblur":case"afterblur":m=cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=HP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=i2;break;case Tb:case Sb:case Ib:m=KP;break;case kb:m=a2;break;case"scroll":m=zP;break;case"wheel":m=c2;break;case"copy":case"cut":case"paste":m=QP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ow}var g=(e&4)!==0,_=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,w;v!==null;){w=v;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,y!==null&&(E=Vl(v,y),E!=null&&g.push(Wl(v,E,w)))),_)break;v=v.return}0<g.length&&(h=new m(h,x,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Am&&(x=n.relatedTarget||n.fromElement)&&(ci(x)||x[Fr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?ci(x):null,x!==null&&(_=Ki(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(g=Dw,E="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=Ow,E="onPointerLeave",y="onPointerEnter",v="pointer"),_=m==null?h:bo(m),w=x==null?h:bo(x),h=new g(E,v+"leave",m,n,d),h.target=_,h.relatedTarget=w,E=null,ci(d)===u&&(g=new g(y,v+"enter",x,n,d),g.target=w,g.relatedTarget=_,E=g),_=E,m&&x)t:{for(g=m,y=x,v=0,w=g;w;w=co(w))v++;for(w=0,E=y;E;E=co(E))w++;for(;0<v-w;)g=co(g),v--;for(;0<w-v;)y=co(y),w--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=co(g),y=co(y)}g=null}else g=null;m!==null&&qw(f,h,m,g,!1),x!==null&&_!==null&&qw(f,_,x,g,!0)}}e:{if(h=u?bo(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var b=g2;else if(Vw(h))if(wb)b=x2;else{b=v2;var S=y2}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=w2);if(b&&(b=b(t,u))){vb(f,b,n,d);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Tm(h,"number",h.value)}switch(S=u?bo(u):window,t){case"focusin":(Vw(S)||S.contentEditable==="true")&&(_o=S,Mm=u,wl=null);break;case"focusout":wl=Mm=_o=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,Bw(f,n,d);break;case"selectionchange":if(b2)break;case"keydown":case"keyup":Bw(f,n,d)}var T;if(Ay)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else xo?gb(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(mb&&n.locale!=="ko"&&(xo||C!=="onCompositionStart"?C==="onCompositionEnd"&&xo&&(T=pb()):(bs=d,Iy="value"in bs?bs.value:bs.textContent,xo=!0)),S=Ed(u,C),0<S.length&&(C=new jw(C,t,null,n,d),f.push({event:C,listeners:S}),T?C.data=T:(T=yb(n),T!==null&&(C.data=T)))),(T=d2?h2(t,n):f2(t,n))&&(u=Ed(u,"onBeforeInput"),0<u.length&&(d=new jw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=T))}Ab(f,e)})}function Wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ed(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vl(t,n),i!=null&&r.unshift(Wl(t,i,s)),i=Vl(t,e),i!=null&&r.push(Wl(t,i,s))),t=t.return}return r}function co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Vl(n,i),l!=null&&o.unshift(Wl(n,l,a))):s||(l=Vl(n,i),l!=null&&o.push(Wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var k2=/\r\n?/g,C2=/\u0000|\uFFFD/g;function Kw(t){return(typeof t=="string"?t:""+t).replace(k2,`
`).replace(C2,"")}function mu(t,e,n){if(e=Kw(e),Kw(t)!==e&&n)throw Error(F(425))}function bd(){}var Vm=null,Fm=null;function $m(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Um=typeof setTimeout=="function"?setTimeout:void 0,A2=typeof clearTimeout=="function"?clearTimeout:void 0,Gw=typeof Promise=="function"?Promise:void 0,R2=typeof queueMicrotask=="function"?queueMicrotask:typeof Gw<"u"?function(t){return Gw.resolve(null).then(t).catch(N2)}:Um;function N2(t){setTimeout(function(){throw t})}function yp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ul(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ul(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),cr="__reactFiber$"+Ia,ql="__reactProps$"+Ia,Fr="__reactContainer$"+Ia,zm="__reactEvents$"+Ia,P2="__reactListeners$"+Ia,D2="__reactHandles$"+Ia;function ci(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qw(t);t!==null;){if(n=t[cr])return n;t=Qw(t)}return e}t=n,n=t.parentNode}return null}function Ac(t){return t=t[cr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Th(t){return t[ql]||null}var Bm=[],To=-1;function Qs(t){return{current:t}}function Oe(t){0>To||(t.current=Bm[To],Bm[To]=null,To--)}function Ie(t,e){To++,Bm[To]=t.current,t.current=e}var $s={},Dt=Qs($s),qt=Qs(!1),ki=$s;function sa(t,e){var n=t.type.contextTypes;if(!n)return $s;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Kt(t){return t=t.childContextTypes,t!=null}function Td(){Oe(qt),Oe(Dt)}function Yw(t,e,n){if(Dt.current!==$s)throw Error(F(168));Ie(Dt,e),Ie(qt,n)}function Nb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(F(108,yP(t)||"Unknown",s));return $e({},n,r)}function Sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$s,ki=Dt.current,Ie(Dt,t),Ie(qt,qt.current),!0}function Xw(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=Nb(t,e,ki),r.__reactInternalMemoizedMergedChildContext=t,Oe(qt),Oe(Dt),Ie(Dt,t)):Oe(qt),Ie(qt,n)}var Nr=null,Sh=!1,vp=!1;function Pb(t){Nr===null?Nr=[t]:Nr.push(t)}function j2(t){Sh=!0,Pb(t)}function Ys(){if(!vp&&Nr!==null){vp=!0;var t=0,e=Ee;try{var n=Nr;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,Sh=!1}catch(s){throw Nr!==null&&(Nr=Nr.slice(t+1)),rb(Ey,Ys),s}finally{Ee=e,vp=!1}}return null}var So=[],Io=0,Id=null,kd=0,kn=[],Cn=0,Ci=null,Pr=1,Dr="";function ii(t,e){So[Io++]=kd,So[Io++]=Id,Id=t,kd=e}function Db(t,e,n){kn[Cn++]=Pr,kn[Cn++]=Dr,kn[Cn++]=Ci,Ci=t;var r=Pr;t=Dr;var s=32-Bn(r)-1;r&=~(1<<s),n+=1;var i=32-Bn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Pr=1<<32-Bn(e)+s|n<<s|r,Dr=i+t}else Pr=1<<i|n<<s|r,Dr=t}function Ny(t){t.return!==null&&(ii(t,1),Db(t,1,0))}function Py(t){for(;t===Id;)Id=So[--Io],So[Io]=null,kd=So[--Io],So[Io]=null;for(;t===Ci;)Ci=kn[--Cn],kn[Cn]=null,Dr=kn[--Cn],kn[Cn]=null,Pr=kn[--Cn],kn[Cn]=null}var fn=null,un=null,Le=!1,zn=null;function jb(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,un=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ci!==null?{id:Pr,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,un=null,!0):!1;default:return!1}}function Hm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wm(t){if(Le){var e=un;if(e){var n=e;if(!Jw(t,e)){if(Hm(t))throw Error(F(418));e=Rs(n.nextSibling);var r=fn;e&&Jw(t,e)?jb(r,n):(t.flags=t.flags&-4097|2,Le=!1,fn=t)}}else{if(Hm(t))throw Error(F(418));t.flags=t.flags&-4097|2,Le=!1,fn=t}}}function Zw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function gu(t){if(t!==fn)return!1;if(!Le)return Zw(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$m(t.type,t.memoizedProps)),e&&(e=un)){if(Hm(t))throw Ob(),Error(F(418));for(;e;)jb(t,e),e=Rs(e.nextSibling)}if(Zw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=Rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=fn?Rs(t.stateNode.nextSibling):null;return!0}function Ob(){for(var t=un;t;)t=Rs(t.nextSibling)}function ia(){un=fn=null,Le=!1}function Dy(t){zn===null?zn=[t]:zn.push(t)}var O2=Yr.ReactCurrentBatchConfig;function Qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function yu(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ex(t){var e=t._init;return e(t._payload)}function Mb(t){function e(y,v){if(t){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=js(y,v),y.index=0,y.sibling=null,y}function i(y,v,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,w,E){return v===null||v.tag!==6?(v=Sp(w,y.mode,E),v.return=y,v):(v=s(v,w),v.return=y,v)}function l(y,v,w,E){var b=w.type;return b===wo?d(y,v,w.props.children,E,w.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===cs&&ex(b)===v.type)?(E=s(v,w.props),E.ref=Qa(y,v,w),E.return=y,E):(E=ed(w.type,w.key,w.props,null,y.mode,E),E.ref=Qa(y,v,w),E.return=y,E)}function u(y,v,w,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Ip(w,y.mode,E),v.return=y,v):(v=s(v,w.children||[]),v.return=y,v)}function d(y,v,w,E,b){return v===null||v.tag!==7?(v=Ei(w,y.mode,E,b),v.return=y,v):(v=s(v,w),v.return=y,v)}function f(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Sp(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ou:return w=ed(v.type,v.key,v.props,null,y.mode,w),w.ref=Qa(y,null,v),w.return=y,w;case vo:return v=Ip(v,y.mode,w),v.return=y,v;case cs:var E=v._init;return f(y,E(v._payload),w)}if(il(v)||Ha(v))return v=Ei(v,y.mode,w,null),v.return=y,v;yu(y,v)}return null}function h(y,v,w,E){var b=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(y,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ou:return w.key===b?l(y,v,w,E):null;case vo:return w.key===b?u(y,v,w,E):null;case cs:return b=w._init,h(y,v,b(w._payload),E)}if(il(w)||Ha(w))return b!==null?null:d(y,v,w,E,null);yu(y,w)}return null}function m(y,v,w,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(w)||null,a(v,y,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ou:return y=y.get(E.key===null?w:E.key)||null,l(v,y,E,b);case vo:return y=y.get(E.key===null?w:E.key)||null,u(v,y,E,b);case cs:var S=E._init;return m(y,v,w,S(E._payload),b)}if(il(E)||Ha(E))return y=y.get(w)||null,d(v,y,E,b,null);yu(v,E)}return null}function x(y,v,w,E){for(var b=null,S=null,T=v,C=v=0,P=null;T!==null&&C<w.length;C++){T.index>C?(P=T,T=null):P=T.sibling;var A=h(y,T,w[C],E);if(A===null){T===null&&(T=P);break}t&&T&&A.alternate===null&&e(y,T),v=i(A,v,C),S===null?b=A:S.sibling=A,S=A,T=P}if(C===w.length)return n(y,T),Le&&ii(y,C),b;if(T===null){for(;C<w.length;C++)T=f(y,w[C],E),T!==null&&(v=i(T,v,C),S===null?b=T:S.sibling=T,S=T);return Le&&ii(y,C),b}for(T=r(y,T);C<w.length;C++)P=m(T,y,C,w[C],E),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?C:P.key),v=i(P,v,C),S===null?b=P:S.sibling=P,S=P);return t&&T.forEach(function(R){return e(y,R)}),Le&&ii(y,C),b}function g(y,v,w,E){var b=Ha(w);if(typeof b!="function")throw Error(F(150));if(w=b.call(w),w==null)throw Error(F(151));for(var S=b=null,T=v,C=v=0,P=null,A=w.next();T!==null&&!A.done;C++,A=w.next()){T.index>C?(P=T,T=null):P=T.sibling;var R=h(y,T,A.value,E);if(R===null){T===null&&(T=P);break}t&&T&&R.alternate===null&&e(y,T),v=i(R,v,C),S===null?b=R:S.sibling=R,S=R,T=P}if(A.done)return n(y,T),Le&&ii(y,C),b;if(T===null){for(;!A.done;C++,A=w.next())A=f(y,A.value,E),A!==null&&(v=i(A,v,C),S===null?b=A:S.sibling=A,S=A);return Le&&ii(y,C),b}for(T=r(y,T);!A.done;C++,A=w.next())A=m(T,y,C,A.value,E),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?C:A.key),v=i(A,v,C),S===null?b=A:S.sibling=A,S=A);return t&&T.forEach(function(N){return e(y,N)}),Le&&ii(y,C),b}function _(y,v,w,E){if(typeof w=="object"&&w!==null&&w.type===wo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ou:e:{for(var b=w.key,S=v;S!==null;){if(S.key===b){if(b=w.type,b===wo){if(S.tag===7){n(y,S.sibling),v=s(S,w.props.children),v.return=y,y=v;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===cs&&ex(b)===S.type){n(y,S.sibling),v=s(S,w.props),v.ref=Qa(y,S,w),v.return=y,y=v;break e}n(y,S);break}else e(y,S);S=S.sibling}w.type===wo?(v=Ei(w.props.children,y.mode,E,w.key),v.return=y,y=v):(E=ed(w.type,w.key,w.props,null,y.mode,E),E.ref=Qa(y,v,w),E.return=y,y=E)}return o(y);case vo:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),v=s(v,w.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Ip(w,y.mode,E),v.return=y,y=v}return o(y);case cs:return S=w._init,_(y,v,S(w._payload),E)}if(il(w))return x(y,v,w,E);if(Ha(w))return g(y,v,w,E);yu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,w),v.return=y,y=v):(n(y,v),v=Sp(w,y.mode,E),v.return=y,y=v),o(y)):n(y,v)}return _}var oa=Mb(!0),Lb=Mb(!1),Cd=Qs(null),Ad=null,ko=null,jy=null;function Oy(){jy=ko=Ad=null}function My(t){var e=Cd.current;Oe(Cd),t._currentValue=e}function qm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mo(t,e){Ad=t,jy=ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(jy!==t)if(t={context:t,memoizedValue:e,next:null},ko===null){if(Ad===null)throw Error(F(308));ko=t,Ad.dependencies={lanes:0,firstContext:t}}else ko=ko.next=t;return e}var ui=null;function Ly(t){ui===null?ui=[t]:ui.push(t)}function Vb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ly(e)):(n.next=s.next,s.next=n),e.interleaved=n,$r(t,r)}function $r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var us=!1;function Vy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,$r(t,n)}return s=r.interleaved,s===null?(e.next=e,Ly(r)):(e.next=s.next,s.next=e),r.interleaved=e,$r(t,n)}function Gu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,by(t,n)}}function tx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rd(t,e,n,r){var s=t.updateQueue;us=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,g=a;switch(h=e,m=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=$e({},f,h);break e;case 2:us=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ri|=o,t.lanes=o,t.memoizedState=f}}function nx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var Rc={},gr=Qs(Rc),Kl=Qs(Rc),Gl=Qs(Rc);function di(t){if(t===Rc)throw Error(F(174));return t}function Fy(t,e){switch(Ie(Gl,e),Ie(Kl,t),Ie(gr,Rc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Im(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Im(e,t)}Oe(gr),Ie(gr,e)}function aa(){Oe(gr),Oe(Kl),Oe(Gl)}function $b(t){di(Gl.current);var e=di(gr.current),n=Im(e,t.type);e!==n&&(Ie(Kl,t),Ie(gr,n))}function $y(t){Kl.current===t&&(Oe(gr),Oe(Kl))}var Ve=Qs(0);function Nd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wp=[];function Uy(){for(var t=0;t<wp.length;t++)wp[t]._workInProgressVersionPrimary=null;wp.length=0}var Qu=Yr.ReactCurrentDispatcher,xp=Yr.ReactCurrentBatchConfig,Ai=0,Fe=null,tt=null,it=null,Pd=!1,xl=!1,Ql=0,M2=0;function _t(){throw Error(F(321))}function zy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function By(t,e,n,r,s,i){if(Ai=i,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qu.current=t===null||t.memoizedState===null?$2:U2,t=n(r,s),xl){i=0;do{if(xl=!1,Ql=0,25<=i)throw Error(F(301));i+=1,it=tt=null,e.updateQueue=null,Qu.current=z2,t=n(r,s)}while(xl)}if(Qu.current=Dd,e=tt!==null&&tt.next!==null,Ai=0,it=tt=Fe=null,Pd=!1,e)throw Error(F(300));return t}function Hy(){var t=Ql!==0;return Ql=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Fe.memoizedState=it=t:it=it.next=t,it}function jn(){if(tt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=it===null?Fe.memoizedState:it.next;if(e!==null)it=e,tt=t;else{if(t===null)throw Error(F(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},it===null?Fe.memoizedState=it=t:it=it.next=t}return it}function Yl(t,e){return typeof e=="function"?e(t):e}function _p(t){var e=jn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Ai&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Fe.lanes|=d,Ri|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Wn(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Fe.lanes|=i,Ri|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ep(t){var e=jn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Wn(i,e.memoizedState)||(Wt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ub(){}function zb(t,e){var n=Fe,r=jn(),s=e(),i=!Wn(r.memoizedState,s);if(i&&(r.memoizedState=s,Wt=!0),r=r.queue,Wy(Wb.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,Xl(9,Hb.bind(null,n,r,s,e),void 0,null),ot===null)throw Error(F(349));Ai&30||Bb(n,e,s)}return s}function Bb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Hb(t,e,n,r){e.value=n,e.getSnapshot=r,qb(e)&&Kb(t)}function Wb(t,e,n){return n(function(){qb(e)&&Kb(t)})}function qb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function Kb(t){var e=$r(t,1);e!==null&&Hn(e,t,1,-1)}function rx(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:t},e.queue=t,t=t.dispatch=F2.bind(null,Fe,t),[e.memoizedState,t]}function Xl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gb(){return jn().memoizedState}function Yu(t,e,n,r){var s=ir();Fe.flags|=t,s.memoizedState=Xl(1|e,n,void 0,r===void 0?null:r)}function Ih(t,e,n,r){var s=jn();r=r===void 0?null:r;var i=void 0;if(tt!==null){var o=tt.memoizedState;if(i=o.destroy,r!==null&&zy(r,o.deps)){s.memoizedState=Xl(e,n,i,r);return}}Fe.flags|=t,s.memoizedState=Xl(1|e,n,i,r)}function sx(t,e){return Yu(8390656,8,t,e)}function Wy(t,e){return Ih(2048,8,t,e)}function Qb(t,e){return Ih(4,2,t,e)}function Yb(t,e){return Ih(4,4,t,e)}function Xb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Jb(t,e,n){return n=n!=null?n.concat([t]):null,Ih(4,4,Xb.bind(null,e,t),n)}function qy(){}function Zb(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function eT(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tT(t,e,n){return Ai&21?(Wn(n,e)||(n=ob(),Fe.lanes|=n,Ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function L2(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=xp.transition;xp.transition={};try{t(!1),e()}finally{Ee=n,xp.transition=r}}function nT(){return jn().memoizedState}function V2(t,e,n){var r=Ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rT(t))sT(e,n);else if(n=Vb(t,e,n,r),n!==null){var s=$t();Hn(n,t,r,s),iT(n,e,r)}}function F2(t,e,n){var r=Ds(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rT(t))sT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Wn(a,o)){var l=e.interleaved;l===null?(s.next=s,Ly(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Vb(t,e,s,r),n!==null&&(s=$t(),Hn(n,t,r,s),iT(n,e,r))}}function rT(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function sT(t,e){xl=Pd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,by(t,n)}}var Dd={readContext:Dn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},$2={readContext:Dn,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:sx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yu(4194308,4,Xb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yu(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=V2.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:rx,useDebugValue:qy,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=rx(!1),e=t[0];return t=L2.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,s=ir();if(Le){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),ot===null)throw Error(F(349));Ai&30||Bb(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,sx(Wb.bind(null,r,i,t),[t]),r.flags|=2048,Xl(9,Hb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ir(),e=ot.identifierPrefix;if(Le){var n=Dr,r=Pr;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ql++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},U2={readContext:Dn,useCallback:Zb,useContext:Dn,useEffect:Wy,useImperativeHandle:Jb,useInsertionEffect:Qb,useLayoutEffect:Yb,useMemo:eT,useReducer:_p,useRef:Gb,useState:function(){return _p(Yl)},useDebugValue:qy,useDeferredValue:function(t){var e=jn();return tT(e,tt.memoizedState,t)},useTransition:function(){var t=_p(Yl)[0],e=jn().memoizedState;return[t,e]},useMutableSource:Ub,useSyncExternalStore:zb,useId:nT,unstable_isNewReconciler:!1},z2={readContext:Dn,useCallback:Zb,useContext:Dn,useEffect:Wy,useImperativeHandle:Jb,useInsertionEffect:Qb,useLayoutEffect:Yb,useMemo:eT,useReducer:Ep,useRef:Gb,useState:function(){return Ep(Yl)},useDebugValue:qy,useDeferredValue:function(t){var e=jn();return tt===null?e.memoizedState=t:tT(e,tt.memoizedState,t)},useTransition:function(){var t=Ep(Yl)[0],e=jn().memoizedState;return[t,e]},useMutableSource:Ub,useSyncExternalStore:zb,useId:nT,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Km(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kh={isMounted:function(t){return(t=t._reactInternals)?Ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$t(),s=Ds(t),i=Lr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(Hn(e,t,s,r),Gu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$t(),s=Ds(t),i=Lr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(Hn(e,t,s,r),Gu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$t(),r=Ds(t),s=Lr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ns(t,s,r),e!==null&&(Hn(e,t,r,n),Gu(e,t,r))}};function ix(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Bl(n,r)||!Bl(s,i):!0}function oT(t,e,n){var r=!1,s=$s,i=e.contextType;return typeof i=="object"&&i!==null?i=Dn(i):(s=Kt(e)?ki:Dt.current,r=e.contextTypes,i=(r=r!=null)?sa(t,s):$s),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ox(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kh.enqueueReplaceState(e,e.state,null)}function Gm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Vy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Dn(i):(i=Kt(e)?ki:Dt.current,s.context=sa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Km(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&kh.enqueueReplaceState(s,s.state,null),Rd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function la(t,e){try{var n="",r=e;do n+=gP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var B2=typeof WeakMap=="function"?WeakMap:Map;function aT(t,e,n){n=Lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Od||(Od=!0,ig=r),Qm(t,e)},n}function lT(t,e,n){n=Lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Qm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Qm(t,e),typeof r!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ax(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new B2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=rD.bind(null,t,e,n),e.then(t,t))}function lx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lr(-1,1),e.tag=2,Ns(n,e,1))),n.lanes|=1),t)}var H2=Yr.ReactCurrentOwner,Wt=!1;function Lt(t,e,n,r){e.child=t===null?Lb(e,null,n,r):oa(e,t.child,n,r)}function ux(t,e,n,r,s){n=n.render;var i=e.ref;return Mo(e,s),r=By(t,e,n,r,i,s),n=Hy(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ur(t,e,s)):(Le&&n&&Ny(e),e.flags|=1,Lt(t,e,r,s),e.child)}function dx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ev(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,cT(t,e,i,r,s)):(t=ed(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(o,r)&&t.ref===e.ref)return Ur(t,e,s)}return e.flags|=1,t=js(i,r),t.ref=e.ref,t.return=e,e.child=t}function cT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Bl(i,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,Ur(t,e,s)}return Ym(t,e,n,r,s)}function uT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Ao,an),an|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Ao,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ie(Ao,an),an|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ie(Ao,an),an|=r;return Lt(t,e,s,n),e.child}function dT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ym(t,e,n,r,s){var i=Kt(n)?ki:Dt.current;return i=sa(e,i),Mo(e,s),n=By(t,e,n,r,i,s),r=Hy(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ur(t,e,s)):(Le&&r&&Ny(e),e.flags|=1,Lt(t,e,n,s),e.child)}function hx(t,e,n,r,s){if(Kt(n)){var i=!0;Sd(e)}else i=!1;if(Mo(e,s),e.stateNode===null)Xu(t,e),oT(e,n,r),Gm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dn(u):(u=Kt(n)?ki:Dt.current,u=sa(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ox(e,o,r,u),us=!1;var h=e.memoizedState;o.state=h,Rd(e,r,o,s),l=e.memoizedState,a!==r||h!==l||qt.current||us?(typeof d=="function"&&(Km(e,n,d,r),l=e.memoizedState),(a=us||ix(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Fb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Vn(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=Kt(n)?ki:Dt.current,l=sa(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&ox(e,o,r,l),us=!1,h=e.memoizedState,o.state=h,Rd(e,r,o,s);var x=e.memoizedState;a!==f||h!==x||qt.current||us?(typeof m=="function"&&(Km(e,n,m,r),x=e.memoizedState),(u=us||ix(e,n,u,r,h,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Xm(t,e,n,r,i,s)}function Xm(t,e,n,r,s,i){dT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Xw(e,n,!1),Ur(t,e,i);r=e.stateNode,H2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=oa(e,t.child,null,i),e.child=oa(e,null,a,i)):Lt(t,e,a,i),e.memoizedState=r.state,s&&Xw(e,n,!0),e.child}function hT(t){var e=t.stateNode;e.pendingContext?Yw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yw(t,e.context,!1),Fy(t,e.containerInfo)}function fx(t,e,n,r,s){return ia(),Dy(s),e.flags|=256,Lt(t,e,n,r),e.child}var Jm={dehydrated:null,treeContext:null,retryLane:0};function Zm(t){return{baseLanes:t,cachePool:null,transitions:null}}function fT(t,e,n){var r=e.pendingProps,s=Ve.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ie(Ve,s&1),t===null)return Wm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Rh(o,r,0,null),t=Ei(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Zm(n),e.memoizedState=Jm,t):Ky(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return W2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=js(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=js(a,i):(i=Ei(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Zm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Jm,r}return i=t.child,t=i.sibling,r=js(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ky(t,e){return e=Rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vu(t,e,n,r){return r!==null&&Dy(r),oa(e,t.child,null,n),t=Ky(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function W2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=bp(Error(F(422))),vu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Rh({mode:"visible",children:r.children},s,0,null),i=Ei(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&oa(e,t.child,null,o),e.child.memoizedState=Zm(o),e.memoizedState=Jm,i);if(!(e.mode&1))return vu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(F(419)),r=bp(i,r,void 0),vu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wt||a){if(r=ot,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,$r(t,s),Hn(r,t,s,-1))}return Zy(),r=bp(Error(F(421))),vu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,un=Rs(s.nextSibling),fn=e,Le=!0,zn=null,t!==null&&(kn[Cn++]=Pr,kn[Cn++]=Dr,kn[Cn++]=Ci,Pr=t.id,Dr=t.overflow,Ci=e),e=Ky(e,r.children),e.flags|=4096,e)}function px(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qm(t.return,e,n)}function Tp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function pT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Lt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&px(t,n,e);else if(t.tag===19)px(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Nd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Tp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Nd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Tp(e,!0,n,null,i);break;case"together":Tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=js(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=js(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function q2(t,e,n){switch(e.tag){case 3:hT(e),ia();break;case 5:$b(e);break;case 1:Kt(e.type)&&Sd(e);break;case 4:Fy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ie(Cd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?fT(t,e,n):(Ie(Ve,Ve.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);Ie(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,uT(t,e,n)}return Ur(t,e,n)}var mT,eg,gT,yT;mT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eg=function(){};gT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,di(gr.current);var i=null;switch(n){case"input":s=Em(t,s),r=Em(t,r),i=[];break;case"select":s=$e({},s,{value:void 0}),r=$e({},r,{value:void 0}),i=[];break;case"textarea":s=Sm(t,s),r=Sm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bd)}km(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ml.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ml.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};yT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ya(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function K2(t,e,n){var r=e.pendingProps;switch(Py(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Kt(e.type)&&Td(),Et(e),null;case 3:return r=e.stateNode,aa(),Oe(qt),Oe(Dt),Uy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(lg(zn),zn=null))),eg(t,e),Et(e),null;case 5:$y(e);var s=di(Gl.current);if(n=e.type,t!==null&&e.stateNode!=null)gT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Et(e),null}if(t=di(gr.current),gu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[cr]=e,r[ql]=i,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(s=0;s<al.length;s++)Ne(al[s],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":bw(r,i),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",r);break;case"textarea":Sw(r,i),Ne("invalid",r)}km(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&mu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&mu(r.textContent,a,t),s=["children",""+a]):Ml.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":au(r),Tw(r,i,!0);break;case"textarea":au(r),Iw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cr]=e,t[ql]=r,mT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cm(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),s=r;break;case"iframe":case"object":case"embed":Ne("load",t),s=r;break;case"video":case"audio":for(s=0;s<al.length;s++)Ne(al[s],t);s=r;break;case"source":Ne("error",t),s=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),s=r;break;case"details":Ne("toggle",t),s=r;break;case"input":bw(t,r),s=Em(t,r),Ne("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=$e({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":Sw(t,r),s=Sm(t,r),Ne("invalid",t);break;default:s=r}km(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?GE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ll(t,l):typeof l=="number"&&Ll(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ml.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ne("scroll",t):l!=null&&yy(t,i,l,o))}switch(n){case"input":au(t),Tw(t,r,!1);break;case"textarea":au(t),Iw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Po(t,!!r.multiple,i,!1):r.defaultValue!=null&&Po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=bd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)yT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=di(Gl.current),di(gr.current),gu(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(i=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:mu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return Et(e),null;case 13:if(Oe(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&un!==null&&e.mode&1&&!(e.flags&128))Ob(),ia(),e.flags|=98560,i=!1;else if(i=gu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(F(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[cr]=e}else ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),i=!1}else zn!==null&&(lg(zn),zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?nt===0&&(nt=3):Zy())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return aa(),eg(t,e),t===null&&Hl(e.stateNode.containerInfo),Et(e),null;case 10:return My(e.type._context),Et(e),null;case 17:return Kt(e.type)&&Td(),Et(e),null;case 19:if(Oe(Ve),i=e.memoizedState,i===null)return Et(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ya(i,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Nd(t),o!==null){for(e.flags|=128,Ya(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Ve,Ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ke()>ca&&(e.flags|=128,r=!0,Ya(i,!1),e.lanes=4194304)}else{if(!r)if(t=Nd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ya(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Le)return Et(e),null}else 2*Ke()-i.renderingStartTime>ca&&n!==1073741824&&(e.flags|=128,r=!0,Ya(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ke(),e.sibling=null,n=Ve.current,Ie(Ve,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Jy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function G2(t,e){switch(Py(e),e.tag){case 1:return Kt(e.type)&&Td(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return aa(),Oe(qt),Oe(Dt),Uy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $y(e),null;case 13:if(Oe(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Ve),null;case 4:return aa(),null;case 10:return My(e.type._context),null;case 22:case 23:return Jy(),null;case 24:return null;default:return null}}var wu=!1,kt=!1,Q2=typeof WeakSet=="function"?WeakSet:Set,K=null;function Co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function tg(t,e,n){try{n()}catch(r){Be(t,e,r)}}var mx=!1;function Y2(t,e){if(Vm=xd,t=Eb(),Ry(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fm={focusedElem:t,selectionRange:n},xd=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,_=x.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Vn(e.type,g),_);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(E){Be(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return x=mx,mx=!1,x}function _l(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&tg(e,n,i)}s=s.next}while(s!==r)}}function Ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ng(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vT(t){var e=t.alternate;e!==null&&(t.alternate=null,vT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[ql],delete e[zm],delete e[P2],delete e[D2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wT(t){return t.tag===5||t.tag===3||t.tag===4}function gx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bd));else if(r!==4&&(t=t.child,t!==null))for(rg(t,e,n),t=t.sibling;t!==null;)rg(t,e,n),t=t.sibling}function sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sg(t,e,n),t=t.sibling;t!==null;)sg(t,e,n),t=t.sibling}var dt=null,Un=!1;function rs(t,e,n){for(n=n.child;n!==null;)xT(t,e,n),n=n.sibling}function xT(t,e,n){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(xh,n)}catch{}switch(n.tag){case 5:kt||Co(n,e);case 6:var r=dt,s=Un;dt=null,rs(t,e,n),dt=r,Un=s,dt!==null&&(Un?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(Un?(t=dt,n=n.stateNode,t.nodeType===8?yp(t.parentNode,n):t.nodeType===1&&yp(t,n),Ul(t)):yp(dt,n.stateNode));break;case 4:r=dt,s=Un,dt=n.stateNode.containerInfo,Un=!0,rs(t,e,n),dt=r,Un=s;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tg(n,e,o),s=s.next}while(s!==r)}rs(t,e,n);break;case 1:if(!kt&&(Co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Be(n,e,a)}rs(t,e,n);break;case 21:rs(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,rs(t,e,n),kt=r):rs(t,e,n);break;default:rs(t,e,n)}}function yx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Q2),e.forEach(function(r){var s=iD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Un=!1;break e;case 3:dt=a.stateNode.containerInfo,Un=!0;break e;case 4:dt=a.stateNode.containerInfo,Un=!0;break e}a=a.return}if(dt===null)throw Error(F(160));xT(i,o,s),dt=null,Un=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Be(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_T(e,t),e=e.sibling}function _T(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),sr(t),r&4){try{_l(3,t,t.return),Ch(3,t)}catch(g){Be(t,t.return,g)}try{_l(5,t,t.return)}catch(g){Be(t,t.return,g)}}break;case 1:Ln(e,t),sr(t),r&512&&n!==null&&Co(n,n.return);break;case 5:if(Ln(e,t),sr(t),r&512&&n!==null&&Co(n,n.return),t.flags&32){var s=t.stateNode;try{Ll(s,"")}catch(g){Be(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&BE(s,i),Cm(a,o);var u=Cm(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?GE(s,f):d==="dangerouslySetInnerHTML"?qE(s,f):d==="children"?Ll(s,f):yy(s,d,f,u)}switch(a){case"input":bm(s,i);break;case"textarea":HE(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Po(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Po(s,!!i.multiple,i.defaultValue,!0):Po(s,!!i.multiple,i.multiple?[]:"",!1))}s[ql]=i}catch(g){Be(t,t.return,g)}}break;case 6:if(Ln(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(F(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Be(t,t.return,g)}}break;case 3:if(Ln(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ul(e.containerInfo)}catch(g){Be(t,t.return,g)}break;case 4:Ln(e,t),sr(t);break;case 13:Ln(e,t),sr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yy=Ke())),r&4&&yx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(u=kt)||d,Ln(e,t),kt=u):Ln(e,t),sr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(f=K=d;K!==null;){switch(h=K,m=h.child,h.tag){case 0:case 11:case 14:case 15:_l(4,h,h.return);break;case 1:Co(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){Be(r,n,g)}}break;case 5:Co(h,h.return);break;case 22:if(h.memoizedState!==null){wx(f);continue}}m!==null?(m.return=h,K=m):wx(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=KE("display",o))}catch(g){Be(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Be(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ln(e,t),sr(t),r&4&&yx(t);break;case 21:break;default:Ln(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wT(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ll(s,""),r.flags&=-33);var i=gx(t);sg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gx(t);rg(t,a,o);break;default:throw Error(F(161))}}catch(l){Be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function X2(t,e,n){K=t,ET(t)}function ET(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||wu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||kt;a=wu;var u=kt;if(wu=o,(kt=l)&&!u)for(K=s;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?xx(s):l!==null?(l.return=o,K=l):xx(s);for(;i!==null;)K=i,ET(i),i=i.sibling;K=s,wu=a,kt=u}vx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):vx(t)}}function vx(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||Ch(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&nx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ul(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}kt||e.flags&512&&ng(e)}catch(h){Be(e,e.return,h)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function wx(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function xx(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ch(4,e)}catch(l){Be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Be(e,s,l)}}var i=e.return;try{ng(e)}catch(l){Be(e,i,l)}break;case 5:var o=e.return;try{ng(e)}catch(l){Be(e,o,l)}}}catch(l){Be(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var J2=Math.ceil,jd=Yr.ReactCurrentDispatcher,Gy=Yr.ReactCurrentOwner,Nn=Yr.ReactCurrentBatchConfig,me=0,ot=null,Ye=null,mt=0,an=0,Ao=Qs(0),nt=0,Jl=null,Ri=0,Ah=0,Qy=0,El=null,Bt=null,Yy=0,ca=1/0,Rr=null,Od=!1,ig=null,Ps=null,xu=!1,Ts=null,Md=0,bl=0,og=null,Ju=-1,Zu=0;function $t(){return me&6?Ke():Ju!==-1?Ju:Ju=Ke()}function Ds(t){return t.mode&1?me&2&&mt!==0?mt&-mt:O2.transition!==null?(Zu===0&&(Zu=ob()),Zu):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:fb(t.type)),t):1}function Hn(t,e,n,r){if(50<bl)throw bl=0,og=null,Error(F(185));kc(t,n,r),(!(me&2)||t!==ot)&&(t===ot&&(!(me&2)&&(Ah|=n),nt===4&&hs(t,mt)),Gt(t,r),n===1&&me===0&&!(e.mode&1)&&(ca=Ke()+500,Sh&&Ys()))}function Gt(t,e){var n=t.callbackNode;OP(t,e);var r=wd(t,t===ot?mt:0);if(r===0)n!==null&&Aw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Aw(n),e===1)t.tag===0?j2(_x.bind(null,t)):Pb(_x.bind(null,t)),R2(function(){!(me&6)&&Ys()}),n=null;else{switch(ab(r)){case 1:n=Ey;break;case 4:n=sb;break;case 16:n=vd;break;case 536870912:n=ib;break;default:n=vd}n=RT(n,bT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bT(t,e){if(Ju=-1,Zu=0,me&6)throw Error(F(327));var n=t.callbackNode;if(Lo()&&t.callbackNode!==n)return null;var r=wd(t,t===ot?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ld(t,r);else{e=r;var s=me;me|=2;var i=ST();(ot!==t||mt!==e)&&(Rr=null,ca=Ke()+500,_i(t,e));do try{tD();break}catch(a){TT(t,a)}while(!0);Oy(),jd.current=i,me=s,Ye!==null?e=0:(ot=null,mt=0,e=nt)}if(e!==0){if(e===2&&(s=Dm(t),s!==0&&(r=s,e=ag(t,s))),e===1)throw n=Jl,_i(t,0),hs(t,r),Gt(t,Ke()),n;if(e===6)hs(t,r);else{if(s=t.current.alternate,!(r&30)&&!Z2(s)&&(e=Ld(t,r),e===2&&(i=Dm(t),i!==0&&(r=i,e=ag(t,i))),e===1))throw n=Jl,_i(t,0),hs(t,r),Gt(t,Ke()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:oi(t,Bt,Rr);break;case 3:if(hs(t,r),(r&130023424)===r&&(e=Yy+500-Ke(),10<e)){if(wd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){$t(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Um(oi.bind(null,t,Bt,Rr),e);break}oi(t,Bt,Rr);break;case 4:if(hs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Bn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J2(r/1960))-r,10<r){t.timeoutHandle=Um(oi.bind(null,t,Bt,Rr),r);break}oi(t,Bt,Rr);break;case 5:oi(t,Bt,Rr);break;default:throw Error(F(329))}}}return Gt(t,Ke()),t.callbackNode===n?bT.bind(null,t):null}function ag(t,e){var n=El;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=Ld(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&lg(e)),t}function lg(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function Z2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hs(t,e){for(e&=~Qy,e&=~Ah,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function _x(t){if(me&6)throw Error(F(327));Lo();var e=wd(t,0);if(!(e&1))return Gt(t,Ke()),null;var n=Ld(t,e);if(t.tag!==0&&n===2){var r=Dm(t);r!==0&&(e=r,n=ag(t,r))}if(n===1)throw n=Jl,_i(t,0),hs(t,e),Gt(t,Ke()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oi(t,Bt,Rr),Gt(t,Ke()),null}function Xy(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(ca=Ke()+500,Sh&&Ys())}}function Ni(t){Ts!==null&&Ts.tag===0&&!(me&6)&&Lo();var e=me;me|=1;var n=Nn.transition,r=Ee;try{if(Nn.transition=null,Ee=1,t)return t()}finally{Ee=r,Nn.transition=n,me=e,!(me&6)&&Ys()}}function Jy(){an=Ao.current,Oe(Ao)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,A2(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Py(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Td();break;case 3:aa(),Oe(qt),Oe(Dt),Uy();break;case 5:$y(r);break;case 4:aa();break;case 13:Oe(Ve);break;case 19:Oe(Ve);break;case 10:My(r.type._context);break;case 22:case 23:Jy()}n=n.return}if(ot=t,Ye=t=js(t.current,null),mt=an=e,nt=0,Jl=null,Qy=Ah=Ri=0,Bt=El=null,ui!==null){for(e=0;e<ui.length;e++)if(n=ui[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ui=null}return t}function TT(t,e){do{var n=Ye;try{if(Oy(),Qu.current=Dd,Pd){for(var r=Fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pd=!1}if(Ai=0,it=tt=Fe=null,xl=!1,Ql=0,Gy.current=null,n===null||n.return===null){nt=1,Jl=e,Ye=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=lx(o);if(m!==null){m.flags&=-257,cx(m,o,a,i,e),m.mode&1&&ax(i,u,e),e=m,l=u;var x=e.updateQueue;if(x===null){var g=new Set;g.add(l),e.updateQueue=g}else x.add(l);break e}else{if(!(e&1)){ax(i,u,e),Zy();break e}l=Error(F(426))}}else if(Le&&a.mode&1){var _=lx(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),cx(_,o,a,i,e),Dy(la(l,a));break e}}i=l=la(l,a),nt!==4&&(nt=2),El===null?El=[i]:El.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=aT(i,l,e);tx(i,y);break e;case 1:a=l;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ps===null||!Ps.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=lT(i,a,e);tx(i,E);break e}}i=i.return}while(i!==null)}kT(n)}catch(b){e=b,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function ST(){var t=jd.current;return jd.current=Dd,t===null?Dd:t}function Zy(){(nt===0||nt===3||nt===2)&&(nt=4),ot===null||!(Ri&268435455)&&!(Ah&268435455)||hs(ot,mt)}function Ld(t,e){var n=me;me|=2;var r=ST();(ot!==t||mt!==e)&&(Rr=null,_i(t,e));do try{eD();break}catch(s){TT(t,s)}while(!0);if(Oy(),me=n,jd.current=r,Ye!==null)throw Error(F(261));return ot=null,mt=0,nt}function eD(){for(;Ye!==null;)IT(Ye)}function tD(){for(;Ye!==null&&!IP();)IT(Ye)}function IT(t){var e=AT(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?kT(t):Ye=e,Gy.current=null}function kT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=G2(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Ye=null;return}}else if(n=K2(n,e,an),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);nt===0&&(nt=5)}function oi(t,e,n){var r=Ee,s=Nn.transition;try{Nn.transition=null,Ee=1,nD(t,e,n,r)}finally{Nn.transition=s,Ee=r}return null}function nD(t,e,n,r){do Lo();while(Ts!==null);if(me&6)throw Error(F(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(MP(t,i),t===ot&&(Ye=ot=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xu||(xu=!0,RT(vd,function(){return Lo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Nn.transition,Nn.transition=null;var o=Ee;Ee=1;var a=me;me|=4,Gy.current=null,Y2(t,n),_T(n,t),E2(Fm),xd=!!Vm,Fm=Vm=null,t.current=n,X2(n),kP(),me=a,Ee=o,Nn.transition=i}else t.current=n;if(xu&&(xu=!1,Ts=t,Md=s),i=t.pendingLanes,i===0&&(Ps=null),RP(n.stateNode),Gt(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Od)throw Od=!1,t=ig,ig=null,t;return Md&1&&t.tag!==0&&Lo(),i=t.pendingLanes,i&1?t===og?bl++:(bl=0,og=t):bl=0,Ys(),null}function Lo(){if(Ts!==null){var t=ab(Md),e=Nn.transition,n=Ee;try{if(Nn.transition=null,Ee=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,Md=0,me&6)throw Error(F(331));var s=me;for(me|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(K=u;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:_l(8,d,i)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var h=d.sibling,m=d.return;if(vT(d),d===u){K=null;break}if(h!==null){h.return=m,K=h;break}K=m}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_l(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,K=y;break e}K=i.return}}var v=t.current;for(K=v;K!==null;){o=K;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,K=w;else e:for(o=v;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ch(9,a)}}catch(b){Be(a,a.return,b)}if(a===o){K=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,K=E;break e}K=a.return}}if(me=s,Ys(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(xh,t)}catch{}r=!0}return r}finally{Ee=n,Nn.transition=e}}return!1}function Ex(t,e,n){e=la(n,e),e=aT(t,e,1),t=Ns(t,e,1),e=$t(),t!==null&&(kc(t,1,e),Gt(t,e))}function Be(t,e,n){if(t.tag===3)Ex(t,t,n);else for(;e!==null;){if(e.tag===3){Ex(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ps===null||!Ps.has(r))){t=la(n,t),t=lT(e,t,1),e=Ns(e,t,1),t=$t(),e!==null&&(kc(e,1,t),Gt(e,t));break}}e=e.return}}function rD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$t(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(mt&n)===n&&(nt===4||nt===3&&(mt&130023424)===mt&&500>Ke()-Yy?_i(t,0):Qy|=n),Gt(t,e)}function CT(t,e){e===0&&(t.mode&1?(e=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):e=1);var n=$t();t=$r(t,e),t!==null&&(kc(t,e,n),Gt(t,n))}function sD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CT(t,n)}function iD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),CT(t,n)}var AT;AT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,q2(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,Le&&e.flags&1048576&&Db(e,kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xu(t,e),t=e.pendingProps;var s=sa(e,Dt.current);Mo(e,n),s=By(null,e,r,t,s,n);var i=Hy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(i=!0,Sd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vy(e),s.updater=kh,e.stateNode=s,s._reactInternals=e,Gm(e,r,t,n),e=Xm(null,e,r,!0,i,n)):(e.tag=0,Le&&i&&Ny(e),Lt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=aD(r),t=Vn(r,t),s){case 0:e=Ym(null,e,r,t,n);break e;case 1:e=hx(null,e,r,t,n);break e;case 11:e=ux(null,e,r,t,n);break e;case 14:e=dx(null,e,r,Vn(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),Ym(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),hx(t,e,r,s,n);case 3:e:{if(hT(e),t===null)throw Error(F(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Fb(t,e),Rd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=la(Error(F(423)),e),e=fx(t,e,r,n,s);break e}else if(r!==s){s=la(Error(F(424)),e),e=fx(t,e,r,n,s);break e}else for(un=Rs(e.stateNode.containerInfo.firstChild),fn=e,Le=!0,zn=null,n=Lb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ia(),r===s){e=Ur(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return $b(e),t===null&&Wm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,$m(r,s)?o=null:i!==null&&$m(r,i)&&(e.flags|=32),dT(t,e),Lt(t,e,o,n),e.child;case 6:return t===null&&Wm(e),null;case 13:return fT(t,e,n);case 4:return Fy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oa(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),ux(t,e,r,s,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ie(Cd,r._currentValue),r._currentValue=o,i!==null)if(Wn(i.value,o)){if(i.children===s.children&&!qt.current){e=Ur(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Lr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),qm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Lt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Mo(e,n),s=Dn(s),r=r(s),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,s=Vn(r,e.pendingProps),s=Vn(r.type,s),dx(t,e,r,s,n);case 15:return cT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),Xu(t,e),e.tag=1,Kt(r)?(t=!0,Sd(e)):t=!1,Mo(e,n),oT(e,r,s),Gm(e,r,s,n),Xm(null,e,r,!0,t,n);case 19:return pT(t,e,n);case 22:return uT(t,e,n)}throw Error(F(156,e.tag))};function RT(t,e){return rb(t,e)}function oD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new oD(t,e,n,r)}function ev(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aD(t){if(typeof t=="function")return ev(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wy)return 11;if(t===xy)return 14}return 2}function js(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ed(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ev(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wo:return Ei(n.children,s,i,e);case vy:o=8,s|=8;break;case vm:return t=Rn(12,n,e,s|2),t.elementType=vm,t.lanes=i,t;case wm:return t=Rn(13,n,e,s),t.elementType=wm,t.lanes=i,t;case xm:return t=Rn(19,n,e,s),t.elementType=xm,t.lanes=i,t;case $E:return Rh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VE:o=10;break e;case FE:o=9;break e;case wy:o=11;break e;case xy:o=14;break e;case cs:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Rn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ei(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function Rh(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=$E,t.lanes=n,t.stateNode={isHidden:!1},t}function Sp(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function Ip(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=op(0),this.expirationTimes=op(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=op(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tv(t,e,n,r,s,i,o,a,l){return t=new lD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Rn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vy(i),t}function cD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NT(t){if(!t)return $s;t=t._reactInternals;e:{if(Ki(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(Kt(n))return Nb(t,n,e)}return e}function PT(t,e,n,r,s,i,o,a,l){return t=tv(n,r,!0,t,s,i,o,a,l),t.context=NT(null),n=t.current,r=$t(),s=Ds(n),i=Lr(r,s),i.callback=e??null,Ns(n,i,s),t.current.lanes=s,kc(t,s,r),Gt(t,r),t}function Nh(t,e,n,r){var s=e.current,i=$t(),o=Ds(s);return n=NT(n),e.context===null?e.context=n:e.pendingContext=n,e=Lr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ns(s,e,o),t!==null&&(Hn(t,s,o,i),Gu(t,s,o)),o}function Vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nv(t,e){bx(t,e),(t=t.alternate)&&bx(t,e)}function uD(){return null}var DT=typeof reportError=="function"?reportError:function(t){console.error(t)};function rv(t){this._internalRoot=t}Ph.prototype.render=rv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Nh(t,e,null,null)};Ph.prototype.unmount=rv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ni(function(){Nh(null,t,null,null)}),e[Fr]=null}};function Ph(t){this._internalRoot=t}Ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=ub();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ds.length&&e!==0&&e<ds[n].priority;n++);ds.splice(n,0,t),n===0&&hb(t)}};function sv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tx(){}function dD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Vd(o);i.call(u)}}var o=PT(e,r,t,0,null,!1,!1,"",Tx);return t._reactRootContainer=o,t[Fr]=o.current,Hl(t.nodeType===8?t.parentNode:t),Ni(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Vd(l);a.call(u)}}var l=tv(t,0,!1,null,null,!1,!1,"",Tx);return t._reactRootContainer=l,t[Fr]=l.current,Hl(t.nodeType===8?t.parentNode:t),Ni(function(){Nh(e,l,n,r)}),l}function jh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Vd(o);a.call(l)}}Nh(e,o,t,s)}else o=dD(n,e,t,s,r);return Vd(o)}lb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ol(e.pendingLanes);n!==0&&(by(e,n|1),Gt(e,Ke()),!(me&6)&&(ca=Ke()+500,Ys()))}break;case 13:Ni(function(){var r=$r(t,1);if(r!==null){var s=$t();Hn(r,t,1,s)}}),nv(t,1)}};Ty=function(t){if(t.tag===13){var e=$r(t,134217728);if(e!==null){var n=$t();Hn(e,t,134217728,n)}nv(t,134217728)}};cb=function(t){if(t.tag===13){var e=Ds(t),n=$r(t,e);if(n!==null){var r=$t();Hn(n,t,e,r)}nv(t,e)}};ub=function(){return Ee};db=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};Rm=function(t,e,n){switch(e){case"input":if(bm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Th(r);if(!s)throw Error(F(90));zE(r),bm(r,s)}}}break;case"textarea":HE(t,n);break;case"select":e=n.value,e!=null&&Po(t,!!n.multiple,e,!1)}};XE=Xy;JE=Ni;var hD={usingClientEntryPoint:!1,Events:[Ac,bo,Th,QE,YE,Xy]},Xa={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fD={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tb(t),t===null?null:t.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||uD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{xh=_u.inject(fD),mr=_u}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hD;_n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sv(e))throw Error(F(200));return cD(t,e,null,n)};_n.createRoot=function(t,e){if(!sv(t))throw Error(F(299));var n=!1,r="",s=DT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=tv(t,1,!1,null,null,n,!1,r,s),t[Fr]=e.current,Hl(t.nodeType===8?t.parentNode:t),new rv(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=tb(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return Ni(t)};_n.hydrate=function(t,e,n){if(!Dh(e))throw Error(F(200));return jh(null,t,e,!0,n)};_n.hydrateRoot=function(t,e,n){if(!sv(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=DT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=PT(e,null,t,1,n??null,s,!1,i,o),t[Fr]=e.current,Hl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ph(e)};_n.render=function(t,e,n){if(!Dh(e))throw Error(F(200));return jh(null,t,e,!1,n)};_n.unmountComponentAtNode=function(t){if(!Dh(t))throw Error(F(40));return t._reactRootContainer?(Ni(function(){jh(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};_n.unstable_batchedUpdates=Xy;_n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dh(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return jh(t,e,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function jT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jT)}catch(t){console.error(t)}}jT(),jE.exports=_n;var Nc=jE.exports;const OT=_E(Nc);var MT,Sx=Nc;MT=Sx.createRoot,Sx.hydrateRoot;const pD=1,mD=1e6;let kp=0;function gD(){return kp=(kp+1)%Number.MAX_SAFE_INTEGER,kp.toString()}const Cp=new Map,Ix=t=>{if(Cp.has(t))return;const e=setTimeout(()=>{Cp.delete(t),Tl({type:"REMOVE_TOAST",toastId:t})},mD);Cp.set(t,e)},yD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,pD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Ix(n):t.toasts.forEach(r=>{Ix(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},td=[];let nd={toasts:[]};function Tl(t){nd=yD(nd,t),td.forEach(e=>{e(nd)})}function vD({...t}){const e=gD(),n=s=>Tl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Tl({type:"DISMISS_TOAST",toastId:e});return Tl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function wD(){const[t,e]=p.useState(nd);return p.useEffect(()=>(td.push(e),()=>{const n=td.indexOf(e);n>-1&&td.splice(n,1)}),[t]),{...t,toast:vD,dismiss:n=>Tl({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function xD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function LT(...t){return e=>t.forEach(n=>xD(n,e))}function wt(...t){return p.useCallback(LT(...t),t)}function _D(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:m,...x}=f,g=(h==null?void 0:h[t][l])||a,_=p.useMemo(()=>x,Object.values(x));return c.jsx(g.Provider,{value:_,children:m})}function d(f,h){const m=(h==null?void 0:h[t][l])||a,x=p.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,ED(s,...e)]}function ED(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ua=p.forwardRef((t,e)=>{const{children:n,...r}=t,s=p.Children.toArray(n),i=s.find(bD);if(i){const o=i.props.children,a=s.map(l=>l===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return c.jsx(cg,{...r,ref:e,children:p.isValidElement(o)?p.cloneElement(o,void 0,a):null})}return c.jsx(cg,{...r,ref:e,children:n})});ua.displayName="Slot";var cg=p.forwardRef((t,e)=>{const{children:n,...r}=t;if(p.isValidElement(n)){const s=SD(n);return p.cloneElement(n,{...TD(r,n.props),ref:e?LT(e,s):s})}return p.Children.count(n)>1?p.Children.only(null):null});cg.displayName="SlotClone";var VT=({children:t})=>c.jsx(c.Fragment,{children:t});function bD(t){return p.isValidElement(t)&&t.type===VT}function TD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function SD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function FT(t){const e=t+"CollectionProvider",[n,r]=_D(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:g}=m,_=z.useRef(null),y=z.useRef(new Map).current;return c.jsx(s,{scope:x,itemMap:y,collectionRef:_,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=z.forwardRef((m,x)=>{const{scope:g,children:_}=m,y=i(a,g),v=wt(x,y.collectionRef);return c.jsx(ua,{ref:v,children:_})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=z.forwardRef((m,x)=>{const{scope:g,children:_,...y}=m,v=z.useRef(null),w=wt(x,v),E=i(u,g);return z.useEffect(()=>(E.itemMap.set(v,{ref:v,...y}),()=>void E.itemMap.delete(v))),c.jsx(ua,{[d]:"",ref:w,children:_})});f.displayName=u;function h(m){const x=i(t+"CollectionConsumer",m);return z.useCallback(()=>{const _=x.collectionRef.current;if(!_)return[];const y=Array.from(_.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((E,b)=>y.indexOf(E.ref.current)-y.indexOf(b.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function ID(t,e){const n=p.createContext(e),r=i=>{const{children:o,...a}=i,l=p.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ka(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];const u=f=>{var y;const{scope:h,children:m,...x}=f,g=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,_=p.useMemo(()=>x,Object.values(x));return c.jsx(g.Provider,{value:_,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,x=p.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,kD(s,...e)]}function kD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var CD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ve=CD.reduce((t,e)=>{const n=p.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ua:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function $T(t,e){t&&Nc.flushSync(()=>t.dispatchEvent(e))}function en(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function AD(t,e=globalThis==null?void 0:globalThis.document){const n=en(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var RD="DismissableLayer",ug="dismissableLayer.update",ND="dismissableLayer.pointerDownOutside",PD="dismissableLayer.focusOutside",kx,UT=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Oh=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=p.useContext(UT),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),x=wt(e,T=>f(T)),g=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(_),v=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,E=v>=y,b=jD(T=>{const C=T.target,P=[...u.branches].some(A=>A.contains(C));!E||P||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},h),S=OD(T=>{const C=T.target;[...u.branches].some(A=>A.contains(C))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},h);return AD(T=>{v===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(kx=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Cx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=kx)}},[d,h,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Cx())},[d,u]),p.useEffect(()=>{const T=()=>m({});return document.addEventListener(ug,T),()=>document.removeEventListener(ug,T)},[]),c.jsx(ve.div,{...l,ref:x,style:{pointerEvents:w?E?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,S.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,b.onPointerDownCapture)})});Oh.displayName=RD;var DD="DismissableLayerBranch",zT=p.forwardRef((t,e)=>{const n=p.useContext(UT),r=p.useRef(null),s=wt(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(ve.div,{...t,ref:s})});zT.displayName=DD;function jD(t,e=globalThis==null?void 0:globalThis.document){const n=en(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){BT(ND,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function OD(t,e=globalThis==null?void 0:globalThis.document){const n=en(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&BT(PD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Cx(){const t=new CustomEvent(ug);document.dispatchEvent(t)}function BT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$T(s,i):s.dispatchEvent(i)}var MD=Oh,LD=zT,Er=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},VD="Portal",iv=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=p.useState(!1);Er(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?OT.createPortal(c.jsx(ve.div,{...r,ref:e}),o):null});iv.displayName=VD;function FD(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Gi=t=>{const{present:e,children:n}=t,r=$D(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=wt(r.ref,UD(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Gi.displayName="Presence";function $D(t){const[e,n]=p.useState(),r=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=FD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Eu(r.current);i.current=a==="mounted"?u:"none"},[a]),Er(()=>{const u=r.current,d=s.current;if(d!==t){const h=i.current,m=Eu(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Er(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const g=Eu(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},h=m=>{m.target===e&&(i.current=Eu(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Eu(t){return(t==null?void 0:t.animationName)||"none"}function UD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Pc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=zD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=en(n),l=p.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else s(u)},[i,t,s,a]);return[o,l]}function zD({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,s=p.useRef(r),i=en(e);return p.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var BD="VisuallyHidden",Mh=p.forwardRef((t,e)=>c.jsx(ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Mh.displayName=BD;var HD=Mh,ov="ToastProvider",[av,WD,qD]=FT("Toast"),[HT,KH]=ka("Toast",[qD]),[KD,Lh]=HT(ov),WT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ov}\`. Expected non-empty \`string\`.`),c.jsx(av.Provider,{scope:e,children:c.jsx(KD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};WT.displayName=ov;var qT="ToastViewport",GD=["F8"],dg="toast.viewportPause",hg="toast.viewportResume",KT=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=GD,label:s="Notifications ({hotkey})",...i}=t,o=Lh(qT,n),a=WD(n),l=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=wt(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;p.useEffect(()=>{const _=y=>{var w;r.length!==0&&r.every(E=>y[E]||y.code===E)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),p.useEffect(()=>{const _=l.current,y=f.current;if(x&&_&&y){const v=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(dg);y.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(hg);y.dispatchEvent(S),o.isClosePausedRef.current=!1}},E=S=>{!_.contains(S.relatedTarget)&&w()},b=()=>{_.contains(document.activeElement)||w()};return _.addEventListener("focusin",v),_.addEventListener("focusout",E),_.addEventListener("pointermove",v),_.addEventListener("pointerleave",b),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{_.removeEventListener("focusin",v),_.removeEventListener("focusout",E),_.removeEventListener("pointermove",v),_.removeEventListener("pointerleave",b),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:_})=>{const v=a().map(w=>{const E=w.ref.current,b=[E,...aj(E)];return _==="forwards"?b:b.reverse()});return(_==="forwards"?v.reverse():v).flat()},[a]);return p.useEffect(()=>{const _=f.current;if(_){const y=v=>{var b,S,T;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const C=document.activeElement,P=v.shiftKey;if(v.target===_&&P){(b=u.current)==null||b.focus();return}const N=g({tabbingDirection:P?"backwards":"forwards"}),$=N.findIndex(I=>I===C);Ap(N.slice($+1))?v.preventDefault():P?(S=u.current)==null||S.focus():(T=d.current)==null||T.focus()}};return _.addEventListener("keydown",y),()=>_.removeEventListener("keydown",y)}},[a,g]),c.jsxs(LD,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&c.jsx(fg,{ref:u,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"forwards"});Ap(_)}}),c.jsx(av.Slot,{scope:n,children:c.jsx(ve.ol,{tabIndex:-1,...i,ref:h})}),x&&c.jsx(fg,{ref:d,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"backwards"});Ap(_)}})]})});KT.displayName=qT;var GT="ToastFocusProxy",fg=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Lh(GT,n);return c.jsx(Mh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});fg.displayName=GT;var Vh="Toast",QD="toast.swipeStart",YD="toast.swipeMove",XD="toast.swipeCancel",JD="toast.swipeEnd",QT=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Pc({prop:r,defaultProp:s,onChange:i});return c.jsx(Gi,{present:n||a,children:c.jsx(tj,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:en(t.onPause),onResume:en(t.onResume),onSwipeStart:pe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});QT.displayName=Vh;var[ZD,ej]=HT(Vh,{onClose(){}}),tj=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...x}=t,g=Lh(Vh,n),[_,y]=p.useState(null),v=wt(e,I=>y(I)),w=p.useRef(null),E=p.useRef(null),b=s||g.duration,S=p.useRef(0),T=p.useRef(b),C=p.useRef(0),{onToastAdd:P,onToastRemove:A}=g,R=en(()=>{var B;(_==null?void 0:_.contains(document.activeElement))&&((B=g.viewport)==null||B.focus()),o()}),N=p.useCallback(I=>{!I||I===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(R,I))},[R]);p.useEffect(()=>{const I=g.viewport;if(I){const B=()=>{N(T.current),u==null||u()},V=()=>{const G=new Date().getTime()-S.current;T.current=T.current-G,window.clearTimeout(C.current),l==null||l()};return I.addEventListener(dg,V),I.addEventListener(hg,B),()=>{I.removeEventListener(dg,V),I.removeEventListener(hg,B)}}},[g.viewport,b,l,u,N]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&N(b)},[i,b,g.isClosePausedRef,N]),p.useEffect(()=>(P(),()=>A()),[P,A]);const $=p.useMemo(()=>_?nS(_):null,[_]);return g.viewport?c.jsxs(c.Fragment,{children:[$&&c.jsx(nj,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),c.jsx(ZD,{scope:n,onClose:R,children:Nc.createPortal(c.jsx(av.ItemSlot,{scope:n,children:c.jsx(MD,{asChild:!0,onEscapeKeyDown:pe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||R(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:pe(t.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:pe(t.onPointerMove,I=>{if(!w.current)return;const B=I.clientX-w.current.x,V=I.clientY-w.current.y,G=!!E.current,k=["left","right"].includes(g.swipeDirection),j=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,U=k?j(0,B):0,L=k?0:j(0,V),Q=I.pointerType==="touch"?10:2,oe={x:U,y:L},Te={originalEvent:I,delta:oe};G?(E.current=oe,bu(YD,f,Te,{discrete:!1})):Ax(oe,g.swipeDirection,Q)?(E.current=oe,bu(QD,d,Te,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(B)>Q||Math.abs(V)>Q)&&(w.current=null)}),onPointerUp:pe(t.onPointerUp,I=>{const B=E.current,V=I.target;if(V.hasPointerCapture(I.pointerId)&&V.releasePointerCapture(I.pointerId),E.current=null,w.current=null,B){const G=I.currentTarget,k={originalEvent:I,delta:B};Ax(B,g.swipeDirection,g.swipeThreshold)?bu(JD,m,k,{discrete:!0}):bu(XD,h,k,{discrete:!0}),G.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),nj=t=>{const{__scopeToast:e,children:n,...r}=t,s=Lh(Vh,e),[i,o]=p.useState(!1),[a,l]=p.useState(!1);return ij(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(iv,{asChild:!0,children:c.jsx(Mh,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},rj="ToastTitle",YT=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(ve.div,{...r,ref:e})});YT.displayName=rj;var sj="ToastDescription",XT=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(ve.div,{...r,ref:e})});XT.displayName=sj;var JT="ToastAction",ZT=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(tS,{altText:n,asChild:!0,children:c.jsx(lv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${JT}\`. Expected non-empty \`string\`.`),null)});ZT.displayName=JT;var eS="ToastClose",lv=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=ej(eS,n);return c.jsx(tS,{asChild:!0,children:c.jsx(ve.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,s.onClose)})})});lv.displayName=eS;var tS=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function nS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),oj(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...nS(r))}}),e}function bu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$T(s,i):s.dispatchEvent(i)}var Ax=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function ij(t=()=>{}){const e=en(t);Er(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function oj(t){return t.nodeType===t.ELEMENT_NODE}function aj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ap(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var lj=WT,rS=KT,sS=QT,iS=YT,oS=XT,aS=ZT,lS=lv;function cS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=cS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function uS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=cS(t))&&(r&&(r+=" "),r+=e);return r}const Rx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Nx=uS,Fh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Nx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Rx(d)||Rx(f);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(x=>{let[g,_]=x;return Array.isArray(_)?_.includes({...i,...a}[g]):{...i,...a}[g]===_})?[...u,f,h]:u},[]);return Nx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>p.createElement("svg",{ref:l,...uj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dS("lucide",s),...a},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(dj,{ref:i,iconNode:e,className:dS(`lucide-${cj(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=ue("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=ue("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=ue("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=ue("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=ue("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=ue("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=ue("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ue("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=ue("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=ue("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=ue("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=ue("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=ue("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=ue("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=ue("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=ue("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=ue("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dv="-",Nj=t=>{const e=Dj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(dv);return a[0]===""&&a.length!==1&&a.shift(),yS(a,e)||Pj(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},yS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?yS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(dv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Ox=/^\[(.+)\]$/,Pj=t=>{if(Ox.test(t)){const e=Ox.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Dj=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Oj(Object.entries(t.classGroups),n).forEach(([i,o])=>{pg(o,r,i,e)}),r},pg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Mx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(jj(s)){pg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{pg(o,Mx(e,i),n,r)})})},Mx=(t,e)=>{let n=t;return e.split(dv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jj=t=>t.isThemeGetter,Oj=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Mj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},vS="!",Lj=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let _=0;_<a.length;_++){let y=a[_];if(u===0){if(y===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(d,_)),d=_+i;continue}if(y==="/"){f=_;continue}}y==="["?u++:y==="]"&&u--}const h=l.length===0?a:a.substring(d),m=h.startsWith(vS),x=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},Vj=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Fj=t=>({cache:Mj(t.cacheSize),parseClassName:Lj(t),...Nj(t)}),$j=/\s+/,Uj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split($j);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let x=!!m,g=r(x?h.substring(0,m):h);if(!g){if(!x){a=u+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=u+(a.length>0?" "+a:a);continue}x=!1}const _=Vj(d).join(":"),y=f?_+vS:_,v=y+g;if(i.includes(v))continue;i.push(v);const w=s(g,x);for(let E=0;E<w.length;++E){const b=w[E];i.push(y+b)}a=u+(a.length>0?" "+a:a)}return a};function zj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wS(e))&&(r&&(r+=" "),r+=n);return r}const wS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wS(t[r]))&&(n&&(n+=" "),n+=e);return n};function Bj(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=Fj(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Uj(l,n);return s(l,d),d}return function(){return i(zj.apply(null,arguments))}}const Re=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xS=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hj=/^\d+\/\d+$/,Wj=new Set(["px","full","screen"]),qj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Qj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Yj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=t=>Vo(t)||Wj.has(t)||Hj.test(t),ss=t=>Ca(t,"length",sO),Vo=t=>!!t&&!Number.isNaN(Number(t)),Rp=t=>Ca(t,"number",Vo),Ja=t=>!!t&&Number.isInteger(Number(t)),Xj=t=>t.endsWith("%")&&Vo(t.slice(0,-1)),se=t=>xS.test(t),is=t=>qj.test(t),Jj=new Set(["length","size","percentage"]),Zj=t=>Ca(t,Jj,_S),eO=t=>Ca(t,"position",_S),tO=new Set(["image","url"]),nO=t=>Ca(t,tO,oO),rO=t=>Ca(t,"",iO),Za=()=>!0,Ca=(t,e,n)=>{const r=xS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},sO=t=>Kj.test(t)&&!Gj.test(t),_S=()=>!1,iO=t=>Qj.test(t),oO=t=>Yj.test(t),aO=()=>{const t=Re("colors"),e=Re("spacing"),n=Re("blur"),r=Re("brightness"),s=Re("borderColor"),i=Re("borderRadius"),o=Re("borderSpacing"),a=Re("borderWidth"),l=Re("contrast"),u=Re("grayscale"),d=Re("hueRotate"),f=Re("invert"),h=Re("gap"),m=Re("gradientColorStops"),x=Re("gradientColorStopPositions"),g=Re("inset"),_=Re("margin"),y=Re("opacity"),v=Re("padding"),w=Re("saturate"),E=Re("scale"),b=Re("sepia"),S=Re("skew"),T=Re("space"),C=Re("translate"),P=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",se,e],N=()=>[se,e],$=()=>["",Cr,ss],I=()=>["auto",Vo,se],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",se],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Vo,se];return{cacheSize:500,separator:":",theme:{colors:[Za],spacing:[Cr,ss],blur:["none","",is,se],brightness:L(),borderColor:[t],borderRadius:["none","","full",is,se],borderSpacing:N(),borderWidth:$(),contrast:L(),grayscale:j(),hueRotate:L(),invert:j(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[Xj,ss],inset:R(),margin:R(),opacity:L(),padding:N(),saturate:L(),scale:L(),sepia:j(),skew:L(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[is]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),se]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ja,se]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Ja,se]}],"grid-cols":[{"grid-cols":[Za]}],"col-start-end":[{col:["auto",{span:["full",Ja,se]},se]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Za]}],"row-start-end":[{row:["auto",{span:[Ja,se]},se]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,e]}],"min-w":[{"min-w":[se,e,"min","max","fit"]}],"max-w":[{"max-w":[se,e,"none","full","min","max","fit","prose",{screen:[is]},is]}],h:[{h:[se,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,e,"auto","min","max","fit"]}],"font-size":[{text:["base",is,ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rp]}],"font-family":[{font:[Za]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",Vo,Rp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,ss]}],"underline-offset":[{"underline-offset":["auto",Cr,se]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),eO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Cr,se]}],"outline-w":[{outline:[Cr,ss]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Cr,ss]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",is,rO]}],"shadow-color":[{shadow:[Za]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",is,se]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Ja,se]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cr,ss,Rp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lO=Bj(aO);function xe(...t){return lO(uS(t))}const cO=lj,ES=p.forwardRef(({className:t,...e},n)=>c.jsx(rS,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ES.displayName=rS.displayName;const uO=Fh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bS=p.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(sS,{ref:r,className:xe(uO({variant:e}),t),...n}));bS.displayName=sS.displayName;const dO=p.forwardRef(({className:t,...e},n)=>c.jsx(aS,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));dO.displayName=aS.displayName;const TS=p.forwardRef(({className:t,...e},n)=>c.jsx(lS,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(gS,{className:"h-4 w-4"})}));TS.displayName=lS.displayName;const SS=p.forwardRef(({className:t,...e},n)=>c.jsx(iS,{ref:n,className:xe("text-sm font-semibold",t),...e}));SS.displayName=iS.displayName;const IS=p.forwardRef(({className:t,...e},n)=>c.jsx(oS,{ref:n,className:xe("text-sm opacity-90",t),...e}));IS.displayName=oS.displayName;function hO(){const{toasts:t}=wD();return c.jsxs(cO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(bS,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(SS,{children:n}),r&&c.jsx(IS,{children:r})]}),s,c.jsx(TS,{})]},e)}),c.jsx(ES,{})]})}var Lx=["light","dark"],fO="(prefers-color-scheme: dark)",pO=p.createContext(void 0),mO={setTheme:t=>{},themes:[]},gO=()=>{var t;return(t=p.useContext(pO))!=null?t:mO};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Lx.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,g=!1,_=!0)=>{let y=o?o[x]:x,v=g?x+"|| ''":`'${y}'`,w="";return s&&_&&!g&&Lx.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),n==="class"?g||y?w+=`c.add(${v})`:w+="null":y&&(w+=`d[s](n,${v})`),w},m=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${fO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var yO=t=>{switch(t){case"success":return xO;case"info":return EO;case"warning":return _O;case"error":return bO;default:return null}},vO=Array(12).fill(0),wO=({visible:t})=>z.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},z.createElement("div",{className:"sonner-spinner"},vO.map((e,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),xO=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_O=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EO=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bO=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),TO=()=>{let[t,e]=z.useState(document.hidden);return z.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},mg=1,SO=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:mg++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(kO(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||mg++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},on=new SO,IO=(t,e)=>{let n=(e==null?void 0:e.id)||mg++;return on.addToast({title:t,...e,id:n}),n},kO=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",CO=IO,AO=()=>on.toasts,ye=Object.assign(CO,{success:on.success,info:on.info,warning:on.warning,error:on.error,custom:on.custom,message:on.message,promise:on.promise,dismiss:on.dismiss,loading:on.loading},{getHistory:AO});function RO(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}RO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Tu(t){return t.label!==void 0}var NO=3,PO="32px",DO=4e3,jO=356,OO=14,MO=20,LO=200;function VO(...t){return t.filter(Boolean).join(" ")}var FO=t=>{var e,n,r,s,i,o,a,l,u,d;let{invert:f,toast:h,unstyled:m,interacting:x,setHeights:g,visibleToasts:_,heights:y,index:v,toasts:w,expanded:E,removeToast:b,defaultRichColors:S,closeButton:T,style:C,cancelButtonStyle:P,actionButtonStyle:A,className:R="",descriptionClassName:N="",duration:$,position:I,gap:B,loadingIcon:V,expandByDefault:G,classNames:k,icons:j,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:L,cn:Q}=t,[oe,Te]=z.useState(!1),[ut,he]=z.useState(!1),[rn,er]=z.useState(!1),[Tn,Sn]=z.useState(!1),[so,es]=z.useState(0),[kr,si]=z.useState(0),io=z.useRef(null),tr=z.useRef(null),za=v===0,Ba=v+1<=_,ge=h.type,ts=h.dismissible!==!1,Xf=h.className||"",oo=h.descriptionClassName||"",nu=z.useMemo(()=>y.findIndex(re=>re.toastId===h.id)||0,[y,h.id]),LN=z.useMemo(()=>{var re;return(re=h.closeButton)!=null?re:T},[h.closeButton,T]),dw=z.useMemo(()=>h.duration||$||DO,[h.duration,$]),Jf=z.useRef(0),ao=z.useRef(0),hw=z.useRef(0),lo=z.useRef(null),[fw,VN]=I.split("-"),pw=z.useMemo(()=>y.reduce((re,Ae,Se)=>Se>=nu?re:re+Ae.height,0),[y,nu]),mw=TO(),FN=h.invert||f,Zf=ge==="loading";ao.current=z.useMemo(()=>nu*B+pw,[nu,pw]),z.useEffect(()=>{Te(!0)},[]),z.useLayoutEffect(()=>{if(!oe)return;let re=tr.current,Ae=re.style.height;re.style.height="auto";let Se=re.getBoundingClientRect().height;re.style.height=Ae,si(Se),g(nr=>nr.find(rr=>rr.toastId===h.id)?nr.map(rr=>rr.toastId===h.id?{...rr,height:Se}:rr):[{toastId:h.id,height:Se,position:h.position},...nr])},[oe,h.title,h.description,g,h.id]);let ns=z.useCallback(()=>{he(!0),es(ao.current),g(re=>re.filter(Ae=>Ae.toastId!==h.id)),setTimeout(()=>{b(h)},LO)},[h,b,g,ao]);z.useEffect(()=>{if(h.promise&&ge==="loading"||h.duration===1/0||h.type==="loading")return;let re,Ae=dw;return E||x||L&&mw?(()=>{if(hw.current<Jf.current){let Se=new Date().getTime()-Jf.current;Ae=Ae-Se}hw.current=new Date().getTime()})():Ae!==1/0&&(Jf.current=new Date().getTime(),re=setTimeout(()=>{var Se;(Se=h.onAutoClose)==null||Se.call(h,h),ns()},Ae)),()=>clearTimeout(re)},[E,x,G,h,dw,ns,h.promise,ge,L,mw]),z.useEffect(()=>{let re=tr.current;if(re){let Ae=re.getBoundingClientRect().height;return si(Ae),g(Se=>[{toastId:h.id,height:Ae,position:h.position},...Se]),()=>g(Se=>Se.filter(nr=>nr.toastId!==h.id))}},[g,h.id]),z.useEffect(()=>{h.delete&&ns()},[ns,h.delete]);function $N(){return j!=null&&j.loading?z.createElement("div",{className:"sonner-loader","data-visible":ge==="loading"},j.loading):V?z.createElement("div",{className:"sonner-loader","data-visible":ge==="loading"},V):z.createElement(wO,{visible:ge==="loading"})}return z.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:tr,className:Q(R,Xf,k==null?void 0:k.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,k==null?void 0:k.default,k==null?void 0:k[ge],(n=h==null?void 0:h.classNames)==null?void 0:n[ge]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:S,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":oe,"data-promise":!!h.promise,"data-removed":ut,"data-visible":Ba,"data-y-position":fw,"data-x-position":VN,"data-index":v,"data-front":za,"data-swiping":rn,"data-dismissible":ts,"data-type":ge,"data-invert":FN,"data-swipe-out":Tn,"data-expanded":!!(E||G&&oe),style:{"--index":v,"--toasts-before":v,"--z-index":w.length-v,"--offset":`${ut?so:ao.current}px`,"--initial-height":G?"auto":`${kr}px`,...C,...h.style},onPointerDown:re=>{Zf||!ts||(io.current=new Date,es(ao.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(er(!0),lo.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,Ae,Se,nr;if(Tn||!ts)return;lo.current=null;let rr=Number(((re=tr.current)==null?void 0:re.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ru=new Date().getTime()-((Ae=io.current)==null?void 0:Ae.getTime()),UN=Math.abs(rr)/ru;if(Math.abs(rr)>=MO||UN>.11){es(ao.current),(Se=h.onDismiss)==null||Se.call(h,h),ns(),Sn(!0);return}(nr=tr.current)==null||nr.style.setProperty("--swipe-amount","0px"),er(!1)},onPointerMove:re=>{var Ae;if(!lo.current||!ts)return;let Se=re.clientY-lo.current.y,nr=re.clientX-lo.current.x,rr=(fw==="top"?Math.min:Math.max)(0,Se),ru=re.pointerType==="touch"?10:2;Math.abs(rr)>ru?(Ae=tr.current)==null||Ae.style.setProperty("--swipe-amount",`${Se}px`):Math.abs(nr)>ru&&(lo.current=null)}},LN&&!h.jsx?z.createElement("button",{"aria-label":U,"data-disabled":Zf,"data-close-button":!0,onClick:Zf||!ts?()=>{}:()=>{var re;ns(),(re=h.onDismiss)==null||re.call(h,h)},className:Q(k==null?void 0:k.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||z.isValidElement(h.title)?h.jsx||h.title:z.createElement(z.Fragment,null,ge||h.icon||h.promise?z.createElement("div",{"data-icon":"",className:Q(k==null?void 0:k.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||$N():null,h.type!=="loading"?h.icon||(j==null?void 0:j[ge])||yO(ge):null):null,z.createElement("div",{"data-content":"",className:Q(k==null?void 0:k.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},z.createElement("div",{"data-title":"",className:Q(k==null?void 0:k.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?z.createElement("div",{"data-description":"",className:Q(N,oo,k==null?void 0:k.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),z.isValidElement(h.cancel)?h.cancel:h.cancel&&Tu(h.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||P,onClick:re=>{var Ae,Se;Tu(h.cancel)&&ts&&((Se=(Ae=h.cancel).onClick)==null||Se.call(Ae,re),ns())},className:Q(k==null?void 0:k.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,z.isValidElement(h.action)?h.action:h.action&&Tu(h.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||A,onClick:re=>{var Ae,Se;Tu(h.action)&&(re.defaultPrevented||((Se=(Ae=h.action).onClick)==null||Se.call(Ae,re),ns()))},className:Q(k==null?void 0:k.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Vx(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var $O=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=NO,toastOptions:m,dir:x=Vx(),gap:g=OO,loadingIcon:_,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:w,cn:E=VO}=t,[b,S]=z.useState([]),T=z.useMemo(()=>Array.from(new Set([n].concat(b.filter(L=>L.position).map(L=>L.position)))),[b,n]),[C,P]=z.useState([]),[A,R]=z.useState(!1),[N,$]=z.useState(!1),[I,B]=z.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=z.useRef(null),G=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=z.useRef(null),j=z.useRef(!1),U=z.useCallback(L=>{var Q;(Q=b.find(oe=>oe.id===L.id))!=null&&Q.delete||on.dismiss(L.id),S(oe=>oe.filter(({id:Te})=>Te!==L.id))},[b]);return z.useEffect(()=>on.subscribe(L=>{if(L.dismiss){S(Q=>Q.map(oe=>oe.id===L.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{OT.flushSync(()=>{S(Q=>{let oe=Q.findIndex(Te=>Te.id===L.id);return oe!==-1?[...Q.slice(0,oe),{...Q[oe],...L},...Q.slice(oe+1)]:[L,...Q]})})})}),[]),z.useEffect(()=>{if(l!=="system"){B(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:L})=>{B(L?"dark":"light")})},[l]),z.useEffect(()=>{b.length<=1&&R(!1)},[b]),z.useEffect(()=>{let L=Q=>{var oe,Te;r.every(ut=>Q[ut]||Q.code===ut)&&(R(!0),(oe=V.current)==null||oe.focus()),Q.code==="Escape"&&(document.activeElement===V.current||(Te=V.current)!=null&&Te.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[r]),z.useEffect(()=>{if(V.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,j.current=!1)}},[V.current]),b.length?z.createElement("section",{"aria-label":`${v} ${G}`,tabIndex:-1},T.map((L,Q)=>{var oe;let[Te,ut]=L.split("-");return z.createElement("ol",{key:L,dir:x==="auto"?Vx():x,tabIndex:-1,ref:V,className:o,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":Te,"data-x-position":ut,style:{"--front-toast-height":`${((oe=C[0])==null?void 0:oe.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||PO,"--width":`${jO}px`,"--gap":`${g}px`,...f},onBlur:he=>{j.current&&!he.currentTarget.contains(he.relatedTarget)&&(j.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||j.current||(j.current=!0,k.current=he.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{N||R(!1)},onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},b.filter(he=>!he.position&&Q===0||he.position===L).map((he,rn)=>{var er,Tn;return z.createElement(FO,{key:he.id,icons:y,index:rn,toast:he,defaultRichColors:u,duration:(er=m==null?void 0:m.duration)!=null?er:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Tn=m==null?void 0:m.closeButton)!=null?Tn:i,interacting:N,position:L,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:U,toasts:b.filter(Sn=>Sn.position==he.position),heights:C.filter(Sn=>Sn.position==he.position),setHeights:P,expandByDefault:s,gap:g,loadingIcon:_,expanded:A,pauseWhenPageIsHidden:w,cn:E})}))})):null};const UO=({...t})=>{const{theme:e="system"}=gO();return c.jsx($O,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var zO=PE.useId||(()=>{}),BO=0;function Sl(t){const[e,n]=p.useState(zO());return Er(()=>{t||n(r=>r??String(BO++))},[t]),t||(e?`radix-${e}`:"")}const HO=["top","right","bottom","left"],Us=Math.min,ln=Math.max,$d=Math.round,Su=Math.floor,zs=t=>({x:t,y:t}),WO={left:"right",right:"left",bottom:"top",top:"bottom"},qO={start:"end",end:"start"};function gg(t,e,n){return ln(t,Us(e,n))}function zr(t,e){return typeof t=="function"?t(e):t}function Br(t){return t.split("-")[0]}function Aa(t){return t.split("-")[1]}function hv(t){return t==="x"?"y":"x"}function fv(t){return t==="y"?"height":"width"}function Bs(t){return["top","bottom"].includes(Br(t))?"y":"x"}function pv(t){return hv(Bs(t))}function KO(t,e,n){n===void 0&&(n=!1);const r=Aa(t),s=pv(t),i=fv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ud(o)),[o,Ud(o)]}function GO(t){const e=Ud(t);return[yg(t),e,yg(e)]}function yg(t){return t.replace(/start|end/g,e=>qO[e])}function QO(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function YO(t,e,n,r){const s=Aa(t);let i=QO(Br(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(yg)))),i}function Ud(t){return t.replace(/left|right|bottom|top/g,e=>WO[e])}function XO(t){return{top:0,right:0,bottom:0,left:0,...t}}function kS(t){return typeof t!="number"?XO(t):{top:t,right:t,bottom:t,left:t}}function zd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Fx(t,e,n){let{reference:r,floating:s}=t;const i=Bs(e),o=pv(e),a=fv(o),l=Br(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Aa(e)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const JO=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Fx(u,r,l),h=r,m={},x=0;for(let g=0;g<a.length;g++){const{name:_,fn:y}=a[g],{x:v,y:w,data:E,reset:b}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,f=w??f,m={...m,[_]:{...m[_],...E}},b&&x<=50&&(x++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(u=b.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):b.rects),{x:d,y:f}=Fx(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Zl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=zr(e,t),x=kS(m),_=a[h?f==="floating"?"reference":"floating":f],y=zd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},b=zd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:w,strategy:l}):v);return{top:(y.top-b.top+x.top)/E.y,bottom:(b.bottom-y.bottom+x.bottom)/E.y,left:(y.left-b.left+x.left)/E.x,right:(b.right-y.right+x.right)/E.x}}const ZO=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=zr(t,e)||{};if(u==null)return{};const f=kS(d),h={x:n,y:r},m=pv(s),x=fv(m),g=await o.getDimensions(u),_=m==="y",y=_?"top":"left",v=_?"bottom":"right",w=_?"clientHeight":"clientWidth",E=i.reference[x]+i.reference[m]-h[m]-i.floating[x],b=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=S?S[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(S)))&&(T=a.floating[w]||i.floating[x]);const C=E/2-b/2,P=T/2-g[x]/2-1,A=Us(f[y],P),R=Us(f[v],P),N=A,$=T-g[x]-R,I=T/2-g[x]/2+C,B=gg(N,I,$),V=!l.arrow&&Aa(s)!=null&&I!==B&&i.reference[x]/2-(I<N?A:R)-g[x]/2<0,G=V?I<N?I-N:I-$:0;return{[m]:h[m]+G,data:{[m]:B,centerOffset:I-B-G,...V&&{alignmentOffset:G}},reset:V}}}),eM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,..._}=zr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Br(s),v=Bs(a),w=Br(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),b=h||(w||!g?[Ud(a)]:GO(a)),S=x!=="none";!h&&S&&b.push(...YO(a,g,x,E));const T=[a,...b],C=await Zl(e,_),P=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(C[y]),f){const I=KO(s,o,E);P.push(C[I[0]],C[I[1]])}if(A=[...A,{placement:s,overflows:P}],!P.every(I=>I<=0)){var R,N;const I=(((R=i.flip)==null?void 0:R.index)||0)+1,B=T[I];if(B)return{data:{index:I,overflows:A},reset:{placement:B}};let V=(N=A.filter(G=>G.overflows[0]<=0).sort((G,k)=>G.overflows[1]-k.overflows[1])[0])==null?void 0:N.placement;if(!V)switch(m){case"bestFit":{var $;const G=($=A.filter(k=>{if(S){const j=Bs(k.placement);return j===v||j==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(j=>j>0).reduce((j,U)=>j+U,0)]).sort((k,j)=>k[1]-j[1])[0])==null?void 0:$[0];G&&(V=G);break}case"initialPlacement":V=a;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function $x(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ux(t){return HO.some(e=>t[e]>=0)}const tM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=zr(t,e);switch(r){case"referenceHidden":{const i=await Zl(e,{...s,elementContext:"reference"}),o=$x(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ux(o)}}}case"escaped":{const i=await Zl(e,{...s,altBoundary:!0}),o=$x(i,n.floating);return{data:{escapedOffsets:o,escaped:Ux(o)}}}default:return{}}}}};async function nM(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Br(n),a=Aa(n),l=Bs(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=zr(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(m=a==="end"?x*-1:x),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const rM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await nM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},sM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:y,y:v}=_;return{x:y,y:v}}},...l}=zr(t,e),u={x:n,y:r},d=await Zl(e,l),f=Bs(Br(s)),h=hv(f);let m=u[h],x=u[f];if(i){const _=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=m+d[_],w=m-d[y];m=gg(v,m,w)}if(o){const _=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=x+d[_],w=x-d[y];x=gg(v,x,w)}const g=a.fn({...e,[h]:m,[f]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[f]:o}}}}}},iM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=zr(t,e),d={x:n,y:r},f=Bs(s),h=hv(f);let m=d[h],x=d[f];const g=zr(a,e),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",E=i.reference[h]-i.floating[w]+_.mainAxis,b=i.reference[h]+i.reference[w]-_.mainAxis;m<E?m=E:m>b&&(m=b)}if(u){var y,v;const w=h==="y"?"width":"height",E=["top","left"].includes(Br(s)),b=i.reference[f]-i.floating[w]+(E&&((y=o.offset)==null?void 0:y[f])||0)+(E?0:_.crossAxis),S=i.reference[f]+i.reference[w]+(E?0:((v=o.offset)==null?void 0:v[f])||0)-(E?_.crossAxis:0);x<b?x=b:x>S&&(x=S)}return{[h]:m,[f]:x}}}},oM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=zr(t,e),d=await Zl(e,u),f=Br(s),h=Aa(s),m=Bs(s)==="y",{width:x,height:g}=i.floating;let _,y;f==="top"||f==="bottom"?(_=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,_=h==="end"?"top":"bottom");const v=g-d.top-d.bottom,w=x-d.left-d.right,E=Us(g-d[_],v),b=Us(x-d[y],w),S=!e.middlewareData.shift;let T=E,C=b;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=v),S&&!h){const A=ln(d.left,0),R=ln(d.right,0),N=ln(d.top,0),$=ln(d.bottom,0);m?C=x-2*(A!==0||R!==0?A+R:ln(d.left,d.right)):T=g-2*(N!==0||$!==0?N+$:ln(d.top,d.bottom))}await l({...e,availableWidth:C,availableHeight:T});const P=await o.getDimensions(a.floating);return x!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function zh(){return typeof window<"u"}function Ra(t){return CS(t)?(t.nodeName||"").toLowerCase():"#document"}function pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ir(t){var e;return(e=(CS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CS(t){return zh()?t instanceof Node||t instanceof pn(t).Node:!1}function qn(t){return zh()?t instanceof Element||t instanceof pn(t).Element:!1}function br(t){return zh()?t instanceof HTMLElement||t instanceof pn(t).HTMLElement:!1}function zx(t){return!zh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pn(t).ShadowRoot}function Dc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function aM(t){return["table","td","th"].includes(Ra(t))}function Bh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function mv(t){const e=gv(),n=qn(t)?Kn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function lM(t){let e=Hs(t);for(;br(e)&&!da(e);){if(mv(e))return e;if(Bh(e))return null;e=Hs(e)}return null}function gv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function da(t){return["html","body","#document"].includes(Ra(t))}function Kn(t){return pn(t).getComputedStyle(t)}function Hh(t){return qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hs(t){if(Ra(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zx(t)&&t.host||Ir(t);return zx(e)?e.host:e}function AS(t){const e=Hs(t);return da(e)?t.ownerDocument?t.ownerDocument.body:t.body:br(e)&&Dc(e)?e:AS(e)}function ec(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=AS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=pn(s);if(i){const a=vg(o);return e.concat(o,o.visualViewport||[],Dc(s)?s:[],a&&n?ec(a):[])}return e.concat(s,ec(s,[],n))}function vg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function RS(t){const e=Kn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=br(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=$d(n)!==i||$d(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function yv(t){return qn(t)?t:t.contextElement}function Fo(t){const e=yv(t);if(!br(e))return zs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=RS(e);let o=(i?$d(n.width):n.width)/r,a=(i?$d(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const cM=zs(0);function NS(t){const e=pn(t);return!gv()||!e.visualViewport?cM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==pn(t)?!1:e}function ji(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=yv(t);let o=zs(1);e&&(r?qn(r)&&(o=Fo(r)):o=Fo(t));const a=uM(i,n,r)?NS(i):zs(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=pn(i),m=r&&qn(r)?pn(r):r;let x=h,g=vg(x);for(;g&&r&&m!==x;){const _=Fo(g),y=g.getBoundingClientRect(),v=Kn(g),w=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*_.x,E=y.top+(g.clientTop+parseFloat(v.paddingTop))*_.y;l*=_.x,u*=_.y,d*=_.x,f*=_.y,l+=w,u+=E,x=pn(g),g=vg(x)}}return zd({width:d,height:f,x:l,y:u})}function dM(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ir(r),a=e?Bh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=zs(1);const d=zs(0),f=br(r);if((f||!f&&!i)&&((Ra(r)!=="body"||Dc(o))&&(l=Hh(r)),br(r))){const h=ji(r);u=Fo(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function hM(t){return Array.from(t.getClientRects())}function wg(t,e){const n=Hh(t).scrollLeft;return e?e.left+n:ji(Ir(t)).left+n}function fM(t){const e=Ir(t),n=Hh(t),r=t.ownerDocument.body,s=ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+wg(t);const a=-n.scrollTop;return Kn(r).direction==="rtl"&&(o+=ln(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function pM(t,e){const n=pn(t),r=Ir(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=gv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function mM(t,e){const n=ji(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=br(t)?Fo(t):zs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function Bx(t,e,n){let r;if(e==="viewport")r=pM(t,n);else if(e==="document")r=fM(Ir(t));else if(qn(e))r=mM(e,n);else{const s=NS(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return zd(r)}function PS(t,e){const n=Hs(t);return n===e||!qn(n)||da(n)?!1:Kn(n).position==="fixed"||PS(n,e)}function gM(t,e){const n=e.get(t);if(n)return n;let r=ec(t,[],!1).filter(a=>qn(a)&&Ra(a)!=="body"),s=null;const i=Kn(t).position==="fixed";let o=i?Hs(t):t;for(;qn(o)&&!da(o);){const a=Kn(o),l=mv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Dc(o)&&!l&&PS(t,o))?r=r.filter(d=>d!==o):s=a,o=Hs(o)}return e.set(t,r),r}function yM(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Bh(e)?[]:gM(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=Bx(e,d,s);return u.top=ln(f.top,u.top),u.right=Us(f.right,u.right),u.bottom=Us(f.bottom,u.bottom),u.left=ln(f.left,u.left),u},Bx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vM(t){const{width:e,height:n}=RS(t);return{width:e,height:n}}function wM(t,e,n){const r=br(e),s=Ir(e),i=n==="fixed",o=ji(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=zs(0);if(r||!r&&!i)if((Ra(e)!=="body"||Dc(s))&&(a=Hh(e)),r){const m=ji(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=wg(s));let u=0,d=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();d=m.top+a.scrollTop,u=m.left+a.scrollLeft-wg(s,m)}const f=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function Np(t){return Kn(t).position==="static"}function Hx(t,e){if(!br(t)||Kn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ir(t)===n&&(n=n.ownerDocument.body),n}function DS(t,e){const n=pn(t);if(Bh(t))return n;if(!br(t)){let s=Hs(t);for(;s&&!da(s);){if(qn(s)&&!Np(s))return s;s=Hs(s)}return n}let r=Hx(t,e);for(;r&&aM(r)&&Np(r);)r=Hx(r,e);return r&&da(r)&&Np(r)&&!mv(r)?n:r||lM(t)||n}const xM=async function(t){const e=this.getOffsetParent||DS,n=this.getDimensions,r=await n(t.floating);return{reference:wM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _M(t){return Kn(t).direction==="rtl"}const EM={convertOffsetParentRelativeRectToViewportRelativeRect:dM,getDocumentElement:Ir,getClippingRect:yM,getOffsetParent:DS,getElementRects:xM,getClientRects:hM,getDimensions:vM,getScale:Fo,isElement:qn,isRTL:_M};function bM(t,e){let n=null,r;const s=Ir(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const m=Su(d),x=Su(s.clientWidth-(u+f)),g=Su(s.clientHeight-(d+h)),_=Su(u),v={rootMargin:-m+"px "+-x+"px "+-g+"px "+-_+"px",threshold:ln(0,Us(1,l))||1};let w=!0;function E(b){const S=b[0].intersectionRatio;if(S!==l){if(!w)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(E,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,v)}n.observe(t)}return o(!0),i}function TM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=yv(t),d=s||i?[...u?ec(u):[],...ec(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=u&&a?bM(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let x,g=l?ji(t):null;l&&_();function _(){const y=ji(t);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,x=requestAnimationFrame(_)}return n(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const SM=rM,IM=sM,kM=eM,CM=oM,AM=tM,Wx=ZO,RM=iM,NM=(t,e,n)=>{const r=new Map,s={platform:EM,...n},i={...s.platform,_c:r};return JO(t,e,{...s,platform:i})};var rd=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Bd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Bd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function jS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function qx(t,e){const n=jS(t);return Math.round(e*n)/n}function Pp(t){const e=p.useRef(t);return rd(()=>{e.current=t}),e}function PM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);Bd(h,r)||m(r);const[x,g]=p.useState(null),[_,y]=p.useState(null),v=p.useCallback(k=>{k!==S.current&&(S.current=k,g(k))},[]),w=p.useCallback(k=>{k!==T.current&&(T.current=k,y(k))},[]),E=i||x,b=o||_,S=p.useRef(null),T=p.useRef(null),C=p.useRef(d),P=l!=null,A=Pp(l),R=Pp(s),N=Pp(u),$=p.useCallback(()=>{if(!S.current||!T.current)return;const k={placement:e,strategy:n,middleware:h};R.current&&(k.platform=R.current),NM(S.current,T.current,k).then(j=>{const U={...j,isPositioned:N.current!==!1};I.current&&!Bd(C.current,U)&&(C.current=U,Nc.flushSync(()=>{f(U)}))})},[h,e,n,R,N]);rd(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[u]);const I=p.useRef(!1);rd(()=>(I.current=!0,()=>{I.current=!1}),[]),rd(()=>{if(E&&(S.current=E),b&&(T.current=b),E&&b){if(A.current)return A.current(E,b,$);$()}},[E,b,$,A,P]);const B=p.useMemo(()=>({reference:S,floating:T,setReference:v,setFloating:w}),[v,w]),V=p.useMemo(()=>({reference:E,floating:b}),[E,b]),G=p.useMemo(()=>{const k={position:n,left:0,top:0};if(!V.floating)return k;const j=qx(V.floating,d.x),U=qx(V.floating,d.y);return a?{...k,transform:"translate("+j+"px, "+U+"px)",...jS(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:U}},[n,a,V.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:$,refs:B,elements:V,floatingStyles:G}),[d,$,B,V,G])}const DM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Wx({element:r.current,padding:s}).fn(n):{}:r?Wx({element:r,padding:s}).fn(n):{}}}},jM=(t,e)=>({...SM(t),options:[t,e]}),OM=(t,e)=>({...IM(t),options:[t,e]}),MM=(t,e)=>({...RM(t),options:[t,e]}),LM=(t,e)=>({...kM(t),options:[t,e]}),VM=(t,e)=>({...CM(t),options:[t,e]}),FM=(t,e)=>({...AM(t),options:[t,e]}),$M=(t,e)=>({...DM(t),options:[t,e]});var UM="Arrow",OS=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});OS.displayName=UM;var zM=OS;function BM(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:m,...x}=f,g=(h==null?void 0:h[t][l])||a,_=p.useMemo(()=>x,Object.values(x));return c.jsx(g.Provider,{value:_,children:m})}function d(f,h){const m=(h==null?void 0:h[t][l])||a,x=p.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,HM(s,...e)]}function HM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function MS(t){const[e,n]=p.useState(void 0);return Er(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var LS="Popper",[VS,FS]=BM(LS),[GH,$S]=VS(LS),US="PopperAnchor",zS=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=$S(US,n),o=p.useRef(null),a=wt(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(ve.div,{...s,ref:a})});zS.displayName=US;var vv="PopperContent",[WM,qM]=VS(vv),BS=p.forwardRef((t,e)=>{var rn,er,Tn,Sn,so,es;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...g}=t,_=$S(vv,n),[y,v]=p.useState(null),w=wt(e,kr=>v(kr)),[E,b]=p.useState(null),S=MS(E),T=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,P=r+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],N=R.length>0,$={padding:A,boundary:R.filter(GM),altBoundary:N},{refs:I,floatingStyles:B,placement:V,isPositioned:G,middlewareData:k}=PM({strategy:"fixed",placement:P,whileElementsMounted:(...kr)=>TM(...kr,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[jM({mainAxis:s+C,alignmentAxis:o}),l&&OM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?MM():void 0,...$}),l&&LM({...$}),VM({...$,apply:({elements:kr,rects:si,availableWidth:io,availableHeight:tr})=>{const{width:za,height:Ba}=si.reference,ge=kr.floating.style;ge.setProperty("--radix-popper-available-width",`${io}px`),ge.setProperty("--radix-popper-available-height",`${tr}px`),ge.setProperty("--radix-popper-anchor-width",`${za}px`),ge.setProperty("--radix-popper-anchor-height",`${Ba}px`)}}),E&&$M({element:E,padding:a}),QM({arrowWidth:T,arrowHeight:C}),h&&FM({strategy:"referenceHidden",...$})]}),[j,U]=qS(V),L=en(x);Er(()=>{G&&(L==null||L())},[G,L]);const Q=(rn=k.arrow)==null?void 0:rn.x,oe=(er=k.arrow)==null?void 0:er.y,Te=((Tn=k.arrow)==null?void 0:Tn.centerOffset)!==0,[ut,he]=p.useState();return Er(()=>{y&&he(window.getComputedStyle(y).zIndex)},[y]),c.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:G?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ut,"--radix-popper-transform-origin":[(Sn=k.transformOrigin)==null?void 0:Sn.x,(so=k.transformOrigin)==null?void 0:so.y].join(" "),...((es=k.hide)==null?void 0:es.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(WM,{scope:n,placedSide:j,onArrowChange:b,arrowX:Q,arrowY:oe,shouldHideArrow:Te,children:c.jsx(ve.div,{"data-side":j,"data-align":U,...g,ref:w,style:{...g.style,animation:G?void 0:"none"}})})})});BS.displayName=vv;var HS="PopperArrow",KM={top:"bottom",right:"left",bottom:"top",left:"right"},WS=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=qM(HS,r),o=KM[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(zM,{...s,ref:n,style:{...s.style,display:"block"}})})});WS.displayName=HS;function GM(t){return t!==null}var QM=t=>({name:"transformOrigin",options:t,fn(e){var _,y,v;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=qS(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let x="",g="";return u==="bottom"?(x=o?f:`${h}px`,g=`${-l}px`):u==="top"?(x=o?f:`${h}px`,g=`${r.floating.height+l}px`):u==="right"?(x=`${-l}px`,g=o?f:`${m}px`):u==="left"&&(x=`${r.floating.width+l}px`,g=o?f:`${m}px`),{data:{x,y:g}}}});function qS(t){const[e,n="center"]=t.split("-");return[e,n]}var YM=zS,XM=BS,JM=WS,[Wh,QH]=ka("Tooltip",[FS]),wv=FS(),KS="TooltipProvider",ZM=700,Kx="tooltip.open",[eL,GS]=Wh(KS),QS=t=>{const{__scopeTooltip:e,delayDuration:n=ZM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=p.useState(!0),l=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx(eL,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};QS.displayName=KS;var YS="Tooltip",[YH,qh]=Wh(YS),xg="TooltipTrigger",tL=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=qh(xg,n),i=GS(xg,n),o=wv(n),a=p.useRef(null),l=wt(e,a,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(YM,{asChild:!0,...o,children:c.jsx(ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:pe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:pe(t.onBlur,s.onClose),onClick:pe(t.onClick,s.onClose)})})});tL.displayName=xg;var nL="TooltipPortal",[XH,rL]=Wh(nL,{forceMount:void 0}),ha="TooltipContent",XS=p.forwardRef((t,e)=>{const n=rL(ha,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=qh(ha,t.__scopeTooltip);return c.jsx(Gi,{present:r||o.open,children:o.disableHoverableContent?c.jsx(JS,{side:s,...i,ref:e}):c.jsx(sL,{side:s,...i,ref:e})})}),sL=p.forwardRef((t,e)=>{const n=qh(ha,t.__scopeTooltip),r=GS(ha,t.__scopeTooltip),s=p.useRef(null),i=wt(e,s),[o,a]=p.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=p.useCallback(()=>{a(null),f(!1)},[f]),m=p.useCallback((x,g)=>{const _=x.currentTarget,y={x:x.clientX,y:x.clientY},v=lL(y,_.getBoundingClientRect()),w=cL(y,v),E=uL(g.getBoundingClientRect()),b=hL([...w,...E]);a(b),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(l&&d){const x=_=>m(_,d),g=_=>m(_,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),p.useEffect(()=>{if(o){const x=g=>{const _=g.target,y={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(_))||(d==null?void 0:d.contains(_)),w=!dL(y,o);v?h():w&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,u,h]),c.jsx(JS,{...t,ref:i})}),[iL,oL]=Wh(YS,{isInside:!1}),JS=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=qh(ha,n),u=wv(n),{onClose:d}=l;return p.useEffect(()=>(document.addEventListener(Kx,d),()=>document.removeEventListener(Kx,d)),[d]),p.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(Oh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(XM,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(VT,{children:r}),c.jsx(iL,{scope:n,isInside:!0,children:c.jsx(HD,{id:l.contentId,role:"tooltip",children:s||r})})]})})});XS.displayName=ha;var ZS="TooltipArrow",aL=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=wv(n);return oL(ZS,n).isInside?null:c.jsx(JM,{...s,...r,ref:e})});aL.displayName=ZS;function lL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function cL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function uL(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function dL(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function hL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),fL(e)}function fL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var pL=QS,eI=XS;const mL=pL,gL=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(eI,{ref:r,sideOffset:e,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));gL.displayName=eI.displayName;var Kh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gh=typeof window>"u"||"Deno"in globalThis;function Fn(){}function yL(t,e){return typeof t=="function"?t(e):t}function vL(t){return typeof t=="number"&&t>=0&&t!==1/0}function wL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Gx(t,e){return typeof t=="function"?t(e):t}function xL(t,e){return typeof t=="function"?t(e):t}function Qx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==xv(o,e.options))return!1}else if(!nc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Yx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(tc(e.options.mutationKey)!==tc(i))return!1}else if(!nc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function xv(t,e){return((e==null?void 0:e.queryKeyHashFn)||tc)(t)}function tc(t){return JSON.stringify(t,(e,n)=>_g(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function nc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!nc(t[n],e[n])):!1}function tI(t,e){if(t===e)return t;const n=Xx(t)&&Xx(e);if(n||_g(t)&&_g(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=tI(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Xx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _g(t){if(!Jx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Jx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Jx(t){return Object.prototype.toString.call(t)==="[object Object]"}function _L(t){return new Promise(e=>{setTimeout(e,t)})}function EL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?tI(t,e):e}function bL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function TL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var _v=Symbol();function nI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_v?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var yi,vs,Go,fE,SL=(fE=class extends Kh{constructor(){super();_e(this,yi);_e(this,vs);_e(this,Go);ae(this,Go,e=>{if(!Gh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){O(this,vs)||this.setEventListener(O(this,Go))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,vs))==null||e.call(this),ae(this,vs,void 0))}setEventListener(e){var n;ae(this,Go,e),(n=O(this,vs))==null||n.call(this),ae(this,vs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){O(this,yi)!==e&&(ae(this,yi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof O(this,yi)=="boolean"?O(this,yi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yi=new WeakMap,vs=new WeakMap,Go=new WeakMap,fE),rI=new SL,Qo,ws,Yo,pE,IL=(pE=class extends Kh{constructor(){super();_e(this,Qo,!0);_e(this,ws);_e(this,Yo);ae(this,Yo,e=>{if(!Gh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){O(this,ws)||this.setEventListener(O(this,Yo))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,ws))==null||e.call(this),ae(this,ws,void 0))}setEventListener(e){var n;ae(this,Yo,e),(n=O(this,ws))==null||n.call(this),ae(this,ws,e(this.setOnline.bind(this)))}setOnline(e){O(this,Qo)!==e&&(ae(this,Qo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return O(this,Qo)}},Qo=new WeakMap,ws=new WeakMap,Yo=new WeakMap,pE),Hd=new IL;function kL(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function CL(t){return Math.min(1e3*2**t,3e4)}function sI(t){return(t??"online")==="online"?Hd.isOnline():!0}var iI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Dp(t){return t instanceof iI}function oI(t){let e=!1,n=0,r=!1,s;const i=kL(),o=g=>{var _;r||(h(new iI(g)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>rI.isFocused()&&(t.networkMode==="always"||Hd.isOnline())&&t.canRun(),d=()=>sI(t.networkMode)&&t.canRun(),f=g=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var _;s=y=>{(r||u())&&g(y)},(_=t.onPause)==null||_.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),x=()=>{if(r)return;let g;const _=n===0?t.initialPromise:void 0;try{g=_??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var S;if(r)return;const v=t.retry??(Gh?0:3),w=t.retryDelay??CL,E=typeof w=="function"?w(n,y):w,b=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(e||!b){h(y);return}n++,(S=t.onFail)==null||S.call(t,n,y),_L(E).then(()=>u()?void 0:m()).then(()=>{e?h(y):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():m().then(x),i)}}function AL(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Vt=AL(),vi,mE,aI=(mE=class{constructor(){_e(this,vi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vL(this.gcTime)&&ae(this,vi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Gh?1/0:5*60*1e3))}clearGcTimeout(){O(this,vi)&&(clearTimeout(O(this,vi)),ae(this,vi,void 0))}},vi=new WeakMap,mE),Xo,Jo,In,St,Tc,wi,$n,Ar,gE,RL=(gE=class extends aI{constructor(n){super();_e(this,$n);_e(this,Xo);_e(this,Jo);_e(this,In);_e(this,St);_e(this,Tc);_e(this,wi);ae(this,wi,!1),ae(this,Tc,n.defaultOptions),this.setOptions(n.options),this.observers=[],ae(this,In,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ae(this,Xo,PL(this.options)),this.state=n.state??O(this,Xo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=O(this,St))==null?void 0:n.promise}setOptions(n){this.options={...O(this,Tc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,In).remove(this)}setData(n,r){const s=EL(this.state.data,n,this.options);return xt(this,$n,Ar).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){xt(this,$n,Ar).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=O(this,St))==null?void 0:s.promise;return(i=O(this,St))==null||i.cancel(n),r?r.then(Fn).catch(Fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,Xo))}isActive(){return this.observers.some(n=>xL(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_v||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!wL(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=O(this,St))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=O(this,St))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),O(this,In).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(O(this,St)&&(O(this,wi)?O(this,St).cancel({revert:!0}):O(this,St).cancelRetry()),this.scheduleGc()),O(this,In).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xt(this,$n,Ar).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,St))return O(this,St).continueRetry(),O(this,St).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ae(this,wi,!0),s.signal)})},o=()=>{const h=nI(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return i(m),ae(this,wi,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),ae(this,Jo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&xt(this,$n,Ar).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,x,g,_;Dp(h)&&h.silent||xt(this,$n,Ar).call(this,{type:"error",error:h}),Dp(h)||((x=(m=O(this,In).config).onError)==null||x.call(m,h,this),(_=(g=O(this,In).config).onSettled)==null||_.call(g,this.state.data,h,this)),this.scheduleGc()};return ae(this,St,oI({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var m,x,g,_;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(x=(m=O(this,In).config).onSuccess)==null||x.call(m,h,this),(_=(g=O(this,In).config).onSettled)==null||_.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{xt(this,$n,Ar).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{xt(this,$n,Ar).call(this,{type:"pause"})},onContinue:()=>{xt(this,$n,Ar).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),O(this,St).start()}},Xo=new WeakMap,Jo=new WeakMap,In=new WeakMap,St=new WeakMap,Tc=new WeakMap,wi=new WeakMap,$n=new WeakSet,Ar=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...NL(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Dp(i)&&i.revert&&O(this,Jo)?{...O(this,Jo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Vt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),O(this,In).notify({query:this,type:"updated",action:n})})},gE);function NL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function PL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var or,yE,DL=(yE=class extends Kh{constructor(e={}){super();_e(this,or);this.config=e,ae(this,or,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??xv(s,n);let o=this.get(i);return o||(o=new RL({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){O(this,or).has(e.queryHash)||(O(this,or).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=O(this,or).get(e.queryHash);n&&(e.destroy(),n===e&&O(this,or).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,or).get(e)}getAll(){return[...O(this,or).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Qx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Qx(e,r)):n}notify(e){Vt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},or=new WeakMap,yE),ar,Mt,xi,lr,as,vE,jL=(vE=class extends aI{constructor(n){super();_e(this,lr);_e(this,ar);_e(this,Mt);_e(this,xi);this.mutationId=n.mutationId,ae(this,Mt,n.mutationCache),ae(this,ar,[]),this.state=n.state||OL(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){O(this,ar).includes(n)||(O(this,ar).push(n),this.clearGcTimeout(),O(this,Mt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ae(this,ar,O(this,ar).filter(r=>r!==n)),this.scheduleGc(),O(this,Mt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){O(this,ar).length||(this.state.status==="pending"?this.scheduleGc():O(this,Mt).remove(this))}continue(){var n;return((n=O(this,xi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,d,f,h,m,x,g,_,y,v,w,E,b,S,T,C;ae(this,xi,oI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,A)=>{xt(this,lr,as).call(this,{type:"failed",failureCount:P,error:A})},onPause:()=>{xt(this,lr,as).call(this,{type:"pause"})},onContinue:()=>{xt(this,lr,as).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Mt).canRun(this)}));const r=this.state.status==="pending",s=!O(this,xi).canStart();try{if(!r){xt(this,lr,as).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=O(this,Mt).config).onMutate)==null?void 0:o.call(i,n,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));A!==this.state.context&&xt(this,lr,as).call(this,{type:"pending",context:A,variables:n,isPaused:s})}const P=await O(this,xi).start();return await((d=(u=O(this,Mt).config).onSuccess)==null?void 0:d.call(u,P,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,n,this.state.context)),await((x=(m=O(this,Mt).config).onSettled)==null?void 0:x.call(m,P,null,this.state.variables,this.state.context,this)),await((_=(g=this.options).onSettled)==null?void 0:_.call(g,P,null,n,this.state.context)),xt(this,lr,as).call(this,{type:"success",data:P}),P}catch(P){try{throw await((v=(y=O(this,Mt).config).onError)==null?void 0:v.call(y,P,n,this.state.context,this)),await((E=(w=this.options).onError)==null?void 0:E.call(w,P,n,this.state.context)),await((S=(b=O(this,Mt).config).onSettled)==null?void 0:S.call(b,void 0,P,this.state.variables,this.state.context,this)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,P,n,this.state.context)),P}finally{xt(this,lr,as).call(this,{type:"error",error:P})}}finally{O(this,Mt).runNext(this)}}},ar=new WeakMap,Mt=new WeakMap,xi=new WeakMap,lr=new WeakSet,as=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Vt.batch(()=>{O(this,ar).forEach(s=>{s.onMutationUpdate(n)}),O(this,Mt).notify({mutation:this,type:"updated",action:n})})},vE);function OL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sn,Sc,wE,ML=(wE=class extends Kh{constructor(e={}){super();_e(this,sn);_e(this,Sc);this.config=e,ae(this,sn,new Map),ae(this,Sc,Date.now())}build(e,n,r){const s=new jL({mutationCache:this,mutationId:++su(this,Sc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Iu(e),r=O(this,sn).get(n)??[];r.push(e),O(this,sn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Iu(e);if(O(this,sn).has(n)){const s=(r=O(this,sn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?O(this,sn).delete(n):O(this,sn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=O(this,sn).get(Iu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=O(this,sn).get(Iu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Vt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...O(this,sn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Yx(n,r))}findAll(e={}){return this.getAll().filter(n=>Yx(e,n))}notify(e){Vt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Vt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Fn))))}},sn=new WeakMap,Sc=new WeakMap,wE);function Iu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Zx(t){return{onFetch:(e,n)=>{var d,f,h,m,x;const r=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const _=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=nI(e.options,e.fetchOptions),v=async(w,E,b)=>{if(g)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:e.queryKey,pageParam:E,direction:b?"backward":"forward",meta:e.options.meta};_(S);const T=await y(S),{maxPages:C}=e.options,P=b?TL:bL;return{pages:P(w.pages,T,C),pageParams:P(w.pageParams,E,C)}};if(s&&i.length){const w=s==="backward",E=w?LL:e_,b={pages:i,pageParams:o},S=E(r,b);a=await v(b,S,w)}else{const w=t??i.length;do{const E=l===0?o[0]??r.initialPageParam:e_(r,a);if(l>0&&E==null)break;a=await v(a,E),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,_;return(_=(g=e.options).persister)==null?void 0:_.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function e_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function LL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ze,xs,_s,Zo,ea,Es,ta,na,xE,VL=(xE=class{constructor(t={}){_e(this,ze);_e(this,xs);_e(this,_s);_e(this,Zo);_e(this,ea);_e(this,Es);_e(this,ta);_e(this,na);ae(this,ze,t.queryCache||new DL),ae(this,xs,t.mutationCache||new ML),ae(this,_s,t.defaultOptions||{}),ae(this,Zo,new Map),ae(this,ea,new Map),ae(this,Es,0)}mount(){su(this,Es)._++,O(this,Es)===1&&(ae(this,ta,rI.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,ze).onFocus())})),ae(this,na,Hd.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,ze).onOnline())})))}unmount(){var t,e;su(this,Es)._--,O(this,Es)===0&&((t=O(this,ta))==null||t.call(this),ae(this,ta,void 0),(e=O(this,na))==null||e.call(this),ae(this,na,void 0))}isFetching(t){return O(this,ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,xs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=O(this,ze).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Gx(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return O(this,ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=O(this,ze).get(r.queryHash),i=s==null?void 0:s.state.data,o=yL(e,i);if(o!==void 0)return O(this,ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Vt.batch(()=>O(this,ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=O(this,ze);Vt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=O(this,ze),r={type:"active",...t};return Vt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Vt.batch(()=>O(this,ze).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Fn).catch(Fn)}invalidateQueries(t={},e={}){return Vt.batch(()=>{if(O(this,ze).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Vt.batch(()=>O(this,ze).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Fn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Fn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=O(this,ze).build(this,e);return n.isStaleByTime(Gx(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Fn).catch(Fn)}fetchInfiniteQuery(t){return t.behavior=Zx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Fn).catch(Fn)}ensureInfiniteQueryData(t){return t.behavior=Zx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Hd.isOnline()?O(this,xs).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,ze)}getMutationCache(){return O(this,xs)}getDefaultOptions(){return O(this,_s)}setDefaultOptions(t){ae(this,_s,t)}setQueryDefaults(t,e){O(this,Zo).set(tc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,Zo).values()];let n={};return e.forEach(r=>{nc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){O(this,ea).set(tc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,ea).values()];let n={};return e.forEach(r=>{nc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,_s).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===_v&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,_s).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,ze).clear(),O(this,xs).clear()}},ze=new WeakMap,xs=new WeakMap,_s=new WeakMap,Zo=new WeakMap,ea=new WeakMap,Es=new WeakMap,ta=new WeakMap,na=new WeakMap,xE),FL=p.createContext(void 0),$L=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(FL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}var Ss;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ss||(Ss={}));const t_="popstate";function UL(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Eg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wd(s)}return BL(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zL(){return Math.random().toString(36).substr(2,8)}function n_(t,e){return{usr:t.state,key:t.key,idx:e}}function Eg(t,e,n,r){return n===void 0&&(n=null),rc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Na(e):e,{state:n,key:e&&e.key||r||zL()})}function Wd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ss.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(rc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ss.Pop;let _=d(),y=_==null?null:_-u;u=_,l&&l({action:a,location:g.location,delta:y})}function h(_,y){a=Ss.Push;let v=Eg(g.location,_,y);u=d()+1;let w=n_(v,u),E=g.createHref(v);try{o.pushState(w,"",E)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(E)}i&&l&&l({action:a,location:g.location,delta:1})}function m(_,y){a=Ss.Replace;let v=Eg(g.location,_,y);u=d();let w=n_(v,u),E=g.createHref(v);o.replaceState(w,"",E),i&&l&&l({action:a,location:g.location,delta:0})}function x(_){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof _=="string"?_:Wd(_);return v=v.replace(/ $/,"%20"),Ze(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(t_,f),l=_,()=>{s.removeEventListener(t_,f),l=null}},createHref(_){return e(s,_)},createURL:x,encodeLocation(_){let y=x(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(_){return o.go(_)}};return g}var r_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(r_||(r_={}));function HL(t,e,n){return n===void 0&&(n="/"),WL(t,e,n,!1)}function WL(t,e,n,r){let s=typeof e=="string"?Na(e):e,i=Ev(s.pathname||"/",n);if(i==null)return null;let o=cI(t);qL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=r4(i);a=t4(o[l],u,r)}return a}function cI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Os([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cI(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:ZL(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of uI(i.path))s(i,o,l)}),e}function uI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=uI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function qL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:e4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KL=/^:[\w-]+$/,GL=3,QL=2,YL=1,XL=10,JL=-2,s_=t=>t==="*";function ZL(t,e){let n=t.split("/"),r=n.length;return n.some(s_)&&(r+=JL),e&&(r+=QL),n.filter(s=>!s_(s)).reduce((s,i)=>s+(KL.test(i)?GL:i===""?YL:XL),r)}function e4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function t4(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=i_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=i_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Os([i,f.pathname]),pathnameBase:a4(Os([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Os([i,f.pathnameBase]))}return o}function i_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=n4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=a[f];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function n4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function r4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ev(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function s4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Na(t):t;return{pathname:n?n.startsWith("/")?n:i4(n,e):e,search:l4(r),hash:c4(s)}}function i4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function o4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dI(t,e){let n=o4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hI(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Na(t):(s=rc({},t),Ze(!s.pathname||!s.pathname.includes("?"),jp("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),jp("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),jp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=s4(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Os=t=>t.join("/").replace(/\/\/+/g,"/"),a4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function u4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fI=["post","put","patch","delete"];new Set(fI);const d4=["get",...fI];new Set(d4);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(this,arguments)}const bv=p.createContext(null),h4=p.createContext(null),Qi=p.createContext(null),Qh=p.createContext(null),Xs=p.createContext({outlet:null,matches:[],isDataRoute:!1}),pI=p.createContext(null);function f4(t,e){let{relative:n}=e===void 0?{}:e;jc()||Ze(!1);let{basename:r,navigator:s}=p.useContext(Qi),{hash:i,pathname:o,search:a}=gI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Os([r,o])),s.createHref({pathname:l,search:a,hash:i})}function jc(){return p.useContext(Qh)!=null}function Oc(){return jc()||Ze(!1),p.useContext(Qh).location}function mI(t){p.useContext(Qi).static||p.useLayoutEffect(t)}function Xr(){let{isDataRoute:t}=p.useContext(Xs);return t?I4():p4()}function p4(){jc()||Ze(!1);let t=p.useContext(bv),{basename:e,future:n,navigator:r}=p.useContext(Qi),{matches:s}=p.useContext(Xs),{pathname:i}=Oc(),o=JSON.stringify(dI(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return mI(()=>{a.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=hI(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Os([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function Yh(){let{matches:t}=p.useContext(Xs),e=t[t.length-1];return e?e.params:{}}function gI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Qi),{matches:s}=p.useContext(Xs),{pathname:i}=Oc(),o=JSON.stringify(dI(s,r.v7_relativeSplatPath));return p.useMemo(()=>hI(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function m4(t,e){return g4(t,e)}function g4(t,e,n,r){jc()||Ze(!1);let{navigator:s}=p.useContext(Qi),{matches:i}=p.useContext(Xs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Oc(),d;if(e){var f;let _=typeof e=="string"?Na(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||Ze(!1),d=_}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=HL(t,{pathname:m}),g=_4(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Os([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Os([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&g?p.createElement(Qh.Provider,{value:{location:sc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ss.Pop}},g):g}function y4(){let t=S4(),e=u4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const v4=p.createElement(y4,null);class w4 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Xs.Provider,{value:this.props.routeContext},p.createElement(pI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x4(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(bv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Xs.Provider,{value:e},r)}function _4(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,x=!1,g=null,_=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||v4,l&&(u<0&&h===0?(x=!0,_=null):u===h&&(x=!0,_=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),v=()=>{let w;return m?w=g:x?w=_:f.route.Component?w=p.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,p.createElement(x4,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(w4,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var yI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yI||{}),qd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qd||{});function E4(t){let e=p.useContext(bv);return e||Ze(!1),e}function b4(t){let e=p.useContext(h4);return e||Ze(!1),e}function T4(t){let e=p.useContext(Xs);return e||Ze(!1),e}function vI(t){let e=T4(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function S4(){var t;let e=p.useContext(pI),n=b4(qd.UseRouteError),r=vI(qd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function I4(){let{router:t}=E4(yI.UseNavigateStable),e=vI(qd.UseNavigateStable),n=p.useRef(!1);return mI(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,sc({fromRouteId:e},i)))},[t,e])}function Tt(t){Ze(!1)}function k4(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ss.Pop,navigator:i,static:o=!1,future:a}=t;jc()&&Ze(!1);let l=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:l,navigator:i,static:o,future:sc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Na(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:x="default"}=r,g=p.useMemo(()=>{let _=Ev(d,l);return _==null?null:{location:{pathname:_,search:f,hash:h,state:m,key:x},navigationType:s}},[l,d,f,h,m,x,s]);return g==null?null:p.createElement(Qi.Provider,{value:u},p.createElement(Qh.Provider,{children:n,value:g}))}function C4(t){let{children:e,location:n}=t;return m4(bg(e),n)}new Promise(()=>{});function bg(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,bg(r.props.children,i));return}r.type!==Tt&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function A4(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function R4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function N4(t,e){return t.button===0&&(!e||e==="_self")&&!R4(t)}const P4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D4="6";try{window.__reactRouterVersion=D4}catch{}const j4="startTransition",o_=PE[j4];function O4(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=UL({window:s,v5Compat:!0}));let o=i.current,[a,l]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=p.useCallback(f=>{u&&o_?o_(()=>l(f)):l(f)},[l,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.createElement(k4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const M4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=A4(e,P4),{basename:m}=p.useContext(Qi),x,g=!1;if(typeof u=="string"&&L4.test(u)&&(x=u,M4))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),b=Ev(E.pathname,m);E.origin===w.origin&&b!=null?u=b+E.search+E.hash:g=!0}catch{}let _=f4(u,{relative:s}),y=V4(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function v(w){r&&r(w),w.defaultPrevented||y(w)}return p.createElement("a",Tg({},h,{href:x||_,onClick:g||i?r:v,ref:n,target:l}))});var a_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(a_||(a_={}));var l_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(l_||(l_={}));function V4(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Xr(),u=Oc(),d=gI(t,{relative:o});return p.useCallback(f=>{if(N4(f,n)){f.preventDefault();let h=r!==void 0?r:Wd(u)===Wd(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}const F4=Fh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ua:"button";return c.jsx(o,{className:xe(F4({variant:e,size:n,className:t})),ref:i,...s})});X.displayName="Button";function Tv(){return c.jsxs("nav",{className:"w-full px-4 py-3 flex items-center justify-between border-b border-border/40 bg-background/80 backdrop-blur-md fixed top-0 z-50",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(Pe,{to:"/",children:c.jsx("img",{src:"/vvvvv.png",alt:"Logo",className:"h-10 w-auto",style:{maxWidth:160}})})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Pe,{to:"/login",children:c.jsx(X,{variant:"ghost",size:"sm",children:"Giriş Yap"})}),c.jsx(Pe,{to:"/register",children:c.jsx(X,{variant:"default",size:"sm",children:"Kayıt Ol"})})]})]})}const tn=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));tn.displayName="Card";const Jr=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",t),...e}));Jr.displayName="CardHeader";const Pa=p.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Pa.displayName="CardTitle";const Da=p.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));Da.displayName="CardDescription";const nn=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:xe("p-6 pt-0",t),...e}));nn.displayName="CardContent";const Mc=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",t),...e}));Mc.displayName="CardFooter";function ku({icon:t,title:e,description:n}){return c.jsxs(tn,{className:"overflow-hidden border border-border/50 bg-background/50 backdrop-blur-sm hover:shadow-md transition-all hover:-translate-y-1",children:[c.jsxs(Jr,{className:"pb-2",children:[c.jsx("div",{className:"mb-2 p-2 w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:t}),c.jsx(Pa,{className:"text-xl font-semibold",children:e})]}),c.jsx(nn,{children:c.jsx(Da,{className:"text-sm",children:n})})]})}const c_=({className:t="",style:e={}})=>c.jsxs("svg",{viewBox:"0 0 64 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,style:e,children:[c.jsx("ellipse",{cx:"24",cy:"20",rx:"16",ry:"12",fill:"#90caf9"}),c.jsx("ellipse",{cx:"40",cy:"16",rx:"16",ry:"12",fill:"#42a5f5"}),c.jsx("ellipse",{cx:"32",cy:"24",rx:"20",ry:"10",fill:"#e3f2fd"})]}),$4=({className:t="",style:e={}})=>c.jsxs("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,style:e,children:[c.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#f5f9ff"}),c.jsx("path",{d:"M16 2a14 14 0 1 0 14 14c0-1.1-.1-2.2-.3-3.2A10 10 0 0 1 16 2z",fill:"#90caf9"})]}),U4=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!1),[s,i]=p.useState(!1),[o,a]=p.useState(!1);async function l(){const f=await(await fetch("/api/notifications")).json();e(f.notifications),i(f.notifications.some(h=>!h.read))}p.useEffect(()=>{l();const d=setInterval(l,5e3);return()=>clearInterval(d)},[]);const u=async()=>{r(d=>!d),!n&&s&&!o&&(a(!0),await fetch("/api/notifications/read",{method:"POST"}),await l(),a(!1))};return c.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[c.jsxs("button",{onClick:u,style:{background:"none",border:"none",cursor:"pointer"},"aria-label":"Bildirimler",children:[c.jsx("span",{style:{fontSize:24},children:"🔔"}),s&&!n&&c.jsx("span",{style:{position:"absolute",top:0,right:0,width:12,height:12,background:"red",borderRadius:"50%",display:"inline-block",border:"2px solid white"}})]}),n&&c.jsxs("div",{style:{position:"absolute",right:0,top:32,background:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",borderRadius:8,minWidth:220,zIndex:1e3,padding:8},children:[c.jsx("strong",{children:"Bildirimler"}),c.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[t.length===0&&c.jsx("li",{children:"Hiç bildirim yok."}),t.map((d,f)=>c.jsx("li",{style:{background:d.read?"#f5f5f5":"#e6f7ff",margin:"4px 0",padding:"6px 8px",borderRadius:4,fontWeight:d.read?"normal":"bold"},children:d.message},f))]})]})]})};var Sv="Avatar",[z4,eW]=ka(Sv),[B4,wI]=z4(Sv),xI=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=p.useState("idle");return c.jsx(B4,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:c.jsx(ve.span,{...r,ref:e})})});xI.displayName=Sv;var _I="AvatarImage",EI=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=wI(_I,n),a=H4(r,i.referrerPolicy),l=en(u=>{s(u),o.onImageLoadingStatusChange(u)});return Er(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(ve.img,{...i,ref:e,src:r}):null});EI.displayName=_I;var bI="AvatarFallback",TI=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=wI(bI,n),[o,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?c.jsx(ve.span,{...s,ref:e}):null});TI.displayName=bI;function H4(t,e){const[n,r]=p.useState("idle");return Er(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var SI=xI,II=EI,kI=TI;const Qt=p.forwardRef(({className:t,...e},n)=>c.jsx(SI,{ref:n,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Qt.displayName=SI.displayName;const mn=p.forwardRef(({className:t,...e},n)=>c.jsx(II,{ref:n,className:xe("aspect-square h-full w-full",t),...e}));mn.displayName=II.displayName;const Yt=p.forwardRef(({className:t,...e},n)=>c.jsx(kI,{ref:n,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Yt.displayName=kI.displayName;var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},W4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},AI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new q4;const h=i<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const x=u<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class q4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K4=function(t){const e=CI(t);return AI.encodeByteArray(e,!0)},Kd=function(t){return K4(t).replace(/\./g,"")},RI=function(t){try{return AI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=()=>G4().__FIREBASE_DEFAULTS__,Y4=()=>{if(typeof process>"u"||typeof u_>"u")return;const t=u_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},X4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RI(t[1]);return e&&JSON.parse(e)},Xh=()=>{try{return Q4()||Y4()||X4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NI=t=>{var e,n;return(n=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PI=t=>{const e=NI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DI=()=>{var t;return(t=Xh())===null||t===void 0?void 0:t.config},jI=t=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kd(JSON.stringify(n)),Kd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function eV(){var t;const e=(t=Xh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Iv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nV(){const t=et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rV(){return!eV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jh(){try{return typeof indexedDB=="object"}catch{return!1}}function kv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function MI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="FirebaseError";class Mn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sV,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yi.prototype.create)}}class Yi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?iV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Mn(s,a,r)}}function iV(t,e){return t.replace(oV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const oV=/\{\$([^}]+)}/g;function aV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(d_(i)&&d_(o)){if(!Oi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function d_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ll(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function cl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lV(t,e){const n=new cV(t,e);return n.subscribe.bind(n)}class cV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Op),s.error===void 0&&(s.error=Op),s.complete===void 0&&(s.complete=Op);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Op(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=1e3,hV=2,fV=4*60*60*1e3,pV=.5;function h_(t,e=dV,n=hV){const r=e*Math.pow(n,t),s=Math.round(pV*r*(Math.random()-.5)*2);return Math.min(fV,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}class On{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new J4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yV(e))try{this.getOrInitializeService({instanceIdentifier:ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ai){return this.instances.has(e)}getOptions(e=ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ai){return this.component?this.component.multipleInstances?e:ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gV(t){return t===ai?void 0:t}function yV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const wV={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},xV=de.INFO,_V={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},EV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_V[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zh{constructor(e){this.name=e,this._logLevel=xV,this._logHandler=EV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const bV=(t,e)=>e.some(n=>t instanceof n);let f_,p_;function TV(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SV(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LI=new WeakMap,Sg=new WeakMap,VI=new WeakMap,Mp=new WeakMap,Cv=new WeakMap;function IV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ms(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LI.set(n,t)}).catch(()=>{}),Cv.set(e,t),e}function kV(t){if(Sg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Sg.set(t,e)}let Ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CV(t){Ig=t(Ig)}function AV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lp(this),e,...n);return VI.set(r,e.sort?e.sort():[e]),Ms(r)}:SV().includes(t)?function(...e){return t.apply(Lp(this),e),Ms(LI.get(this))}:function(...e){return Ms(t.apply(Lp(this),e))}}function RV(t){return typeof t=="function"?AV(t):(t instanceof IDBTransaction&&kV(t),bV(t,TV())?new Proxy(t,Ig):t)}function Ms(t){if(t instanceof IDBRequest)return IV(t);if(Mp.has(t))return Mp.get(t);const e=RV(t);return e!==t&&(Mp.set(t,e),Cv.set(e,t)),e}const Lp=t=>Cv.get(t);function FI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ms(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ms(o.result),l.oldVersion,l.newVersion,Ms(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const NV=["get","getKey","getAll","getAllKeys","count"],PV=["put","add","delete","clear"],Vp=new Map;function m_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vp.get(e))return Vp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=PV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||NV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Vp.set(e,i),i}CV(t=>({...t,get:(e,n,r)=>m_(e,n)||t.get(e,n,r),has:(e,n)=>!!m_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kg="@firebase/app",g_="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Zh("@firebase/app"),OV="@firebase/app-compat",MV="@firebase/analytics-compat",LV="@firebase/analytics",VV="@firebase/app-check-compat",FV="@firebase/app-check",$V="@firebase/auth",UV="@firebase/auth-compat",zV="@firebase/database",BV="@firebase/database-compat",HV="@firebase/functions",WV="@firebase/functions-compat",qV="@firebase/installations",KV="@firebase/installations-compat",GV="@firebase/messaging",QV="@firebase/messaging-compat",YV="@firebase/performance",XV="@firebase/performance-compat",JV="@firebase/remote-config",ZV="@firebase/remote-config-compat",eF="@firebase/storage",tF="@firebase/storage-compat",nF="@firebase/firestore",rF="@firebase/firestore-compat",sF="firebase",iF="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="[DEFAULT]",oF={[kg]:"fire-core",[OV]:"fire-core-compat",[LV]:"fire-analytics",[MV]:"fire-analytics-compat",[FV]:"fire-app-check",[VV]:"fire-app-check-compat",[$V]:"fire-auth",[UV]:"fire-auth-compat",[zV]:"fire-rtdb",[BV]:"fire-rtdb-compat",[HV]:"fire-fn",[WV]:"fire-fn-compat",[qV]:"fire-iid",[KV]:"fire-iid-compat",[GV]:"fire-fcm",[QV]:"fire-fcm-compat",[YV]:"fire-perf",[XV]:"fire-perf-compat",[JV]:"fire-rc",[ZV]:"fire-rc-compat",[eF]:"fire-gcs",[tF]:"fire-gcs-compat",[nF]:"fire-fst",[rF]:"fire-fst-compat","fire-js":"fire-js",[sF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new Map,Ag=new Map;function aF(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gn(t){const e=t.name;if(Ag.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Ag.set(e,t);for(const n of Gd.values())aF(n,t);return!0}function Js(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ls=new Yi("app","Firebase",lF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=iF;function $I(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ls.create("bad-app-name",{appName:String(s)});if(n||(n=DI()),!n)throw Ls.create("no-options");const i=Gd.get(s);if(i){if(Oi(n,i.options)&&Oi(r,i.config))return i;throw Ls.create("duplicate-app",{appName:s})}const o=new vV(s);for(const l of Ag.values())o.addComponent(l);const a=new cF(n,r,o);return Gd.set(s,a),a}function ef(t=Cg){const e=Gd.get(t);if(!e&&t===Cg&&DI())return $I();if(!e)throw Ls.create("no-app",{appName:t});return e}function Xt(t,e,n){var r;let s=(r=oF[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(a.join(" "));return}Gn(new On(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="firebase-heartbeat-database",dF=1,ic="firebase-heartbeat-store";let Fp=null;function UI(){return Fp||(Fp=FI(uF,dF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),Fp}async function hF(t){try{const n=(await UI()).transaction(ic),r=await n.objectStore(ic).get(zI(t));return await n.done,r}catch(e){if(e instanceof Mn)Mi.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function y_(t,e){try{const r=(await UI()).transaction(ic,"readwrite");await r.objectStore(ic).put(e,zI(t)),await r.done}catch(n){if(n instanceof Mn)Mi.warn(n.message);else{const r=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function zI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=1024,pF=30*24*60*60*1e3;class mF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=v_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=pF}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v_(),{heartbeatsToSend:r,unsentEntries:s}=gF(this._heartbeatsCache.heartbeats),i=Kd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function v_(){return new Date().toISOString().substring(0,10)}function gF(t,e=fF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),w_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),w_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jh()?kv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function w_(t){return Kd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t){Gn(new On("platform-logger",e=>new DV(e),"PRIVATE")),Gn(new On("heartbeat",e=>new mF(e),"PRIVATE")),Xt(kg,g_,t),Xt(kg,g_,"esm2017"),Xt("fire-js","")}vF("");var wF="firebase",xF="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt(wF,xF,"app");var ur=function(){return ur=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ur.apply(this,arguments)};function Vc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _F(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function BI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EF=BI,HI=new Yi("auth","Firebase",BI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Zh("@firebase/auth");function bF(t,...e){Qd.logLevel<=de.WARN&&Qd.warn(`Auth (${Xi}): ${t}`,...e)}function sd(t,...e){Qd.logLevel<=de.ERROR&&Qd.error(`Auth (${Xi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw Av(t,...e)}function yr(t,...e){return Av(t,...e)}function TF(t,e,n){const r=Object.assign(Object.assign({},EF()),{[e]:n});return new Yi("auth","Firebase",r).create(e,{appName:t.name})}function Av(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HI.create(t,...e)}function J(t,e,...n){if(!t)throw Av(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sd(e),new Error(e)}function Hr(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SF(){return x_()==="http:"||x_()==="https:"}function x_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SF()||Iv()||"connection"in navigator)?navigator.onLine:!0}function kF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=Z4()||tV()}get(){return IF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e){Hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=new Fc(3e4,6e4);function Zs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ei(t,e,n,r,s={}){return qI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Lc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),WI.fetch()(KI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function qI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},CF),e);try{const s=new NF(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Cu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw TF(t,d,u);Qn(t,d)}}catch(s){if(s instanceof Mn)throw s;Qn(t,"network-request-failed",{message:String(s)})}}async function $c(t,e,n,r,s={}){const i=await ei(t,e,n,r,s);return"mfaPendingCredential"in i&&Qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function KI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Rv(t.config,s):`${t.config.apiScheme}://${s}`}function RF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),AF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=yr(t,e,r);return s.customData._tokenResponse=n,s}function __(t){return t!==void 0&&t.enterprise!==void 0}class PF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function DF(t,e){return ei(t,"GET","/v2/recaptchaConfig",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(t,e){return ei(t,"POST","/v1/accounts:delete",e)}async function OF(t,e){return ei(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MF(t,e=!1){const n=Me(t),r=await n.getIdToken(e),s=Nv(r);J(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Il($p(s.auth_time)),issuedAtTime:Il($p(s.iat)),expirationTime:Il($p(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function $p(t){return Number(t)*1e3}function Nv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const s=RI(n);return s?JSON.parse(s):(sd("Failed to decode base64 JWT payload"),null)}catch(s){return sd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function LF(t){const e=Nv(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mn&&VF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await oc(t,OF(n,{idToken:r}));J(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?zF(i.providerUserInfo):[],a=UF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new GI(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function $F(t){const e=Me(t);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UF(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function zF(t){return t.map(e=>{var{providerId:n}=e,r=Vc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BF(t,e){const n=await qI(t,{},async()=>{const r=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=KI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HF(t,e){return ei(t,"POST","/v2/accounts:revokeToken",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await BF(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ac;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(J(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(J(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ac,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Vc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new GI(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await oc(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MF(this,e)}reload(){return $F(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await oc(this,jF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:E,isAnonymous:b,providerData:S,stsTokenManager:T}=n;J(w&&T,e,"internal-error");const C=ac.fromJSON(this.name,T);J(typeof w=="string",e,"internal-error"),os(f,e.name),os(h,e.name),J(typeof E=="boolean",e,"internal-error"),J(typeof b=="boolean",e,"internal-error"),os(m,e.name),os(x,e.name),os(g,e.name),os(_,e.name),os(y,e.name),os(v,e.name);const P=new Ti({uid:w,auth:e,email:h,emailVerified:E,displayName:f,isAnonymous:b,photoURL:x,phoneNumber:m,tenantId:g,stsTokenManager:C,createdAt:y,lastLoginAt:v});return S&&Array.isArray(S)&&(P.providerData=S.map(A=>Object.assign({},A))),_&&(P._redirectEventId=_),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new ac;s.updateFromServerResponse(n);const i=new Ti({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Yd(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;function Or(t){Hr(t instanceof Function,"Expected a class definition");let e=E_.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QI.type="NONE";const b_=QI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=id(this.userKey,s.apiKey,i),this.fullPersistenceKey=id("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $o(Or(b_),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Or(b_);const o=id(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const f=Ti._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new $o(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new $o(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ek(e))return"Blackberry";if(tk(e))return"Webos";if(Pv(e))return"Safari";if((e.includes("chrome/")||XI(e))&&!e.includes("edge/"))return"Chrome";if(ZI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YI(t=et()){return/firefox\//i.test(t)}function Pv(t=et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XI(t=et()){return/crios\//i.test(t)}function JI(t=et()){return/iemobile/i.test(t)}function ZI(t=et()){return/android/i.test(t)}function ek(t=et()){return/blackberry/i.test(t)}function tk(t=et()){return/webos/i.test(t)}function tf(t=et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WF(t=et()){var e;return tf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qF(){return nV()&&document.documentMode===10}function nk(t=et()){return tf(t)||ZI(t)||tk(t)||ek(t)||/windows phone/i.test(t)||JI(t)}function KF(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t,e=[]){let n;switch(t){case"Browser":n=T_(et());break;case"Worker":n=`${T_(et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(t,e={}){return ei(t,"GET","/v2/passwordPolicy",Zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=6;class XF{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:YF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new GF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Me(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QF(this),n=new XF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ji(t){return Me(t)}class S_{constructor(e){this.auth=e,this.observer=null,this.addObserver=lV(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZF(t){nf=t}function sk(t){return nf.loadJS(t)}function e5(){return nf.recaptchaEnterpriseScript}function t5(){return nf.gapiScript}function n5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const r5="recaptcha-enterprise",s5="NO_RECAPTCHA";class i5{constructor(e){this.type=r5,this.auth=Ji(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{DF(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new PF(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;__(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(s5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&__(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=e5();l.length!==0&&(l+=a),sk(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function I_(t,e,n,r=!1){const s=new i5(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ng(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await I_(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await I_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t,e){const n=Js(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Oi(i,e??{}))return s;Qn(s,"already-initialized")}return n.initialize({options:e})}function a5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function l5(t,e,n){const r=Ji(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=ik(e),{host:o,port:a}=c5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),u5()}function ik(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c5(t){const e=ik(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:k_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:k_(o)}}}function k_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function u5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function d5(t,e){return ei(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e){return $c(t,"POST","/v1/accounts:signInWithPassword",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(t,e){return $c(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}async function p5(t,e){return $c(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Dv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new lc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,n,"signInWithPassword",h5);case"emailLink":return f5(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,r,"signUpPassword",d5);case"emailLink":return p5(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e){return $c(t,"POST","/v1/accounts:signInWithIdp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="http://localhost";class Li extends Dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Vc(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Li(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:m5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y5(t){const e=ll(cl(t)).link,n=e?ll(cl(e)).deep_link_id:null,r=ll(cl(t)).deep_link_id;return(r?ll(cl(r)).link:null)||r||n||e||t}class jv{constructor(e){var n,r,s,i,o,a;const l=ll(cl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=g5((s=l.mode)!==null&&s!==void 0?s:null);J(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=y5(e);try{return new jv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.providerId=ja.PROVIDER_ID}static credential(e,n){return lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jv.parseLink(n);return J(r,"argument-error"),lc._fromEmailAndCode(e,r.code,r.tenantId)}}ja.PROVIDER_ID="password";ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends ok{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Uc{constructor(){super("facebook.com")}static credential(e){return Li._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Li._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Uc{constructor(){super("github.com")}static credential(e){return Li._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Uc{constructor(){super("twitter.com")}static credential(e,n){return Li._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e){return $c(t,"POST","/v1/accounts:signUp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ti._fromIdTokenResponse(e,r,s),o=C_(r);return new Vi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=C_(r);return new Vi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function C_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Mn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xd(e,n,r,s)}}function ak(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Xd._fromErrorAndOperation(t,i,e,r):i})}async function w5(t,e,n=!1){const r=await oc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await oc(t,ak(r,s,e,t),n);J(i.idToken,r,"internal-error");const o=Nv(i.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),Vi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e,n=!1){const r="signIn",s=await ak(t,r,e),i=await Vi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function _5(t,e){return lk(Ji(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(t){const e=Ji(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function E5(t,e,n){const r=Ji(t),o=await Ng(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ck(t),l}),a=await Vi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function b5(t,e,n){return _5(Me(t),ja.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ck(t),r})}function T5(t,e,n,r){return Me(t).onIdTokenChanged(e,n,r)}function S5(t,e,n){return Me(t).beforeAuthStateChanged(e,n)}function I5(t,e,n,r){return Me(t).onAuthStateChanged(e,n,r)}function k5(t){return Me(t).signOut()}const Jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jd,"1"),this.storage.removeItem(Jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(){const t=et();return Pv(t)||tf(t)}const A5=1e3,R5=10;class dk extends uk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=C5()&&KF(),this.fallbackToPolling=nk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);qF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,R5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},A5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dk.type="LOCAL";const N5=dk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends uk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hk.type="SESSION";const fk=hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await P5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Ov("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function j5(t){vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function O5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function L5(){return pk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="firebaseLocalStorageDb",V5=1,Zd="firebaseLocalStorage",gk="fbase_key";class zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(t,e){return t.transaction([Zd],e?"readwrite":"readonly").objectStore(Zd)}function F5(){const t=indexedDB.deleteDatabase(mk);return new zc(t).toPromise()}function Pg(){const t=indexedDB.open(mk,V5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zd,{keyPath:gk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zd)?e(r):(r.close(),await F5(),e(await Pg()))})})}async function A_(t,e,n){const r=sf(t,!0).put({[gk]:e,value:n});return new zc(r).toPromise()}async function $5(t,e){const n=sf(t,!1).get(e),r=await new zc(n).toPromise();return r===void 0?null:r.value}function R_(t,e){const n=sf(t,!0).delete(e);return new zc(n).toPromise()}const U5=800,z5=3;class yk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>z5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(L5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await O5(),!this.activeServiceWorker)return;this.sender=new D5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pg();return await A_(e,Jd,"1"),await R_(e,Jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>R_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=sf(s,!1).getAll();return new zc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yk.type="LOCAL";const B5=yk;new Fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t,e){return e?Or(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv extends Dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function W5(t){return lk(t.auth,new Mv(t),t.bypassAuthState)}function q5(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),x5(n,new Mv(t),t.bypassAuthState)}async function K5(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),w5(n,new Mv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W5;case"linkViaPopup":case"linkViaRedirect":return K5;case"reauthViaPopup":case"reauthViaRedirect":return q5;default:Qn(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new Fc(2e3,1e4);class Ro extends vk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=Ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G5.get())};e()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="pendingRedirect",od=new Map;class Y5 extends vk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=od.get(this.auth._key());if(!e){try{const r=await X5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X5(t,e){const n=e$(e),r=Z5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function J5(t,e){od.set(t._key(),e)}function Z5(t){return Or(t._redirectPersistence)}function e$(t){return id(Q5,t.config.apiKey,t.name)}async function t$(t,e,n=!1){const r=Ji(t),s=H5(r,e),o=await new Y5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$=10*60*1e3;class r${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wk(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n$&&this.cachedEventUids.clear(),this.cachedEventUids.has(N_(e))}saveEventToCache(e){this.cachedEventUids.add(N_(e)),this.lastProcessedEventTime=Date.now()}}function N_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function s$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i$(t,e={}){return ei(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a$=/^https?/;async function l$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await i$(t);for(const n of e)try{if(c$(n))return}catch{}Qn(t,"unauthorized-domain")}function c$(t){const e=Rg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a$.test(n))return!1;if(o$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=new Fc(3e4,6e4);function P_(){const t=vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d$(t){return new Promise((e,n)=>{var r,s,i;function o(){P_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P_(),n(yr(t,"network-request-failed"))},timeout:u$.get()})}if(!((s=(r=vr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=vr().gapi)===null||i===void 0)&&i.load)o();else{const a=n5("iframefcb");return vr()[a]=()=>{gapi.load?o():n(yr(t,"network-request-failed"))},sk(`${t5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ad=null,e})}let ad=null;function h$(t){return ad=ad||d$(t),ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=new Fc(5e3,15e3),p$="__/auth/iframe",m$="emulator/auth/iframe",g$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v$(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rv(e,m$):`https://${t.config.authDomain}/${p$}`,r={apiKey:e.apiKey,appName:t.name,v:Xi},s=y$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Lc(r).slice(1)}`}async function w$(t){const e=await h$(t),n=vr().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:v$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=yr(t,"network-request-failed"),a=vr().setTimeout(()=>{i(o)},f$.get());function l(){vr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_$=500,E$=600,b$="_blank",T$="http://localhost";class D_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S$(t,e,n,r=_$,s=E$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},x$),{width:r.toString(),height:s.toString(),top:i,left:o}),u=et().toLowerCase();n&&(a=XI(u)?b$:n),YI(u)&&(e=e||T$,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,x])=>`${h}${m}=${x},`,"");if(WF(u)&&a!=="_self")return I$(e||"",a),new D_(null);const f=window.open(e||"",a,d);J(f,t,"popup-blocked");try{f.focus()}catch{}return new D_(f)}function I$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="__/auth/handler",C$="emulator/auth/handler",A$=encodeURIComponent("fac");async function j_(t,e,n,r,s,i){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xi,eventId:s};if(e instanceof ok){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Uc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${A$}=${encodeURIComponent(l)}`:"";return`${R$(t)}?${Lc(a).slice(1)}${u}`}function R$({config:t}){return t.emulator?Rv(t,C$):`https://${t.authDomain}/${k$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="webStorageSupport";class N${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fk,this._completeRedirectFn=t$,this._overrideRedirectResult=J5}async _openPopup(e,n,r,s){var i;Hr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await j_(e,n,r,Rg(),s);return S$(e,o,Ov())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await j_(e,n,r,Rg(),s);return j5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Hr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w$(e),r=new r$(e);return n.register("authEvent",s=>(J(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Up,{type:Up},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Up];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nk()||Pv()||tf()}}const P$=N$;var O_="@firebase/auth",M_="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O$(t){Gn(new On("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rk(t)},u=new JF(r,s,i,l);return a5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gn(new On("auth-internal",e=>{const n=Ji(e.getProvider("auth").getImmediate());return(r=>new D$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xt(O_,M_,j$(t)),Xt(O_,M_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=5*60,L$=jI("authIdTokenMaxAge")||M$;let L_=null;const V$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>L$)return;const s=n==null?void 0:n.token;L_!==s&&(L_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function F$(t=ef()){const e=Js(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o5(t,{popupRedirectResolver:P$,persistence:[B5,N5,fk]}),r=jI("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const i=V$(r);S5(n,i,()=>i(n.currentUser)),T5(n,o=>i(o))}const s=NI("auth");return s&&l5(n,`http://${s}`),n}function $$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=yr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",$$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O$("Browser");var U$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,Lv=Lv||{},ee=U$||self;function of(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function af(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function z$(t){return Object.prototype.hasOwnProperty.call(t,zp)&&t[zp]||(t[zp]=++B$)}var zp="closure_uid_"+(1e9*Math.random()>>>0),B$=0;function H$(t,e,n){return t.call.apply(t.bind,arguments)}function W$(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function At(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?At=H$:At=W$,At.apply(null,arguments)}function Au(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ct(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function ti(){this.s=this.s,this.o=this.o}var q$=0;ti.prototype.s=!1;ti.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),q$!=0)&&z$(this)};ti.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Vv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function V_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(of(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var K$=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ee.addEventListener("test",n,e),ee.removeEventListener("test",n,e)}catch{}return t}();function cc(t){return/^[\s\xa0]*$/.test(t)}function lf(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function dr(t){return lf().indexOf(t)!=-1}function Fv(t){return Fv[" "](t),t}Fv[" "]=function(){};function G$(t,e){var n=UU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Q$=dr("Opera"),fa=dr("Trident")||dr("MSIE"),_k=dr("Edge"),Dg=_k||fa,Ek=dr("Gecko")&&!(lf().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),Y$=lf().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge");function bk(){var t=ee.document;return t?t.documentMode:void 0}var jg;e:{var Bp="",Hp=function(){var t=lf();if(Ek)return/rv:([^\);]+)(\)|;)/.exec(t);if(_k)return/Edge\/([\d\.]+)/.exec(t);if(fa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Y$)return/WebKit\/(\S+)/.exec(t);if(Q$)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Hp&&(Bp=Hp?Hp[1]:""),fa){var Wp=bk();if(Wp!=null&&Wp>parseFloat(Bp)){jg=String(Wp);break e}}jg=Bp}var Og;if(ee.document&&fa){var F_=bk();Og=F_||parseInt(jg,10)||void 0}else Og=void 0;var X$=Og;function uc(t,e){if(Rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ek){e:{try{Fv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:J$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&uc.$.h.call(this)}}ct(uc,Rt);var J$={2:"touch",3:"pen",4:"mouse"};uc.prototype.h=function(){uc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var cf="closure_listenable_"+(1e6*Math.random()|0),Z$=0;function eU(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++Z$,this.fa=this.ia=!1}function uf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $v(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function tU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Tk(t){const e={};for(const n in t)e[n]=t[n];return e}const $_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sk(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<$_.length;i++)n=$_[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function df(t){this.src=t,this.g={},this.h=0}df.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Lg(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new eU(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Mg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=xk(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(uf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Lg(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Uv="closure_lm_"+(1e6*Math.random()|0),qp={};function Ik(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Ik(t,e[i],n,r,s);return null}return n=Ak(n),t&&t[cf]?t.O(e,n,af(r)?!!r.capture:!!r,s):nU(t,e,n,!1,r,s)}function nU(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=af(s)?!!s.capture:!!s,a=Bv(t);if(a||(t[Uv]=a=new df(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=rU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)K$||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Ck(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function rU(){function t(n){return e.call(t.src,t.listener,n)}const e=sU;return t}function kk(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)kk(t,e[i],n,r,s);else r=af(r)?!!r.capture:!!r,n=Ak(n),t&&t[cf]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Lg(i,n,r,s),-1<n&&(uf(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Bv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Lg(e,n,r,s)),(n=-1<t?e[t]:null)&&zv(n))}function zv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[cf])Mg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ck(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bv(e))?(Mg(n,t),n.h==0&&(n.src=null,e[Uv]=null)):uf(t)}}}function Ck(t){return t in qp?qp[t]:qp[t]="on"+t}function sU(t,e){if(t.fa)t=!0;else{e=new uc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&zv(t),t=n.call(r,e)}return t}function Bv(t){return t=t[Uv],t instanceof df?t:null}var Kp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ak(t){return typeof t=="function"?t:(t[Kp]||(t[Kp]=function(e){return t.handleEvent(e)}),t[Kp])}function lt(){ti.call(this),this.i=new df(this),this.S=this,this.J=null}ct(lt,ti);lt.prototype[cf]=!0;lt.prototype.removeEventListener=function(t,e,n,r){kk(this,t,e,n,r)};function gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Rt(e,t);else if(e instanceof Rt)e.target=e.target||t;else{var s=e;e=new Rt(r,t),Sk(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Ru(o,r,!0,e)&&s}if(o=e.g=t,s=Ru(o,r,!0,e)&&s,s=Ru(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Ru(o,r,!1,e)&&s}lt.prototype.N=function(){if(lt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)uf(n[r]);delete t.g[e],t.h--}}this.J=null};lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};lt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ru(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Mg(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Hv=ee.JSON.stringify;class iU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function oU(){var t=Wv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class aU{constructor(){this.h=this.g=null}add(e,n){const r=Rk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Rk=new iU(()=>new lU,t=>t.reset());class lU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function cU(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function uU(t){ee.setTimeout(()=>{throw t},0)}let dc,hc=!1,Wv=new aU,Nk=()=>{const t=ee.Promise.resolve(void 0);dc=()=>{t.then(dU)}};var dU=()=>{for(var t;t=oU();){try{t.h.call(t.g)}catch(n){uU(n)}var e=Rk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}hc=!1};function hf(t,e){lt.call(this),this.h=t||1,this.g=e||ee,this.j=At(this.qb,this),this.l=Date.now()}ct(hf,lt);W=hf.prototype;W.ga=!1;W.T=null;W.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gt(this,"tick"),this.ga&&(qv(this),this.start()))}};W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}W.N=function(){hf.$.N.call(this),qv(this),delete this.g};function Kv(t,e,n){if(typeof t=="function")n&&(t=At(t,n));else if(t&&typeof t.handleEvent=="function")t=At(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function Pk(t){t.g=Kv(()=>{t.g=null,t.i&&(t.i=!1,Pk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class hU extends ti{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pk(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fc(t){ti.call(this),this.h=t,this.g={}}ct(fc,ti);var U_=[];function Dk(t,e,n,r){Array.isArray(n)||(n&&(U_[0]=n.toString()),n=U_);for(var s=0;s<n.length;s++){var i=Ik(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function jk(t){$v(t.g,function(e,n){this.g.hasOwnProperty(n)&&zv(e)},t),t.g={}}fc.prototype.N=function(){fc.$.N.call(this),jk(this)};fc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ff(){this.g=!0}ff.prototype.Ea=function(){this.g=!1};function fU(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var f=d.split("_");o=2<=f.length&&f[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function pU(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function No(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+gU(t,n)+(r?" "+r:"")})}function mU(t,e){t.info(function(){return"TIMEOUT: "+e})}ff.prototype.info=function(){};function gU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Hv(n)}catch{return e}}var Zi={},z_=null;function pf(){return z_=z_||new lt}Zi.Ta="serverreachability";function Ok(t){Rt.call(this,Zi.Ta,t)}ct(Ok,Rt);function pc(t){const e=pf();gt(e,new Ok(e))}Zi.STAT_EVENT="statevent";function Mk(t,e){Rt.call(this,Zi.STAT_EVENT,t),this.stat=e}ct(Mk,Rt);function Ft(t){const e=pf();gt(e,new Mk(e,t))}Zi.Ua="timingevent";function Lk(t,e){Rt.call(this,Zi.Ua,t),this.size=e}ct(Lk,Rt);function Bc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}var mf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gv(){}Gv.prototype.h=null;function B_(t){return t.h||(t.h=t.i())}function Fk(){}var Hc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qv(){Rt.call(this,"d")}ct(Qv,Rt);function Yv(){Rt.call(this,"c")}ct(Yv,Rt);var Vg;function gf(){}ct(gf,Gv);gf.prototype.g=function(){return new XMLHttpRequest};gf.prototype.i=function(){return{}};Vg=new gf;function Wc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new fc(this),this.P=yU,t=Dg?125:void 0,this.V=new hf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $k}function $k(){this.i=null,this.g="",this.h=!1}var yU=45e3,Uk={},Fg={};W=Wc.prototype;W.setTimeout=function(t){this.P=t};function $g(t,e,n){t.L=1,t.A=vf(Wr(e)),t.u=n,t.S=!0,zk(t,null)}function zk(t,e){t.G=Date.now(),qc(t),t.B=Wr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Yk(n.i,"t",r),t.o=0,n=t.l.J,t.h=new $k,t.g=yC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new hU(At(t.Pa,t,t.g),t.O)),Dk(t.U,t.g,"readystatechange",t.nb),e=t.I?Tk(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),pc(),fU(t.j,t.v,t.B,t.m,t.W,t.u)}W.nb=function(t){t=t.target;const e=this.M;e&&hr(t)==3?e.l():this.Pa(t)};W.Pa=function(t){try{if(t==this.g)e:{const d=hr(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>d)&&(d!=3||Dg||this.g&&(this.h.h||this.g.ja()||K_(this.g)))){this.J||d!=4||e==7||(e==8||0>=f?pc(3):pc(2)),yf(this);var n=this.g.da();this.ca=n;t:if(Bk(this)){var r=K_(this.g);t="";var s=r.length,i=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hi(this),kl(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,pU(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cc(a)){var u=a;break t}}u=null}if(n=u)No(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ug(this,n);else{this.i=!1,this.s=3,Ft(12),hi(this),kl(this);break e}}this.S?(Hk(this,d,o),Dg&&this.i&&d==3&&(Dk(this.U,this.V,"tick",this.mb),this.V.start())):(No(this.j,this.m,o,null),Ug(this,o)),d==4&&hi(this),this.i&&!this.J&&(d==4?fC(this.l,this):(this.i=!1,qc(this)))}else VU(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),hi(this),kl(this)}}}catch{}finally{}};function Bk(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Hk(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=vU(t,n),s==Fg){e==4&&(t.s=4,Ft(14),r=!1),No(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Uk){t.s=4,Ft(15),No(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else No(t.j,t.m,s,null),Ug(t,s);Bk(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ft(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),n0(e),e.M=!0,Ft(11))):(No(t.j,t.m,n,"[Invalid Chunked Response]"),hi(t),kl(t))}W.mb=function(){if(this.g){var t=hr(this.g),e=this.g.ja();this.o<e.length&&(yf(this),Hk(this,t,e),this.i&&t!=4&&qc(this))}};function vU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Fg:(n=Number(e.substring(n,r)),isNaN(n)?Uk:(r+=1,r+n>e.length?Fg:(e=e.slice(r,r+n),t.o=r+n,e)))}W.cancel=function(){this.J=!0,hi(this)};function qc(t){t.Y=Date.now()+t.P,Wk(t,t.P)}function Wk(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Bc(At(t.lb,t),e)}function yf(t){t.C&&(ee.clearTimeout(t.C),t.C=null)}W.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(mU(this.j,this.B),this.L!=2&&(pc(),Ft(17)),hi(this),this.s=2,kl(this)):Wk(this,this.Y-t)};function kl(t){t.l.H==0||t.J||fC(t.l,t)}function hi(t){yf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,qv(t.V),jk(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ug(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||zg(n.i,t))){if(!t.K&&zg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)nh(n),Ef(n);else break e;t0(n),Ft(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Bc(At(n.ib,n),6e3));if(1>=Zk(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fi(n,11)}else if((t.K||n.g==t)&&nh(n),!cc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const x=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var i=r.i;i.g||x.indexOf("spdy")==-1&&x.indexOf("quic")==-1&&x.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Xv(i,i.h),i.h=null))}if(r.F){const g=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,De(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=gC(r,r.J?r.pa:null,r.Y),o.K){eC(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(yf(a),qc(a)),r.g=o}else dC(r);0<n.j.length&&bf(n)}else u[0]!="stop"&&u[0]!="close"||fi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?fi(n,7):e0(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}pc(4)}catch{}}function wU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(of(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function xU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(of(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function qk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(of(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=xU(t),r=wU(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var Kk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _U(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Si(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Si){this.h=t.h,eh(this,t.j),this.s=t.s,this.g=t.g,th(this,t.m),this.l=t.l;var e=t.i,n=new mc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),H_(this,n),this.o=t.o}else t&&(e=String(t).match(Kk))?(this.h=!1,eh(this,e[1]||"",!0),this.s=ul(e[2]||""),this.g=ul(e[3]||"",!0),th(this,e[4]),this.l=ul(e[5]||"",!0),H_(this,e[6]||"",!0),this.o=ul(e[7]||"")):(this.h=!1,this.i=new mc(null,this.h))}Si.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dl(e,W_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(dl(e,W_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(dl(n,n.charAt(0)=="/"?TU:bU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",dl(n,IU)),t.join("")};function Wr(t){return new Si(t)}function eh(t,e,n){t.j=n?ul(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function th(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function H_(t,e,n){e instanceof mc?(t.i=e,kU(t.i,t.h)):(n||(e=dl(e,SU)),t.i=new mc(e,t.h))}function De(t,e,n){t.i.set(e,n)}function vf(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,EU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function EU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var W_=/[#\/\?@]/g,bU=/[#\?:]/g,TU=/[#\?]/g,SU=/[#\?@]/g,IU=/#/g;function mc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ni(t){t.g||(t.g=new Map,t.h=0,t.i&&_U(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}W=mc.prototype;W.add=function(t,e){ni(this),this.i=null,t=Oa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Gk(t,e){ni(t),e=Oa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Qk(t,e){return ni(t),e=Oa(t,e),t.g.has(e)}W.forEach=function(t,e){ni(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};W.ta=function(){ni(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};W.Z=function(t){ni(this);let e=[];if(typeof t=="string")Qk(this,t)&&(e=e.concat(this.g.get(Oa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};W.set=function(t,e){return ni(this),this.i=null,t=Oa(this,t),Qk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};W.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Yk(t,e,n){Gk(t,e),0<n.length&&(t.i=null,t.g.set(Oa(t,e),Vv(n)),t.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Oa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function kU(t,e){e&&!t.j&&(ni(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Gk(this,r),Yk(this,s,n))},t)),t.j=e}var CU=class{constructor(t,e){this.g=t,this.map=e}};function Xk(t){this.l=t||AU,ee.PerformanceNavigationTiming?(t=ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var AU=10;function Jk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Zk(t){return t.h?1:t.g?t.g.size:0}function zg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Xv(t,e){t.g?t.g.add(e):t.h=e}function eC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Xk.prototype.cancel=function(){if(this.i=tC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function tC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Vv(t.i)}var RU=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function NU(){this.g=new RU}function PU(t,e,n){const r=n||"";try{qk(t,function(s,i){let o=s;af(s)&&(o=Hv(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function DU(t,e){const n=new ff;if(ee.Image){const r=new Image;r.onload=Au(Nu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Au(Nu,n,r,"TestLoadImage: error",!1,e),r.onabort=Au(Nu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Au(Nu,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Nu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function wf(t){this.l=t.ec||null,this.j=t.ob||!1}ct(wf,Gv);wf.prototype.g=function(){return new xf(this.l,this.j)};wf.prototype.i=function(t){return function(){return t}}({});function xf(t,e){lt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Jv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ct(xf,lt);var Jv=0;W=xf.prototype;W.open=function(t,e){if(this.readyState!=Jv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gc(this)};W.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kc(this)),this.readyState=Jv};W.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gc(this)),this.g&&(this.readyState=3,gc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function nC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}W.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Kc(this):gc(this),this.readyState==3&&nC(this)}};W.Za=function(t){this.g&&(this.response=this.responseText=t,Kc(this))};W.Ya=function(t){this.g&&(this.response=t,Kc(this))};W.ka=function(){this.g&&Kc(this)};function Kc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gc(t)}W.setRequestHeader=function(t,e){this.v.append(t,e)};W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function gc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var jU=ee.JSON.parse;function He(t){lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rC,this.L=this.M=!1}ct(He,lt);var rC="",OU=/^https?$/i,MU=["POST","PUT"];W=He.prototype;W.Oa=function(t){this.M=t};W.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vg.g(),this.C=this.u?B_(this.u):B_(Vg),this.g.onreadystatechange=At(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){q_(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ee.FormData&&t instanceof ee.FormData,!(0<=xk(MU,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oC(this),0<this.B&&((this.L=LU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=At(this.ua,this)):this.A=Kv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){q_(this,i)}};function LU(t){return fa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}W.ua=function(){typeof Lv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gt(this,"timeout"),this.abort(8))};function q_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,sC(t),_f(t)}function sC(t){t.F||(t.F=!0,gt(t,"complete"),gt(t,"error"))}W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,gt(this,"complete"),gt(this,"abort"),_f(this))};W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_f(this,!0)),He.$.N.call(this)};W.La=function(){this.s||(this.G||this.v||this.l?iC(this):this.kb())};W.kb=function(){iC(this)};function iC(t){if(t.h&&typeof Lv<"u"&&(!t.C[1]||hr(t)!=4||t.da()!=2)){if(t.v&&hr(t)==4)Kv(t.La,0,t);else if(gt(t,"readystatechange"),hr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(Kk)[1]||null;!s&&ee.self&&ee.self.location&&(s=ee.self.location.protocol.slice(0,-1)),r=!OU.test(s?s.toLowerCase():"")}n=r}if(n)gt(t,"complete"),gt(t,"success");else{t.m=6;try{var i=2<hr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",sC(t)}}finally{_f(t)}}}}function _f(t,e){if(t.g){oC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function oC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}W.isActive=function(){return!!this.g};function hr(t){return t.g?t.g.readyState:0}W.da=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}};W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),jU(e)}};function K_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case rC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function VU(t){const e={};t=(t.g&&2<=hr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(cc(t[r]))continue;var n=cU(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}tU(e,function(r){return r.join(", ")})}W.Ia=function(){return this.m};W.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function aC(t){let e="";return $v(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Zv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=aC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function el(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lC(t){this.Ga=0,this.j=[],this.l=new ff,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=el("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=el("baseRetryDelayMs",5e3,t),this.hb=el("retryDelaySeedMs",1e4,t),this.eb=el("forwardChannelMaxRetries",2,t),this.xa=el("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Xk(t&&t.concurrentRequestLimit),this.Ja=new NU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}W=lC.prototype;W.ra=8;W.H=1;function e0(t){if(cC(t),t.H==3){var e=t.W++,n=Wr(t.I);if(De(n,"SID",t.K),De(n,"RID",e),De(n,"TYPE","terminate"),Gc(t,n),e=new Wc(t,t.l,e),e.L=2,e.A=vf(Wr(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ee.Image&&(new Image().src=e.A,n=!0),n||(e.g=yC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),qc(e)}mC(t)}function Ef(t){t.g&&(n0(t),t.g.cancel(),t.g=null)}function cC(t){Ef(t),t.u&&(ee.clearTimeout(t.u),t.u=null),nh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ee.clearTimeout(t.m),t.m=null)}function bf(t){if(!Jk(t.i)&&!t.m){t.m=!0;var e=t.Na;dc||Nk(),hc||(dc(),hc=!0),Wv.add(e,t),t.C=0}}function FU(t,e){return Zk(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Bc(At(t.Na,t,e),pC(t,t.C)),t.C++,!0)}W.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Wc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=Tk(i),Sk(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uC(this,s,e),n=Wr(this.I),De(n,"RID",t),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),Gc(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(aC(i)))+"&"+e:this.o&&Zv(n,this.o,i)),Xv(this.i,s),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",e),De(n,"SID","null"),s.aa=!0,$g(s,n,null)):$g(s,n,e),this.H=2}}else this.H==3&&(t?G_(this,t):this.j.length==0||Jk(this.i)||G_(this))};function G_(t,e){var n;e?n=e.m:n=t.W++;const r=Wr(t.I);De(r,"SID",t.K),De(r,"RID",n),De(r,"AID",t.V),Gc(t,r),t.o&&t.s&&Zv(r,t.o,t.s),n=new Wc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=uC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Xv(t.i,n),$g(n,r,e)}function Gc(t,e){t.na&&$v(t.na,function(n,r){De(e,r,n)}),t.h&&qk({},function(n,r){De(e,r,n)})}function uC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?At(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const d=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{PU(d,o,"req"+u+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function dC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;dc||Nk(),hc||(dc(),hc=!0),Wv.add(e,t),t.A=0}}function t0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Bc(At(t.Ma,t),pC(t,t.A)),t.A++,!0)}W.Ma=function(){if(this.u=null,hC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Bc(At(this.jb,this),t)}};W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ft(10),Ef(this),hC(this))};function n0(t){t.B!=null&&(ee.clearTimeout(t.B),t.B=null)}function hC(t){t.g=new Wc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Wr(t.wa);De(e,"RID","rpc"),De(e,"SID",t.K),De(e,"AID",t.V),De(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&De(e,"TO",t.qa),De(e,"TYPE","xmlhttp"),Gc(t,e),t.o&&t.s&&Zv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=vf(Wr(e)),n.u=null,n.S=!0,zk(n,t)}W.ib=function(){this.v!=null&&(this.v=null,Ef(this),t0(this),Ft(19))};function nh(t){t.v!=null&&(ee.clearTimeout(t.v),t.v=null)}function fC(t,e){var n=null;if(t.g==e){nh(t),n0(t),t.g=null;var r=2}else if(zg(t.i,e))n=e.F,eC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=pf(),gt(r,new Lk(r,n)),bf(t)}else dC(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&FU(t,e)||r==2&&t0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:fi(t,5);break;case 4:fi(t,10);break;case 3:fi(t,6);break;default:fi(t,2)}}}function pC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function fi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=At(t.pb,t);n||(n=new Si("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||eh(n,"https"),vf(n)),DU(n.toString(),r)}else Ft(2);t.H=0,t.h&&t.h.za(e),mC(t),cC(t)}W.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ft(2)):(this.l.info("Failed to ping google.com"),Ft(1))};function mC(t){if(t.H=0,t.ma=[],t.h){const e=tC(t.i);(e.length!=0||t.j.length!=0)&&(V_(t.ma,e),V_(t.ma,t.j),t.i.i.length=0,Vv(t.j),t.j.length=0),t.h.ya()}}function gC(t,e,n){var r=n instanceof Si?Wr(n):new Si(n);if(r.g!="")e&&(r.g=e+"."+r.g),th(r,r.m);else{var s=ee.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Si(null);r&&eh(i,r),e&&(i.g=e),s&&th(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&De(r,n,e),De(r,"VER",t.ra),Gc(t,r),r}function yC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new He(new wf({ob:n})):new He(t.va),e.Oa(t.J),e}W.isActive=function(){return!!this.h&&this.h.isActive(this)};function vC(){}W=vC.prototype;W.Ba=function(){};W.Aa=function(){};W.za=function(){};W.ya=function(){};W.isActive=function(){return!0};W.Va=function(){};function rh(){if(fa&&!(10<=Number(X$)))throw Error("Environmental error: no available transport.")}rh.prototype.g=function(t,e){return new xn(t,e)};function xn(t,e){lt.call(this),this.g=new lC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!cc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ma(this)}ct(xn,lt);xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ft(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=gC(t,null,t.Y),bf(t)};xn.prototype.close=function(){e0(this.g)};xn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Hv(t),t=n);e.j.push(new CU(e.fb++,t)),e.H==3&&bf(e)};xn.prototype.N=function(){this.g.h=null,delete this.j,e0(this.g),delete this.g,xn.$.N.call(this)};function wC(t){Qv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ct(wC,Qv);function xC(){Yv.call(this),this.status=1}ct(xC,Yv);function Ma(t){this.g=t}ct(Ma,vC);Ma.prototype.Ba=function(){gt(this.g,"a")};Ma.prototype.Aa=function(t){gt(this.g,new wC(t))};Ma.prototype.za=function(t){gt(this.g,new xC)};Ma.prototype.ya=function(){gt(this.g,"b")};function $U(){this.blockSize=-1}function Yn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ct(Yn,$U);Yn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Gp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Yn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Gp(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Gp(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Gp(this,r),s=0;break}}this.h=s,this.i+=e};Yn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function be(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var UU={};function r0(t){return-128<=t&&128>t?G$(t,function(e){return new be([e|0],0>e?-1:0)}):new be([t|0],0>t?-1:0)}function fr(t){if(isNaN(t)||!isFinite(t))return zo;if(0>t)return ft(fr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Bg;return new be(e,0)}function _C(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ft(_C(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fr(Math.pow(e,8)),r=zo,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=fr(Math.pow(e,i)),r=r.R(i).add(fr(o))):(r=r.R(n),r=r.add(fr(o)))}return r}var Bg=4294967296,zo=r0(0),Hg=r0(1),Q_=r0(16777216);W=be.prototype;W.ea=function(){if(An(this))return-ft(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Bg+r)*e,e*=Bg}return t};W.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Mr(this))return"0";if(An(this))return"-"+ft(this).toString(t);for(var e=fr(Math.pow(t,6)),n=this,r="";;){var s=ih(n,e).g;n=sh(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Mr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};W.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Mr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function An(t){return t.h==-1}W.X=function(t){return t=sh(this,t),An(t)?-1:Mr(t)?0:1};function ft(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new be(n,~t.h).add(Hg)}W.abs=function(){return An(this)?ft(this):this};W.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new be(n,n[n.length-1]&-2147483648?-1:0)};function sh(t,e){return t.add(ft(e))}W.R=function(t){if(Mr(this)||Mr(t))return zo;if(An(this))return An(t)?ft(this).R(ft(t)):ft(ft(this).R(t));if(An(t))return ft(this.R(ft(t)));if(0>this.X(Q_)&&0>t.X(Q_))return fr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Pu(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Pu(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Pu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Pu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new be(n,0)};function Pu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function tl(t,e){this.g=t,this.h=e}function ih(t,e){if(Mr(e))throw Error("division by zero");if(Mr(t))return new tl(zo,zo);if(An(t))return e=ih(ft(t),e),new tl(ft(e.g),ft(e.h));if(An(e))return e=ih(t,ft(e)),new tl(ft(e.g),e.h);if(30<t.g.length){if(An(t)||An(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Hg,r=e;0>=r.X(t);)n=Y_(n),r=Y_(r);var s=uo(n,1),i=uo(r,1);for(r=uo(r,2),n=uo(n,2);!Mr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=uo(r,1),n=uo(n,1)}return e=sh(t,s.R(e)),new tl(s,e)}for(s=zo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=fr(n),o=i.R(e);An(o)||0<o.X(t);)n-=r,i=fr(n),o=i.R(e);Mr(i)&&(i=Hg),s=s.add(i),t=sh(t,o)}return new tl(s,t)}W.gb=function(t){return ih(this,t).h};W.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new be(n,this.h&t.h)};W.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new be(n,this.h|t.h)};W.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new be(n,this.h^t.h)};function Y_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new be(n,t.h)}function uo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new be(s,t.h)}rh.prototype.createWebChannel=rh.prototype.g;xn.prototype.send=xn.prototype.u;xn.prototype.open=xn.prototype.m;xn.prototype.close=xn.prototype.close;mf.NO_ERROR=0;mf.TIMEOUT=8;mf.HTTP_ERROR=6;Vk.COMPLETE="complete";Fk.EventType=Hc;Hc.OPEN="a";Hc.CLOSE="b";Hc.ERROR="c";Hc.MESSAGE="d";lt.prototype.listen=lt.prototype.O;He.prototype.listenOnce=He.prototype.P;He.prototype.getLastError=He.prototype.Sa;He.prototype.getLastErrorCode=He.prototype.Ia;He.prototype.getStatus=He.prototype.da;He.prototype.getResponseJson=He.prototype.Wa;He.prototype.getResponseText=He.prototype.ja;He.prototype.send=He.prototype.ha;He.prototype.setWithCredentials=He.prototype.Oa;Yn.prototype.digest=Yn.prototype.l;Yn.prototype.reset=Yn.prototype.reset;Yn.prototype.update=Yn.prototype.j;be.prototype.add=be.prototype.add;be.prototype.multiply=be.prototype.R;be.prototype.modulo=be.prototype.gb;be.prototype.compare=be.prototype.X;be.prototype.toNumber=be.prototype.ea;be.prototype.toString=be.prototype.toString;be.prototype.getBits=be.prototype.D;be.fromNumber=fr;be.fromString=_C;var zU=function(){return new rh},BU=function(){return pf()},Qp=mf,HU=Vk,WU=Zi,X_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Du=Fk,qU=He,KU=Yn,Bo=be;const J_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Zh("@firebase/firestore");function nl(){return Fi.logLevel}function H(t,...e){if(Fi.logLevel<=de.DEBUG){const n=e.map(s0);Fi.debug(`Firestore (${La}): ${t}`,...n)}}function Tr(t,...e){if(Fi.logLevel<=de.ERROR){const n=e.map(s0);Fi.error(`Firestore (${La}): ${t}`,...n)}}function pa(t,...e){if(Fi.logLevel<=de.WARN){const n=e.map(s0);Fi.warn(`Firestore (${La}): ${t}`,...n)}}function s0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: `+t;throw Tr(e),new Error(e)}function Ce(t,e){t||Z()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class QU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YU{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new wr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new wr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new EC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new It(e)}}class XU{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class JU{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new XU(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new ZU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=t3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function ma(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new rt(0,0))}static max(){return new te(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends yc{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new je(n)}static emptyPath(){return new je([])}}const n3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends yc{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return n3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(je.fromString(e))}static fromName(e){return new Y(je.fromString(e).popFirst(5))}static empty(){return new Y(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new je(e.slice()))}}function r3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=te.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Ws(s,Y.empty(),e)}function s3(t){return new Ws(t.readTime,t.key,-1)}class Ws{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ws(te.min(),Y.empty(),-1)}static max(){return new Ws(te.max(),Y.empty(),-1)}}function i3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==o3)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new M((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new M((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new wr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Cl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=o0(r.target.error);this.V.reject(new Cl(e,s))}}static open(e,n,r,s){try{return new i0(n,e.transaction(s,r))}catch(i){throw new Cl(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(H("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new c3(n)}}class pi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,pi.S(et())===12.2&&Tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return H("SimpleDb","Removing database:",e),li(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Jh())return!1;if(pi.C())return!0;const e=et(),n=pi.S(e),r=0<n&&n<10,s=pi.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(H("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Cl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new q(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new q(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Cl(e,o))},s.onupgradeneeded=i=>{H("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{H("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=i0.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),M.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(H("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class l3{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return li(this.k.delete())}}class Cl extends q{constructor(e,n){super(D.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Yc(t){return t.name==="IndexedDbTransactionError"}class c3{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(H("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(H("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),li(r)}add(e){return H("SimpleDb","ADD",this.store.name,e,e),li(this.store.add(e))}get(e){return li(this.store.get(e)).next(n=>(n===void 0&&(n=null),H("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return H("SimpleDb","DELETE",this.store.name,e),li(this.store.delete(e))}count(){return H("SimpleDb","COUNT",this.store.name),li(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new M((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new M((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){H("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new M((r,s)=>{n.onerror=i=>{const o=o0(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new M((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new l3(a),u=n(a.primaryKey,a.value,l);if(u instanceof M){const d=u.catch(f=>(l.done(),M.reject(f)));r.push(d)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function li(t){return new M((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=o0(r.target.error);n(s)}})}let Z_=!1;function o0(t){const e=pi.S(et());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Z_||(Z_=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}a0._e=-1;function Tf(t){return t==null}function oh(t){return t===0&&1/t==-1/0}function u3(t){return typeof t=="number"&&Number.isInteger(t)&&!oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ht.RED,this.left=s??ht.EMPTY,this.right=i??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ht(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t1(this.data.getIterator())}getIteratorFrom(e){return new t1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class t1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new dn([])}unionWith(e){let n=new yt(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ma(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new SC("Invalid base64 string: "+i):i}}(e);return new jt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const d3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=d3.exec(t);if(Ce(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $i(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function c0(t){const e=t.mapValue.fields.__previous_value__;return l0(e)?c0(e):e}function vc(t){const e=qs(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class wc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?l0(t)?4:f3(t)?9007199254740991:10:Z()}function Sr(t,e){if(t===e)return!0;const n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vc(t).isEqual(vc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=qs(s.timestampValue),a=qs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return $i(s.bytesValue).isEqual($i(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qe(s.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(s.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qe(s.integerValue)===Qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qe(s.doubleValue),a=Qe(i.doubleValue);return o===a?oh(o)===oh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ma(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(e1(o)!==e1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Sr(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function xc(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function ga(t,e){if(t===e)return 0;const n=Ui(t),r=Ui(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Qe(i.integerValue||i.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return n1(t.timestampValue,e.timestampValue);case 4:return n1(vc(t),vc(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(i,o){const a=$i(i),l=$i(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=we(a[u],l[u]);if(d!==0)return d}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=we(Qe(i.latitude),Qe(o.latitude));return a!==0?a:we(Qe(i.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=ga(a[u],l[u]);if(d)return d}return we(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Ou.mapValue&&o===Ou.mapValue)return 0;if(i===Ou.mapValue)return 1;if(o===Ou.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=we(l[f],d[f]);if(h!==0)return h;const m=ga(a[l[f]],u[d[f]]);if(m!==0)return m}return we(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Z()}}function n1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=qs(t),r=qs(e),s=we(n.seconds,r.seconds);return s!==0?s:we(n.nanos,r.nanos)}function ya(t){return Wg(t)}function Wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $i(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Wg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Wg(n.fields[o])}`;return s+"}"}(t.mapValue):Z()}function r1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qg(t){return!!t&&"integerValue"in t}function u0(t){return!!t&&"arrayValue"in t}function s1(t){return!!t&&"nullValue"in t}function i1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ld(t){return!!t&&"mapValue"in t}function Al(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Al(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Al(t.arrayValue.values[n]);return e}return Object.assign({},t)}function f3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(n)}setAll(e){let n=pt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Al(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ld(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){eo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ht(Al(this.value))}}function IC(t){const e=[];return eo(t.fields,(n,r)=>{const s=new pt([n]);if(ld(r)){const i=IC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,te.min(),te.min(),te.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,s){return new Ct(e,1,n,te.min(),r,s,0)}static newNoDocument(e,n){return new Ct(e,2,n,te.min(),te.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,te.min(),te.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.position=e,this.inclusive=n}}function o1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=ga(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function a1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n="asc"){this.field=e,this.dir=n}}function p3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{}class Xe extends kC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new g3(e,n,r):n==="array-contains"?new w3(e,r):n==="in"?new x3(e,r):n==="not-in"?new _3(e,r):n==="array-contains-any"?new E3(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new y3(e,r):new v3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ga(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison(ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends kC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Xn(e,n)}matches(e){return CC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function CC(t){return t.op==="and"}function AC(t){return m3(t)&&CC(t)}function m3(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function Kg(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+ya(t.value);if(AC(t))return t.filters.map(e=>Kg(e)).join(",");{const e=t.filters.map(n=>Kg(n)).join(",");return`${t.op}(${e})`}}function RC(t,e){return t instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.field.isEqual(s.field)&&Sr(r.value,s.value)}(t,e):t instanceof Xn?function(r,s){return s instanceof Xn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&RC(o,s.filters[a]),!0):!1}(t,e):void Z()}function NC(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${ya(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(NC).join(" ,")+"}"}(t):"Filter"}class g3 extends Xe{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class y3 extends Xe{constructor(e,n){super(e,"in",n),this.keys=PC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class v3 extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=PC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class w3 extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return u0(n)&&xc(n.arrayValue,this.value)}}class x3 extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xc(this.value.arrayValue,n)}}class _3 extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xc(this.value.arrayValue,n)}}class E3 extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!u0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function l1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new b3(t,e,n,r,s,i,o)}function d0(t){const e=ne(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ya(r)).join(",")),e.ce=n}return e.ce}function h0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a1(t.startAt,e.startAt)&&a1(t.endAt,e.endAt)}function Gg(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function T3(t,e,n,r,s,i,o,a){return new Va(t,e,n,r,s,i,o,a)}function Sf(t){return new Va(t)}function c1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DC(t){return t.collectionGroup!==null}function Rl(t){const e=ne(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yt(pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new _c(i,r))}),n.has(pt.keyField().canonicalString())||e.le.push(new _c(pt.keyField(),r))}return e.le}function xr(t){const e=ne(t);return e.he||(e.he=S3(e,Rl(t))),e.he}function S3(t,e){if(t.limitType==="F")return l1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new _c(s.field,i)});const n=t.endAt?new ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ah(t.startAt.position,t.startAt.inclusive):null;return l1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qg(t,e){const n=t.filters.concat([e]);return new Va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lh(t,e,n){return new Va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function If(t,e){return h0(xr(t),xr(e))&&t.limitType===e.limitType}function jC(t){return`${d0(xr(t))}|lt:${t.limitType}`}function mo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>NC(s)).join(", ")}]`),Tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ya(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ya(s)).join(",")),`Target(${r})`}(xr(t))}; limitType=${t.limitType})`}function kf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Rl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=o1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Rl(r),s)||r.endAt&&!function(o,a,l){const u=o1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Rl(r),s))}(t,e)}function I3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OC(t){return(e,n)=>{let r=!1;for(const s of Rl(t)){const i=k3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function k3(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?ga(l,u):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return TC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=new Ue(Y.comparator);function qr(){return C3}const MC=new Ue(Y.comparator);function hl(...t){let e=MC;for(const n of t)e=e.insert(n.key,n);return e}function LC(t){let e=MC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mi(){return Nl()}function VC(){return Nl()}function Nl(){return new Fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const A3=new Ue(Y.comparator),R3=new yt(Y.comparator);function ce(...t){let e=R3;for(const n of t)e=e.add(n);return e}const N3=new yt(we);function P3(){return N3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function $C(t){return{integerValue:""+t}}function UC(t,e){return u3(e)?$C(e):FC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this._=void 0}}function D3(t,e,n){return t instanceof ch?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&l0(i)&&(i=c0(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof va?BC(t,e):t instanceof wa?HC(t,e):function(s,i){const o=zC(s,i),a=u1(o)+u1(s.Ie);return qg(o)&&qg(s.Ie)?$C(a):FC(s.serializer,a)}(t,e)}function j3(t,e,n){return t instanceof va?BC(t,e):t instanceof wa?HC(t,e):n}function zC(t,e){return t instanceof Ec?function(r){return qg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ch extends Cf{}class va extends Cf{constructor(e){super(),this.elements=e}}function BC(t,e){const n=WC(e);for(const r of t.elements)n.some(s=>Sr(s,r))||n.push(r);return{arrayValue:{values:n}}}class wa extends Cf{constructor(e){super(),this.elements=e}}function HC(t,e){let n=WC(e);for(const r of t.elements)n=n.filter(s=>!Sr(s,r));return{arrayValue:{values:n}}}class Ec extends Cf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function u1(t){return Qe(t.integerValue||t.doubleValue)}function WC(t){return u0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.field=e,this.transform=n}}function O3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof va&&s instanceof va||r instanceof wa&&s instanceof wa?ma(r.elements,s.elements,Sr):r instanceof Ec&&s instanceof Ec?Sr(r.Ie,s.Ie):r instanceof ch&&s instanceof ch}(t.transform,e.transform)}class M3{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Af{}function qC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new p0(t.key,Pn.none()):new Xc(t.key,t.data,Pn.none());{const n=t.data,r=Ht.empty();let s=new yt(pt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ri(t.key,r,new dn(s.toArray()),Pn.none())}}function L3(t,e,n){t instanceof Xc?function(s,i,o){const a=s.value.clone(),l=h1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ri?function(s,i,o){if(!cd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=h1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(KC(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Pl(t,e,n,r){return t instanceof Xc?function(i,o,a,l){if(!cd(i.precondition,o))return a;const u=i.value.clone(),d=f1(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ri?function(i,o,a,l){if(!cd(i.precondition,o))return a;const u=f1(i.fieldTransforms,l,o),d=o.data;return d.setAll(KC(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return cd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function V3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=zC(r.transform,s||null);i!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,i))}return n||null}function d1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ma(r,s,(i,o)=>O3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xc extends Af{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ri extends Af{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function KC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function h1(t,e,n){const r=new Map;Ce(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,j3(o,a,n[s]))}return r}function f1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,D3(i,o,e))}return r}class p0 extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F3 extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&L3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=qC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&ma(this.mutations,e.mutations,(n,r)=>d1(n,r))&&ma(this.baseMutations,e.baseMutations,(n,r)=>d1(n,r))}}class m0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ce(e.mutations.length===r.length);let s=function(){return A3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new m0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U3=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,fe;function B3(t){switch(t){default:return Z();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function GC(t){if(t===void 0)return Tr("GRPC error has no .code"),D.UNKNOWN;switch(t){case Ge.OK:return D.OK;case Ge.CANCELLED:return D.CANCELLED;case Ge.UNKNOWN:return D.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return D.INTERNAL;case Ge.UNAVAILABLE:return D.UNAVAILABLE;case Ge.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ge.NOT_FOUND:return D.NOT_FOUND;case Ge.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ge.ABORTED:return D.ABORTED;case Ge.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ge.DATA_LOSS:return D.DATA_LOSS;default:return Z()}}(fe=Ge||(Ge={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=new Bo([4294967295,4294967295],0);function p1(t){const e=H3().encode(t),n=new KU;return n.update(e),new Uint8Array(n.digest())}function m1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Bo([n,r],0),new Bo([s,i],0)]}class g0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(r<0)throw new fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Bo.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Bo.fromNumber(r)));return s.compare(W3)===1&&(s=new Bo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=p1(e),[r,s]=m1(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new g0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=p1(e),[r,s]=m1(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Jc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rf(te.min(),s,new Ue(we),qr(),ce())}}class Jc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jc(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class QC{constructor(e,n){this.targetId=e,this.fe=n}}class YC{constructor(e,n,r=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class g1{constructor(){this.ge=0,this.pe=v1(),this.ye=jt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ce(),n=ce(),r=ce();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Z()}}),new Jc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=v1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ce(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class q3{constructor(e){this.Be=e,this.ke=new Map,this.qe=qr(),this.Qe=y1(),this.Ke=new Ue(we)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Gg(i))if(r===0){const o=new Y(i.path);this.We(n,o,Ct.newNoDocument(o,te.min()))}else Ce(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=$i(r).toUint8Array()}catch(l){if(l instanceof SC)return pa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new g0(o,s,i)}catch(l){return pa(l instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&Gg(a.target)){const l=new Y(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Ct.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=ce();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Rf(e,n,this.Ke,this.qe,r);return this.qe=qr(),this.Qe=y1(),this.Ke=new Ue(we),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new g1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new yt(we),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new g1),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function y1(){return new Ue(Y.comparator)}function v1(){return new Ue(Y.comparator)}const K3={asc:"ASCENDING",desc:"DESCENDING"},G3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q3={and:"AND",or:"OR"};class Y3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yg(t,e){return t.useProto3Json||Tf(e)?e:{value:e}}function uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X3(t,e){return uh(t,e.toTimestamp())}function _r(t){return Ce(!!t),te.fromTimestamp(function(n){const r=qs(n);return new rt(r.seconds,r.nanos)}(t))}function y0(t,e){return Xg(t,e).canonicalString()}function Xg(t,e){const n=function(s){return new je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JC(t){const e=je.fromString(t);return Ce(rA(e)),e}function Jg(t,e){return y0(t.databaseId,e.path)}function Yp(t,e){const n=JC(e);if(n.get(1)!==t.databaseId.projectId)throw new q(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(eA(n))}function ZC(t,e){return y0(t.databaseId,e)}function J3(t){const e=JC(t);return e.length===4?je.emptyPath():eA(e)}function Zg(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eA(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function w1(t,e,n){return{name:Jg(t,e),fields:n.value.mapValue.fields}}function Z3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ce(d===void 0||typeof d=="string"),jt.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Uint8Array),jt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?D.UNKNOWN:GC(u.code);return new q(d,u.message||"")}(o);n=new YC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Yp(t,r.document.name),i=_r(r.document.updateTime),o=r.document.createTime?_r(r.document.createTime):te.min(),a=new Ht({mapValue:{fields:r.document.fields}}),l=Ct.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ud(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Yp(t,r.document),i=r.readTime?_r(r.readTime):te.min(),o=Ct.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ud([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Yp(t,r.document),i=r.removedTargetIds||[];n=new ud([],i,s,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new z3(s,i),a=r.targetId;n=new QC(a,o)}}return n}function e6(t,e){let n;if(e instanceof Xc)n={update:w1(t,e.key,e.value)};else if(e instanceof p0)n={delete:Jg(t,e.key)};else if(e instanceof ri)n={update:w1(t,e.key,e.data),updateMask:c6(e.fieldMask)};else{if(!(e instanceof F3))return Z();n={verify:Jg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ch)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof va)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ec)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:X3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z()}(t,e.precondition)),n}function t6(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?_r(s.updateTime):_r(i);return o.isEqual(te.min())&&(o=_r(i)),new M3(o,s.transformResults||[])}(n,e))):[]}function n6(t,e){return{documents:[ZC(t,e.path)]}}function r6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZC(t,s);const i=function(u){if(u.length!==0)return nA(Xn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:go(h.field),direction:o6(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Yg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:s}}function s6(t){let e=J3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ce(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const h=tA(f);return h instanceof Xn&&AC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(x){return new _c(yo(x.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Tf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new ah(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new ah(m,h)}(n.endAt)),T3(e,s,o,i,a,"F",l,u)}function i6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yo(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yo(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yo(n.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yo(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(yo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>tA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function o6(t){return K3[t]}function a6(t){return G3[t]}function l6(t){return Q3[t]}function go(t){return{fieldPath:t.canonicalString()}}function yo(t){return pt.fromServerFormat(t.fieldPath)}function nA(t){return t instanceof Xe?function(n){if(n.op==="=="){if(i1(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(s1(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i1(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(s1(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:a6(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const r=n.getFilters().map(s=>nA(s));return r.length===1?r[0]:{compositeFilter:{op:l6(n.op),filters:r}}}(t):Z()}function c6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,s,i=te.min(),o=te.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.ct=e}}function d6(t){const e=s6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this._n=new f6}addToCollectionParentIndex(e,n){return this._n.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Ws.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class f6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new yt(je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new yt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new xa(0)}static Ln(){return new xa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.changes=new Fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Pl(r.mutation,s,dn.empty(),rt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const s=mi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=hl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=qr();const o=Nl(),a=function(){return Nl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ri)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Pl(d.mutation,u,d.mutation.getFieldMask(),rt.now())):o.set(u.key,dn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new m6(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Nl();let s=new Ue((o,a)=>o-a),i=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||dn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(s.get(a.batchId)||ce()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=VC();d.forEach(h=>{if(!i.has(h)){const m=qC(n.get(h),r.get(h));m!==null&&f.set(h,m),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):M.resolve(mi());let a=-1,l=i;return o.next(u=>M.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,ce())).next(d=>({batchId:a,changes:LC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=hl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=hl();return this.indexManager.getCollectionParents(e,i).next(a=>M.forEach(a,l=>{const u=function(f,h){return new Va(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ct.newInvalidDocument(d)))});let a=hl();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Pl(d.mutation,u,dn.empty(),rt.now()),kf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return M.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:_r(s.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:d6(s.bundledQuery),readTime:_r(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.overlays=new Ue(Y.comparator),this.hr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mi();return M.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const s=mi(),i=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return M.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=mi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=mi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return M.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new U3(n,r));let i=this.hr.get(n);i===void 0&&(i=ce(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.Pr=new yt(st.Ir),this.Tr=new yt(st.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new st(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new st(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Y(new je([])),r=new st(n,e),s=new st(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Y(new je([])),r=new st(n,e),s=new st(n,e+1);let i=ce();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new st(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Y.comparator(e.key,n.key)||we(e.pr,n.pr)}static Er(e,n){return we(e.pr,n.pr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new yt(st.Ir)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $3(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new st(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new st(n,0),s=new st(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(we);return n.forEach(s=>{const i=new st(s,0),o=new st(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),M.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new st(new Y(i),0);let a=new yt(we);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.pr)),!0)},o),M.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ce(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return M.forEach(n.mutations,s=>{const i=new st(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new st(n,0),s=this.wr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.vr=e,this.docs=function(){return new Ue(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ct.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=qr();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||i3(s3(d),r)<=0||(s.has(d.key)||kf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Z()}Fr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _6(this)}getSize(e){return M.resolve(this.size)}}class _6 extends p6{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.persistence=e,this.Mr=new Fa(n=>d0(n),h0),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new v0,this.targetCount=0,this.Lr=xa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),M.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new xa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.qn(n),M.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n){this.Br={},this.overlays={},this.kr=new a0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new E6(this),this.indexManager=new h6,this.remoteDocumentCache=function(s){return new x6(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new u6(n),this.$r=new y6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new w6(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const s=new T6(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class T6 extends a3{constructor(e){super(),this.currentSequenceNumber=e}}class w0{constructor(e){this.persistence=e,this.zr=new v0,this.jr=null}static Hr(e){return new w0(e)}get Jr(){if(this.jr)return this.jr;throw Z()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),M.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Jr,r=>{const s=Y.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,te.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return M.or([()=>M.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=ce(),s=ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new x0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return rV()?8:pi.v(et())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new S6;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(nl()<=de.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),M.resolve()):(nl()<=de.DEBUG&&H("QueryEngine","Query:",mo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(nl()<=de.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):M.resolve())}ji(e,n){if(c1(n))return M.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=lh(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ce(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,lh(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,s){return c1(n)||s.isEqual(te.min())?M.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?M.resolve(null):(nl()<=de.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),mo(n)),this.es(e,o,n,r3(s,-1)).next(a=>a))})}Zi(e,n){let r=new yt(OC(e));return n.forEach((s,i)=>{kf(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return nl()<=de.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",mo(n)),this.zi.getDocumentsMatchingQuery(e,n,Ws.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Ue(we),this.rs=new Fa(i=>d0(i),h0),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g6(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function C6(t,e,n,r){return new k6(t,e,n,r)}async function sA(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ce();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function A6(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let m=M.resolve();return h.forEach(x=>{m=m.next(()=>d.getEntry(l,x)).next(g=>{const _=u.docVersions.get(x);Ce(_!==null),g.version.compareTo(_)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function iA(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function R6(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((d,f)=>{const h=s.get(f);if(!h)return;a.push(n.Qr.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(i,d.addedDocuments,f)));let m=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(jt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(g,_,y){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,m,d)&&a.push(n.Qr.updateTargetData(i,m))});let l=qr(),u=ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(N6(i,o,e.documentUpdates).next(d=>{l=d.cs,u=d.ls})),!r.isEqual(te.min())){const d=n.Qr.getLastRemoteSnapshotVersion(i).next(f=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return M.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.ns=s,i))}function N6(t,e,n){let r=ce(),s=ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=qr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:s}})}function P6(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function D6(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,M.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new Is(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ey(t,e,n){const r=ne(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Yc(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function x1(t,e,n){const r=ne(t);let s=te.min(),i=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=ne(l),h=f.rs.get(d);return h!==void 0?M.resolve(f.ns.get(h)):f.Qr.getTargetData(u,d)}(r,o,xr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:te.min(),n?i:ce())).next(a=>(j6(r,I3(e),a),{documents:a,hs:i})))}function j6(t,e,n){let r=t.ss.get(e)||te.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class _1{constructor(){this.activeTargetIds=P3()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O6{constructor(){this.no=new _1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new _1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu=null;function Xp(){return Mu===null?Mu=function(){return 268435456+Math.round(2147483648*Math.random())}():Mu++,"0x"+Mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class F6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=Xp(),l=this.bo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,i,o),this.Co(n,l,u,s).then(d=>(H("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw pa("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=L6[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=Xp();return new Promise((o,a)=>{const l=new qU;l.setWithCredentials(!0),l.listenOnce(HU.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qp.NO_ERROR:const d=l.getResponseJson();H(bt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Qp.TIMEOUT:H(bt,`RPC '${e}' ${i} timed out`),a(new q(D.DEADLINE_EXCEEDED,"Request time out"));break;case Qp.HTTP_ERROR:const f=l.getStatus();if(H(bt,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const x=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(y)>=0?y:D.UNKNOWN}(m.status);a(new q(x,m.message))}else a(new q(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(D.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{H(bt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);H(bt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const s=Xp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zU(),a=BU(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");H(bt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let h=!1,m=!1;const x=new V6({lo:_=>{m?H(bt,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(h||(H(bt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),h=!0),H(bt,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},ho:()=>f.close()}),g=(_,y,v)=>{_.listen(y,w=>{try{v(w)}catch(E){setTimeout(()=>{throw E},0)}})};return g(f,Du.EventType.OPEN,()=>{m||H(bt,`RPC '${e}' stream ${s} transport opened.`)}),g(f,Du.EventType.CLOSE,()=>{m||(m=!0,H(bt,`RPC '${e}' stream ${s} transport closed`),x.Vo())}),g(f,Du.EventType.ERROR,_=>{m||(m=!0,pa(bt,`RPC '${e}' stream ${s} transport errored:`,_),x.Vo(new q(D.UNAVAILABLE,"The operation could not be completed")))}),g(f,Du.EventType.MESSAGE,_=>{var y;if(!m){const v=_.data[0];Ce(!!v);const w=v,E=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(E){H(bt,`RPC '${e}' stream ${s} received error:`,E);const b=E.status;let S=function(P){const A=Ge[P];if(A!==void 0)return GC(A)}(b),T=E.message;S===void 0&&(S=D.INTERNAL,T="Unknown error status: "+b+" with message "+E.message),m=!0,x.Vo(new q(S,T)),f.close()}else H(bt,`RPC '${e}' stream ${s} received:`,v),x.mo(v)}}),g(a,WU.STAT_EVENT,_=>{_.stat===X_.PROXY?H(bt,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===X_.NOPROXY&&H(bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.Ro()},0),x}}function Jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){return new Y3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new oA(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new q(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $6 extends aA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=Z3(this.serializer,e),r=function(i){if(!("targetChange"in i))return te.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?_r(o.readTime):te.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Zg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Gg(l)?{documents:n6(i,l)}:{query:r6(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=XC(i,o.resumeToken);const u=Yg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=uh(i,o.snapshotVersion.toTimestamp());const u=Yg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=i6(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Zg(this.serializer),n.removeTarget=e,this.t_(n)}}class U6 extends aA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=t6(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.T_(r,n)}return Ce(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Zg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e6(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new q(D.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,Xg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(D.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Xg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(D.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class B6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Tr(n),this.g_=!1):H("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{to(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ne(l);u.v_.add(4),await Zc(u),u.x_.set("Unknown"),u.v_.delete(4),await Pf(u)}(this))})}),this.x_=new B6(r,s)}}async function Pf(t){if(to(t))for(const e of t.F_)await e(!0)}async function Zc(t){for(const e of t.F_)await e(!1)}function lA(t,e){const n=ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),T0(n)?b0(n):$a(n).Jo()&&E0(n,e))}function _0(t,e){const n=ne(t),r=$a(n);n.C_.delete(e),r.Jo()&&cA(n,e),n.C_.size===0&&(r.Jo()?r.Xo():to(n)&&n.x_.set("Unknown"))}function E0(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$a(t).c_(e)}function cA(t,e){t.O_.Oe(e),$a(t).l_(e)}function b0(t){t.O_=new q3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),$a(t).start(),t.x_.p_()}function T0(t){return to(t)&&!$a(t).Ho()&&t.C_.size>0}function to(t){return ne(t).v_.size===0}function uA(t){t.O_=void 0}async function W6(t){t.C_.forEach((e,n)=>{E0(t,e)})}async function q6(t,e){uA(t),T0(t)?(t.x_.S_(e),b0(t)):t.x_.set("Unknown")}async function K6(t,e,n){if(t.x_.set("Online"),e instanceof YC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dh(t,r)}else if(e instanceof ud?t.O_.$e(e):e instanceof QC?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(te.min()))try{const r=await iA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.C_.get(u);d&&i.C_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.C_.get(l);if(!d)return;i.C_.set(l,d.withResumeToken(jt.EMPTY_BYTE_STRING,d.snapshotVersion)),cA(i,l);const f=new Is(d.target,l,u,d.sequenceNumber);E0(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await dh(t,r)}}async function dh(t,e,n){if(!Yc(e))throw e;t.v_.add(1),await Zc(t),t.x_.set("Offline"),n||(n=()=>iA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Pf(t)})}function dA(t,e){return e().catch(n=>dh(t,n,e))}async function Df(t){const e=ne(t),n=Ks(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;G6(e);)try{const s=await P6(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,Q6(e,s)}catch(s){await dh(e,s)}hA(e)&&fA(e)}function G6(t){return to(t)&&t.D_.length<10}function Q6(t,e){t.D_.push(e);const n=Ks(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function hA(t){return to(t)&&!Ks(t).Ho()&&t.D_.length>0}function fA(t){Ks(t).start()}async function Y6(t){Ks(t).d_()}async function X6(t){const e=Ks(t);for(const n of t.D_)e.I_(n.mutations)}async function J6(t,e,n){const r=t.D_.shift(),s=m0.from(r,e,n);await dA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Df(t)}async function Z6(t,e){e&&Ks(t).P_&&await async function(r,s){if(function(o){return B3(o)&&o!==D.ABORTED}(s.code)){const i=r.D_.shift();Ks(r).Zo(),await dA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Df(r)}}(t,e),hA(t)&&fA(t)}async function b1(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=to(n);n.v_.add(3),await Zc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Pf(n)}async function e9(t,e){const n=ne(t);e?(n.v_.delete(2),await Pf(n)):e||(n.v_.add(2),await Zc(n),n.x_.set("Unknown"))}function $a(t){return t.N_||(t.N_=function(n,r,s){const i=ne(n);return i.R_(),new $6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:W6.bind(null,t),To:q6.bind(null,t),u_:K6.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),T0(t)?b0(t):t.x_.set("Unknown")):(await t.N_.stop(),uA(t))})),t.N_}function Ks(t){return t.L_||(t.L_=function(n,r,s){const i=ne(n);return i.R_(),new U6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:Y6.bind(null,t),To:Z6.bind(null,t),E_:X6.bind(null,t),T_:J6.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Df(t)):(await t.L_.stop(),t.D_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new S0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I0(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),Yc(t))return new q(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=hl(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new Ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.B_=new Ue(Y.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Z():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class _a{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _a(e,n,Ho.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class n9{constructor(){this.queries=new Fa(e=>jC(e),If),this.onlineState="Unknown",this.W_=new Set}}async function k0(t,e){const n=ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new t9,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=I0(o,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&A0(n)}async function C0(t,e){const n=ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function r9(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&A0(n)}function s9(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function A0(t){t.W_.forEach(e=>{e.next()})}var ty,S1;(S1=ty||(ty={})).j_="default",S1.Cache="cache";class R0{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new _a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.key=e}}class mA{constructor(e){this.key=e}}class i9{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ce(),this.mutatedKeys=ce(),this.ha=OC(e),this.Pa=new Ho(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new T1,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const h=s.get(d),m=kf(this.query,f)?f:null,x=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;h&&m?h.data.isEqual(m.data)?x!==g&&(r.track({type:3,doc:m}),_=!0):this.da(h,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.ha(m,l)>0||u&&this.ha(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),_=!0):h&&!m&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(m?(o=o.add(m),i=g?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((d,f)=>function(m,x){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return g(m)-g(x)}(d.type,f.type)||this.ha(d.doc,f.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,u=l!==this.ca;return this.ca=l,o.length!==0||u?{snapshot:new _a(this.query,e.Pa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new T1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=ce(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new mA(r))}),this.la.forEach(r=>{e.has(r)||n.push(new pA(r))}),n}fa(e){this.ua=e.hs,this.la=ce();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return _a.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class o9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class a9{constructor(e){this.key=e,this.pa=!1}}class l9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Fa(a=>jC(a),If),this.Sa=new Map,this.ba=new Set,this.Da=new Ue(Y.comparator),this.Ca=new Map,this.va=new v0,this.Fa={},this.Ma=new Map,this.xa=xa.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function c9(t,e,n=!0){const r=_A(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await gA(r,e,n,!0),s}async function u9(t,e){const n=_A(t);await gA(n,e,!0,!1)}async function gA(t,e,n,r){const s=await D6(t.localStore,xr(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await d9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&lA(t.remoteStore,s),a}async function d9(t,e,n,r,s){t.Na=(f,h,m)=>async function(g,_,y,v){let w=_.view.Ta(y);w.Xi&&(w=await x1(g.localStore,_.query,!1).then(({documents:T})=>_.view.Ta(T,w)));const E=v&&v.targetChanges.get(_.targetId),b=v&&v.targetMismatches.get(_.targetId)!=null,S=_.view.applyChanges(w,g.isPrimaryClient,E,b);return k1(g,_.targetId,S.Va),S.snapshot}(t,f,h,m);const i=await x1(t.localStore,e,!0),o=new i9(e,i.hs),a=o.Ta(i.documents),l=Jc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);k1(t,n,u.Va);const d=new o9(e,n,o);return t.wa.set(e,d),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}async function h9(t,e,n){const r=ne(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!If(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ey(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&_0(r.remoteStore,s.targetId),ny(r,s.targetId)}).catch(Qc)):(ny(r,s.targetId),await ey(r.localStore,s.targetId,!0))}async function f9(t,e){const n=ne(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_0(n.remoteStore,r.targetId))}async function p9(t,e,n){const r=_9(t);try{const s=await function(o,a){const l=ne(o),u=rt.now(),d=a.reduce((m,x)=>m.add(x.key),ce());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=qr(),g=ce();return l.os.getEntries(m,d).next(_=>{x=_,x.forEach((y,v)=>{v.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,x)).next(_=>{f=_;const y=[];for(const v of a){const w=V3(v,f.get(v.key).overlayedDocument);w!=null&&y.push(new ri(v.key,w,IC(w.value.mapValue),Pn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,y,a)}).next(_=>{h=_;const y=_.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,_.batchId,y)})}).then(()=>({batchId:h.batchId,changes:LC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Fa[o.currentUser.toKey()];u||(u=new Ue(we)),u=u.insert(a,l),o.Fa[o.currentUser.toKey()]=u}(r,s.batchId,n),await eu(r,s.changes),await Df(r.remoteStore)}catch(s){const i=I0(s,"Failed to persist write");n.reject(i)}}async function yA(t,e){const n=ne(t);try{const r=await R6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(Ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?Ce(o.pa):s.removedDocuments.size>0&&(Ce(o.pa),o.pa=!1))}),await eu(n,r,e)}catch(r){await Qc(r)}}function I1(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.Q_)h.G_(a)&&(u=!0)}),u&&A0(l)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m9(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new Ue(Y.comparator);o=o.insert(i,Ct.newNoDocument(i,te.min()));const a=ce().add(i),l=new Rf(te.min(),new Map,new Ue(we),o,a);await yA(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),N0(r)}else await ey(r.localStore,e,!1).then(()=>ny(r,e,n)).catch(Qc)}async function g9(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await A6(n.localStore,e);wA(n,r,null),vA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eu(n,s)}catch(s){await Qc(s)}}async function y9(t,e,n){const r=ne(t);try{const s=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ce(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);wA(r,e,n),vA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eu(r,s)}catch(s){await Qc(s)}}function vA(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function wA(t,e,n){const r=ne(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||xA(t,r)})}function xA(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(_0(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),N0(t))}function k1(t,e,n){for(const r of n)r instanceof pA?(t.va.addReference(r.key,e),v9(t,r)):r instanceof mA?(H("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||xA(t,r.key)):Z()}function v9(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(H("SyncEngine","New document in limbo: "+n),t.ba.add(r),N0(t))}function N0(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new Y(je.fromString(e)),r=t.xa.next();t.Ca.set(r,new a9(n)),t.Da=t.Da.insert(n,r),lA(t.remoteStore,new Is(xr(Sf(n.path)),r,"TargetPurposeLimboResolution",a0._e))}}async function eu(t,e,n){const r=ne(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=x0.Ki(l.targetId,u);i.push(d)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,u){const d=ne(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(u,h=>M.forEach(h.qi,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>M.forEach(h.Qi,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Yc(f))throw f;H("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.ns.get(h),x=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(x);d.ns=d.ns.insert(h,g)}}}(r.localStore,i))}async function w9(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await sA(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new q(D.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(n,r.us)}}function x9(t,e){const n=ne(t),r=n.Ca.get(e);if(r&&r.pa)return ce().add(r.key);{let s=ce();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function _A(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m9.bind(null,e),e.ya.u_=r9.bind(null,e.eventManager),e.ya.La=s9.bind(null,e.eventManager),e}function _9(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y9.bind(null,e),e}class C1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return C6(this.persistence,new I6,e.initialUser,this.serializer)}createPersistence(e){return new b6(w0.Hr,this.serializer)}createSharedClientState(e){return new O6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class E9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=w9.bind(null,this.syncEngine),await e9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new n9}()}createDatastore(e){const n=Nf(e.databaseInfo.databaseId),r=function(i){return new F6(i)}(e.databaseInfo);return function(i,o,a,l){return new z6(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new H6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>I1(this.syncEngine,n,0),function(){return E1.D()?new E1:new M6}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const f=new l9(s,i,o,a,l,u);return d&&(f.Oa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=ne(r);H("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Zc(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=It.UNAUTHENTICATED,this.clientId=bC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{H("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(H("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=I0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zp(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await sA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function A1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S9(t);H("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>b1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>b1(e.remoteStore,s)),t._onlineComponents=e}function T9(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function S9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!T9(n))throw n;pa("Error using user provided cache. Falling back to memory cache: "+n),await Zp(t,new C1)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await Zp(t,new C1);return t._offlineComponents}async function EA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await A1(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await A1(t,new E9))),t._onlineComponents}function I9(t){return EA(t).then(e=>e.syncEngine)}async function hh(t){const e=await EA(t),n=e.eventManager;return n.onListen=c9.bind(null,e.syncEngine),n.onUnlisten=h9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f9.bind(null,e.syncEngine),n}function k9(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new P0({next:h=>{o.enqueueAndForget(()=>C0(i,f));const m=h.docs.has(a);!m&&h.fromCache?u.reject(new q(D.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new q(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new R0(Sf(a.path),d,{includeMetadataChanges:!0,ta:!0});return k0(i,f)}(await hh(t),t.asyncQueue,e,n,r)),r.promise}function C9(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new P0({next:h=>{o.enqueueAndForget(()=>C0(i,f)),h.fromCache&&l.source==="server"?u.reject(new q(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new R0(a,d,{includeMetadataChanges:!0,ta:!0});return k0(i,f)}(await hh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t,e,n){if(!n)throw new q(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A9(t,e,n,r){if(e===!0&&r===!0)throw new q(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function N1(t){if(!Y.isDocumentKey(t))throw new q(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function P1(t){if(Y.isDocumentKey(t))throw new q(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(t);throw new q(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Of{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new GU;switch(r.type){case"firstParty":return new JU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=R1.get(n);r&&(H("ComponentProvider","Removing Datastore"),R1.delete(n),r.terminate())}(this),Promise.resolve()}}function R9(t,e,n,r={}){var s;const i=(t=Jt(t,Of))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=It.MOCK_USER;else{a=OI(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new q(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new It(u)}t._authCredentials=new QU(new EC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zr(this.firestore,e,this._query)}}class Nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}}class Vs extends Zr{constructor(e,n,r){super(e,n,Sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new Y(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function Pt(t,e,...n){if(t=Me(t),TA("collection","path",e),t instanceof Of){const r=je.fromString(e,...n);return P1(r),new Vs(t,null,r)}{if(!(t instanceof Nt||t instanceof Vs))throw new q(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return P1(r),new Vs(t.firestore,null,r)}}function ke(t,e,...n){if(t=Me(t),arguments.length===1&&(e=bC.newId()),TA("doc","path",e),t instanceof Of){const r=je.fromString(e,...n);return N1(r),new Nt(t,null,new Y(r))}{if(!(t instanceof Nt||t instanceof Vs))throw new q(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return N1(r),new Nt(t.firestore,t instanceof Vs?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new oA(this,"async_queue_retry"),this.cu=()=>{const n=Jp();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Jp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new wr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Yc(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=S0.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&Z()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function j1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Kr extends Of{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new N9}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||SA(this),this._firestoreClient.terminate()}}function P9(t,e){const n=typeof t=="object"?t:ef(),r=typeof t=="string"?t:"(default)",s=Js(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=PI("firestore");i&&R9(s,...i)}return s}function Mf(t){return t._firestoreClient||SA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function SA(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new h3(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,bA(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new b9(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ea(jt.fromBase64String(e))}catch(n){throw new q(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ea(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=/^__.*__$/;class j9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xc(e,this.data,n,this.fieldTransforms)}}class IA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ri(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Vf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Vf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return fh(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(kA(this.Vu)&&D9.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class O9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nf(e)}Cu(e,n,r,s=!1){return new Vf({Vu:e,methodName:n,Du:r,path:pt.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ff(t){const e=t._freezeSettings(),n=Nf(t._databaseId);return new O9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CA(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);L0("Data must be an object, but it was:",o,r);const a=RA(r,o);let l,u;if(i.merge)l=new dn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const h=ry(e,f,n);if(!o.contains(h))throw new q(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);PA(d,h)||d.push(h)}l=new dn(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new j9(new Ht(a),l,u)}class $f extends Ua{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $f}}function AA(t,e,n){return new Vf({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class j0 extends Ua{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=AA(this,e,!0),r=this.vu.map(i=>no(i,n)),s=new va(r);return new f0(e.path,s)}isEqual(e){return e instanceof j0&&Oi(this.vu,e.vu)}}class O0 extends Ua{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=AA(this,e,!0),r=this.vu.map(i=>no(i,n)),s=new wa(r);return new f0(e.path,s)}isEqual(e){return e instanceof O0&&Oi(this.vu,e.vu)}}class M0 extends Ua{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){const n=new Ec(e.serializer,UC(e.serializer,this.Fu));return new f0(e.path,n)}isEqual(e){return e instanceof M0&&this.Fu===e.Fu}}function M9(t,e,n,r){const s=t.Cu(1,e,n);L0("Data must be an object, but it was:",s,r);const i=[],o=Ht.empty();eo(r,(l,u)=>{const d=V0(e,l,n);u=Me(u);const f=s.yu(d);if(u instanceof $f)i.push(d);else{const h=no(u,f);h!=null&&(i.push(d),o.set(d,h))}});const a=new dn(i);return new IA(o,a,s.fieldTransforms)}function L9(t,e,n,r,s,i){const o=t.Cu(1,e,n),a=[ry(e,r,n)],l=[s];if(i.length%2!=0)throw new q(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(ry(e,i[h])),l.push(i[h+1]);const u=[],d=Ht.empty();for(let h=a.length-1;h>=0;--h)if(!PA(u,a[h])){const m=a[h];let x=l[h];x=Me(x);const g=o.yu(m);if(x instanceof $f)u.push(m);else{const _=no(x,g);_!=null&&(u.push(m),d.set(m,_))}}const f=new dn(u);return new IA(d,f,o.fieldTransforms)}function V9(t,e,n,r=!1){return no(n,t.Cu(r?4:3,e))}function no(t,e){if(NA(t=Me(t)))return L0("Unsupported field value:",e,t),RA(t,e);if(t instanceof Ua)return function(r,s){if(!kA(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=no(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=rt.fromDate(r);return{timestampValue:uh(s.serializer,i)}}if(r instanceof rt){const i=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(s.serializer,i)}}if(r instanceof D0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ea)return{bytesValue:XC(s.serializer,r._byteString)};if(r instanceof Nt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:y0(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${jf(r)}`)}(t,e)}function RA(t,e){const n={};return TC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,(r,s)=>{const i=no(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function NA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof D0||t instanceof Ea||t instanceof Nt||t instanceof Ua)}function L0(t,e,n){if(!NA(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=jf(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function ry(t,e,n){if((e=Me(e))instanceof Lf)return e._internalPath;if(typeof e=="string")return V0(t,e);throw fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const F9=new RegExp("[~\\*/\\[\\]]");function V0(t,e,n){if(e.search(F9)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lf(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new q(D.INVALID_ARGUMENT,a+t+l)}function PA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Uf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $9 extends DA{data(){return super.data()}}function Uf(t,e){return typeof e=="string"?V0(t,e):e instanceof Lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F0{}class $0 extends F0{}function Jn(t,e,...n){let r=[];e instanceof F0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof U0).length,a=i.filter(l=>l instanceof zf).length;if(o>1||o>0&&a>0)throw new q(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class zf extends $0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zf(e,n,r)}_apply(e){const n=this._parse(e);return OA(e._query,n),new Zr(e.firestore,e.converter,Qg(e._query,n))}_parse(e){const n=Ff(e.firestore);return function(i,o,a,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){M1(f,d);const m=[];for(const x of f)m.push(O1(l,i,x));h={arrayValue:{values:m}}}else h=O1(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||M1(f,d),h=V9(a,o,f,d==="in"||d==="not-in");return Xe.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gn(t,e,n){const r=e,s=Uf("where",t);return zf._create(s,r,n)}class U0 extends F0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)OA(o,l),o=Qg(o,l)}(e._query,n),new Zr(e.firestore,e.converter,Qg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class z0 extends $0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new z0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new q(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _c(i,o)}(e._query,this._field,this._direction);return new Zr(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Va(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function ro(t,e="asc"){const n=e,r=Uf("orderBy",t);return z0._create(r,n)}class B0 extends $0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new B0(e,n,r)}_apply(e){return new Zr(e.firestore,e.converter,lh(e._query,this._limit,this._limitType))}}function U9(t){return B0._create("limit",t,"F")}function O1(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new q(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DC(e)&&n.indexOf("/")!==-1)throw new q(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!Y.isDocumentKey(r))throw new q(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return r1(t,new Y(r))}if(n instanceof Nt)return r1(t,n._key);throw new q(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function M1(t,e){if(!Array.isArray(t)||t.length===0)throw new q(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class z9{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return eo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new D0(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=c0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const n=qs(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);Ce(rA(r));const s=new wc(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||Tr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LA extends DA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Uf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dd extends LA{data(e={}){return super.data(e)}}class VA{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new pl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dd(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new dd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new pl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new dd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new pl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:B9(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function B9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){t=Jt(t,Nt);const e=Jt(t.firestore,Kr);return k9(Mf(e),t._key).then(n=>$A(e,t,n))}class H0 extends z9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function Gr(t){t=Jt(t,Zr);const e=Jt(t.firestore,Kr),n=Mf(e),r=new H0(e);return jA(t._query),C9(n,t._query).then(s=>new VA(e,r,t,s))}function Qr(t,e,n){t=Jt(t,Nt);const r=Jt(t.firestore,Kr),s=MA(t.converter,e,n);return Hf(r,[CA(Ff(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Pn.none())])}function ba(t,e,n,...r){t=Jt(t,Nt);const s=Jt(t.firestore,Kr),i=Ff(s);let o;return o=typeof(e=Me(e))=="string"||e instanceof Lf?L9(i,"updateDoc",t._key,e,n,r):M9(i,"updateDoc",t._key,e),Hf(s,[o.toMutation(t._key,Pn.exists(!0))])}function FA(t){return Hf(Jt(t.firestore,Kr),[new p0(t._key,Pn.none())])}function Bf(t,e){const n=Jt(t.firestore,Kr),r=ke(t),s=MA(t.converter,e);return Hf(n,[CA(Ff(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function sy(t,...e){var n,r,s;t=Me(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||j1(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(j1(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,u,d;if(t instanceof Nt)u=Jt(t.firestore,Kr),d=Sf(t._key.path),l={next:f=>{e[o]&&e[o]($A(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Jt(t,Zr);u=Jt(f.firestore,Kr),d=f._query;const h=new H0(u);l={next:m=>{e[o]&&e[o](new VA(u,h,f,m))},error:e[o+1],complete:e[o+2]},jA(t._query)}return function(h,m,x,g){const _=new P0(g),y=new R0(m,_,x);return h.asyncQueue.enqueueAndForget(async()=>k0(await hh(h),y)),()=>{_.Qa(),h.asyncQueue.enqueueAndForget(async()=>C0(await hh(h),y))}}(Mf(u),d,a,l)}function Hf(t,e){return function(r,s){const i=new wr;return r.asyncQueue.enqueueAndForget(async()=>p9(await I9(r),s,i)),i.promise}(Mf(t),e)}function $A(t,e,n){const r=n.docs.get(e._key),s=new H0(t);return new LA(t,s,e._key,r,new pl(n.hasPendingWrites,n.fromCache),e.converter)}function L1(...t){return new j0("arrayUnion",t)}function V1(...t){return new O0("arrayRemove",t)}function ph(t){return new M0("increment",t)}(function(e,n=!0){(function(s){La=s})(Xi),Gn(new On("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Kr(new YU(r.getProvider("auth-internal")),new e3(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xt(J_,"4.5.0",e),Xt(J_,"4.5.0","esm2017")})();const UA="@firebase/installations",W0="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=1e4,BA=`w:${W0}`,HA="FIS_v2",H9="https://firebaseinstallations.googleapis.com/v1",W9=60*60*1e3,q9="installations",K9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zi=new Yi(q9,K9,G9);function WA(t){return t instanceof Mn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA({projectId:t}){return`${H9}/projects/${t}/installations`}function KA(t){return{token:t.token,requestStatus:2,expiresIn:Y9(t.expiresIn),creationTime:Date.now()}}async function GA(t,e){const r=(await e.json()).error;return zi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function QA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Q9(t,{refreshToken:e}){const n=QA(t);return n.append("Authorization",X9(e)),n}async function YA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Y9(t){return Number(t.replace("s","000"))}function X9(t){return`${HA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=qA(t),s=QA(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:HA,appId:t.appId,sdkVersion:BA},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await YA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:KA(u.authToken)}}else throw await GA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=/^[cdef][\w-]{21}$/,iy="";function tz(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=nz(t);return ez.test(n)?n:iy}catch{return iy}}function nz(t){return Z9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new Map;function ZA(t,e){const n=Wf(t);eR(n,e),rz(n,e)}function eR(t,e){const n=JA.get(t);if(n)for(const r of n)r(e)}function rz(t,e){const n=sz();n&&n.postMessage({key:t,fid:e}),iz()}let gi=null;function sz(){return!gi&&"BroadcastChannel"in self&&(gi=new BroadcastChannel("[Firebase] FID Change"),gi.onmessage=t=>{eR(t.data.key,t.data.fid)}),gi}function iz(){JA.size===0&&gi&&(gi.close(),gi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz="firebase-installations-database",az=1,Bi="firebase-installations-store";let em=null;function q0(){return em||(em=FI(oz,az,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bi)}}})),em}async function mh(t,e){const n=Wf(t),s=(await q0()).transaction(Bi,"readwrite"),i=s.objectStore(Bi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&ZA(t,e.fid),e}async function tR(t){const e=Wf(t),r=(await q0()).transaction(Bi,"readwrite");await r.objectStore(Bi).delete(e),await r.done}async function qf(t,e){const n=Wf(t),s=(await q0()).transaction(Bi,"readwrite"),i=s.objectStore(Bi),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&ZA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0(t){let e;const n=await qf(t.appConfig,r=>{const s=lz(r),i=cz(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===iy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function lz(t){const e=t||{fid:tz(),registrationStatus:0};return nR(e)}function cz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(zi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=uz(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dz(t)}:{installationEntry:e}}async function uz(t,e){try{const n=await J9(t,e);return mh(t.appConfig,n)}catch(n){throw WA(n)&&n.customData.serverCode===409?await tR(t.appConfig):await mh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function dz(t){let e=await F1(t.appConfig);for(;e.registrationStatus===1;)await XA(100),e=await F1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await K0(t);return r||n}return e}function F1(t){return qf(t,e=>{if(!e)throw zi.create("installation-not-found");return nR(e)})}function nR(t){return hz(t)?{fid:t.fid,registrationStatus:0}:t}function hz(t){return t.registrationStatus===1&&t.registrationTime+zA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz({appConfig:t,heartbeatServiceProvider:e},n){const r=pz(t,n),s=Q9(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:BA,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await YA(()=>fetch(r,a));if(l.ok){const u=await l.json();return KA(u)}else throw await GA("Generate Auth Token",l)}function pz(t,{fid:e}){return`${qA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0(t,e=!1){let n;const r=await qf(t.appConfig,i=>{if(!rR(i))throw zi.create("not-registered");const o=i.authToken;if(!e&&yz(o))return i;if(o.requestStatus===1)return n=mz(t,e),i;{if(!navigator.onLine)throw zi.create("app-offline");const a=wz(i);return n=gz(t,a),a}});return n?await n:r.authToken}async function mz(t,e){let n=await $1(t.appConfig);for(;n.authToken.requestStatus===1;)await XA(100),n=await $1(t.appConfig);const r=n.authToken;return r.requestStatus===0?G0(t,e):r}function $1(t){return qf(t,e=>{if(!rR(e))throw zi.create("not-registered");const n=e.authToken;return xz(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function gz(t,e){try{const n=await fz(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await mh(t.appConfig,r),n}catch(n){if(WA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await tR(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await mh(t.appConfig,r)}throw n}}function rR(t){return t!==void 0&&t.registrationStatus===2}function yz(t){return t.requestStatus===2&&!vz(t)}function vz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+W9}function wz(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function xz(t){return t.requestStatus===1&&t.requestTime+zA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t){const e=t,{installationEntry:n,registrationPromise:r}=await K0(e);return r?r.catch(console.error):G0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ez(t,e=!1){const n=t;return await bz(n),(await G0(n,e)).token}async function bz(t){const{registrationPromise:e}=await K0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){if(!t||!t.options)throw tm("App Configuration");if(!t.name)throw tm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw tm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function tm(t){return zi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="installations",Sz="installations-internal",Iz=t=>{const e=t.getProvider("app").getImmediate(),n=Tz(e),r=Js(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},kz=t=>{const e=t.getProvider("app").getImmediate(),n=Js(e,sR).getImmediate();return{getId:()=>_z(n),getToken:s=>Ez(n,s)}};function Cz(){Gn(new On(sR,Iz,"PUBLIC")),Gn(new On(Sz,kz,"PRIVATE"))}Cz();Xt(UA,W0);Xt(UA,W0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="analytics",Az="firebase_id",Rz="origin",Nz=60*1e3,Pz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Q0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new Zh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yn=new Yi("analytics","Analytics",Dz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t){if(!t.startsWith(Q0)){const e=yn.create("invalid-gtag-resource",{gtagURL:t});return Zt.warn(e.message),""}return t}function iR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Oz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Mz(t,e){const n=Oz("firebase-js-sdk-policy",{createScriptURL:jz}),r=document.createElement("script"),s=`${Q0}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Lz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Vz(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await iR(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){Zt.error(a)}t("config",s,i)}async function Fz(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await iR(n);for(const l of o){const u=a.find(f=>f.measurementId===l),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Zt.error(i)}}function $z(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await Fz(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Vz(t,e,n,r,a,l)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Zt.error(a)}}return s}function Uz(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=$z(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function zz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Q0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=30,Hz=1e3;class Wz{constructor(e={},n=Hz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const oR=new Wz;function qz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Kz(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:qz(r)},i=Pz.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Gz(t,e=oR,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw yn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw yn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Xz;return setTimeout(async()=>{a.abort()},Nz),aR({appId:r,apiKey:s,measurementId:i},o,a,e)}async function aR(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=oR){var i;const{appId:o,measurementId:a}=t;try{await Qz(r,e)}catch(l){if(a)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Kz(t);return s.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!Yz(u)){if(s.deleteThrottleMetadata(o),a)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const d=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?h_(n,s.intervalMillis,Bz):h_(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,f),Zt.debug(`Calling attemptFetch again in ${d} millis`),aR(t,f,r,s)}}function Qz(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Yz(t){if(!(t instanceof Mn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Xz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Jz(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zz(){if(Jh())try{await kv()}catch(t){return Zt.warn(yn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Zt.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function eB(t,e,n,r,s,i,o){var a;const l=Gz(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Zt.error(m)),e.push(l);const u=Zz().then(m=>{if(m)return r.getId()}),[d,f]=await Promise.all([l,u]);zz(i)||Mz(i,d.measurementId),s("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[Rz]="firebase",h.update=!0,f!=null&&(h[Az]=f),s("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.app=e}_delete(){return delete Dl[this.app.options.appId],Promise.resolve()}}let Dl={},U1=[];const z1={};let nm="dataLayer",nB="gtag",B1,lR,H1=!1;function rB(){const t=[];if(Iv()&&t.push("This is a browser extension environment."),MI()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=yn.create("invalid-analytics-context",{errorInfo:e});Zt.warn(n.message)}}function sB(t,e,n){rB();const r=t.options.appId;if(!r)throw yn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yn.create("no-api-key");if(Dl[r]!=null)throw yn.create("already-exists",{id:r});if(!H1){Lz(nm);const{wrappedGtag:i,gtagCore:o}=Uz(Dl,U1,z1,nm,nB);lR=i,B1=o,H1=!0}return Dl[r]=eB(t,U1,z1,e,B1,nm,n),new tB(t)}function iB(t=ef()){t=Me(t);const e=Js(t,gh);return e.isInitialized()?e.getImmediate():oB(t)}function oB(t,e={}){const n=Js(t,gh);if(n.isInitialized()){const s=n.getImmediate();if(Oi(e,n.getOptions()))return s;throw yn.create("already-initialized")}return n.initialize({options:e})}async function aB(){if(Iv()||!MI()||!Jh())return!1;try{return await kv()}catch{return!1}}function lB(t,e,n,r){t=Me(t),Jz(lR,Dl[t.app.options.appId],e,n,r).catch(s=>Zt.error(s))}const W1="@firebase/analytics",q1="0.10.1";function cB(){Gn(new On(gh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return sB(r,s,n)},"PUBLIC")),Gn(new On("analytics-internal",t,"PRIVATE")),Xt(W1,q1),Xt(W1,q1,"esm2017");function t(e){try{const n=e.getProvider(gh).getImmediate();return{logEvent:(r,s,i)=>lB(n,r,s,i)}}catch(n){throw yn.create("interop-component-reg-failed",{reason:n})}}}cB();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firebasestorage.googleapis.com",uR="storageBucket",uB=2*60*1e3,dB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe extends Mn{constructor(e,n,r=0){super(rm(e),`Firebase Storage: ${n} (${rm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var We;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(We||(We={}));function rm(t){return"storage/"+t}function Y0(){const t="An unknown error occurred, please check the error payload for server response.";return new qe(We.UNKNOWN,t)}function hB(t){return new qe(We.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function fB(t){return new qe(We.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function pB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qe(We.UNAUTHENTICATED,t)}function mB(){return new qe(We.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function gB(t){return new qe(We.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function yB(){return new qe(We.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vB(){return new qe(We.CANCELED,"User canceled the upload/download.")}function wB(t){return new qe(We.INVALID_URL,"Invalid URL '"+t+"'.")}function xB(t){return new qe(We.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _B(){return new qe(We.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uR+"' property when initializing the app?")}function EB(){return new qe(We.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bB(){return new qe(We.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TB(t){return new qe(We.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function oy(t){return new qe(We.INVALID_ARGUMENT,t)}function dR(){return new qe(We.APP_DELETED,"The Firebase app was deleted.")}function SB(t){return new qe(We.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jl(t,e){return new qe(We.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function rl(t){throw new qe(We.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hn.makeFromUrl(e,n)}catch{return new hn(e,"")}if(r.path==="")return r;throw xB(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${s}/o${h}`,"i"),x={bucket:1,path:3},g=n===cR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",y=new RegExp(`^https?://${g}/${s}/${_}`,"i"),w=[{regex:a,indices:l,postModify:i},{regex:m,indices:x,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<w.length;E++){const b=w[E],S=b.regex.exec(e);if(S){const T=S[b.indices.bucket];let C=S[b.indices.path];C||(C=""),r=new hn(T,C),b.postModify(r);break}}if(r==null)throw wB(e);return r}}class IB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(..._){u||(u=!0,e.apply(null,_))}function f(_){s=setTimeout(()=>{s=null,t(m,l())},_)}function h(){i&&clearTimeout(i)}function m(_,...y){if(u){h();return}if(_){h(),d.call(null,_,...y);return}if(l()||o){h(),d.call(null,_,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,f(w)}let x=!1;function g(_){x||(x=!0,h(),!u&&(s!==null?(_||(a=2),clearTimeout(s),f(0)):_||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function CB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(t){return t!==void 0}function RB(t){return typeof t=="object"&&!Array.isArray(t)}function X0(t){return typeof t=="string"||t instanceof String}function K1(t){return J0()&&t instanceof Blob}function J0(){return typeof Blob<"u"}function G1(t,e,n,r){if(r<e)throw oy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw oy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function hR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ii||(Ii={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n,r,s,i,o,a,l,u,d,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,x)=>{this.resolve_=m,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Lu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Ii.NO_ERROR,l=i.getStatus();if(!a||NB(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Ii.ABORT;r(!1,new Lu(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Lu(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());AB(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Y0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?dR():vB();o(l)}else{const l=yB();o(l)}};this.canceled_?n(!1,new Lu(!1,null,!0)):this.backoffId_=kB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function DB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function MB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function LB(t,e,n,r,s,i,o=!0){const a=hR(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return OB(u,e),DB(u,n),jB(u,i),MB(u,r),new PB(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FB(...t){const e=VB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(J0())return new Blob(t);throw new qe(We.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $B(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t){if(typeof atob>"u")throw TB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sm{constructor(e,n){this.data=e,this.contentType=n||null}}function zB(t,e){switch(t){case pr.RAW:return new sm(fR(e));case pr.BASE64:case pr.BASE64URL:return new sm(pR(t,e));case pr.DATA_URL:return new sm(HB(e),WB(e))}throw Y0()}function fR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function BB(t){let e;try{e=decodeURIComponent(t)}catch{throw jl(pr.DATA_URL,"Malformed data URL.")}return fR(e)}function pR(t,e){switch(t){case pr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw jl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw jl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=UB(e)}catch(s){throw s.message.includes("polyfill")?s:jl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class mR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw jl(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=qB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function HB(t){const e=new mR(t);return e.base64?pR(pr.BASE64,e.rest):BB(e.rest)}function WB(t){return new mR(t).contentType}function qB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){let r=0,s="";K1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(K1(this.data_)){const r=this.data_,s=$B(r,e,n);return s===null?null:new ys(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ys(r,!0)}}static getBlob(...e){if(J0()){const n=e.map(r=>r instanceof ys?r.data_:r);return new ys(FB.apply(null,n))}else{const n=e.map(o=>X0(o)?zB(pr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new ys(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){let e;try{e=JSON.parse(t)}catch{return null}return RB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function GB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function yR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t,e){return e}class Ot{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||QB}}let Vu=null;function YB(t){return!X0(t)||t.length<2?t:yR(t)}function vR(){if(Vu)return Vu;const t=[];t.push(new Ot("bucket")),t.push(new Ot("generation")),t.push(new Ot("metageneration")),t.push(new Ot("name","fullPath",!0));function e(i,o){return YB(o)}const n=new Ot("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Ot("size");return s.xform=r,t.push(s),t.push(new Ot("timeCreated")),t.push(new Ot("updated")),t.push(new Ot("md5Hash",null,!0)),t.push(new Ot("cacheControl",null,!0)),t.push(new Ot("contentDisposition",null,!0)),t.push(new Ot("contentEncoding",null,!0)),t.push(new Ot("contentLanguage",null,!0)),t.push(new Ot("contentType",null,!0)),t.push(new Ot("metadata","customMetadata",!0)),Vu=t,Vu}function XB(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new hn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function JB(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return XB(r,t),r}function wR(t,e,n){const r=gR(e);return r===null?null:JB(t,r,n)}function ZB(t,e,n,r){const s=gR(e);if(s===null||!X0(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,f=t.fullPath,h="/b/"+o(d)+"/o/"+o(f),m=Z0(h,n,r),x=hR({alt:"media",token:u});return m+x})[0]}function e8(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class xR{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){if(!t)throw Y0()}function t8(t,e){function n(r,s){const i=wR(t,s,e);return _R(i!==null),i}return n}function n8(t,e){function n(r,s){const i=wR(t,s,e);return _R(i!==null),ZB(i,s,t.host,t._protocol)}return n}function ER(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=mB():s=pB():n.getStatus()===402?s=fB(t.bucket):n.getStatus()===403?s=gB(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function r8(t){const e=ER(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=hB(t.path)),i.serverResponse=s.serverResponse,i}return n}function s8(t,e,n){const r=e.fullServerUrl(),s=Z0(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new xR(s,i,n8(t,n),o);return a.errorHandler=r8(e),a}function i8(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function o8(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=i8(null,e)),r}function a8(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=o8(e,r,s),d=e8(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=ys.getBlob(f,r,h);if(m===null)throw EB();const x={name:u.fullPath},g=Z0(i,t.host,t._protocol),_="POST",y=t.maxUploadRetryTime,v=new xR(g,_,t8(t,n),y);return v.urlParams=x,v.headers=o,v.body=m.uploadData(),v.errorHandler=ER(e),v}class l8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ii.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ii.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ii.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw rl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class c8 extends l8{initXhr(){this.xhr_.responseType="text"}}function bR(){return new c8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this._service=e,n instanceof hn?this._location=n:this._location=hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hi(e,n)}get root(){const e=new hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yR(this._location.path)}get storage(){return this._service}get parent(){const e=KB(this._location.path);if(e===null)return null;const n=new hn(this._location.bucket,e);return new Hi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SB(e)}}function u8(t,e,n){t._throwIfRoot("uploadBytes");const r=a8(t.storage,t._location,vR(),new ys(e,!0),n);return t.storage.makeRequestWithTokens(r,bR).then(s=>({metadata:s,ref:t}))}function d8(t){t._throwIfRoot("getDownloadURL");const e=s8(t.storage,t._location,vR());return t.storage.makeRequestWithTokens(e,bR).then(n=>{if(n===null)throw bB();return n})}function h8(t,e){const n=GB(t._location.path,e),r=new hn(t._location.bucket,n);return new Hi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t){return/^[A-Za-z]+:\/\//.test(t)}function p8(t,e){return new Hi(t,e)}function TR(t,e){if(t instanceof ew){const n=t;if(n._bucket==null)throw _B();const r=new Hi(n,n._bucket);return e!=null?TR(r,e):r}else return e!==void 0?h8(t,e):t}function m8(t,e){if(e&&f8(e)){if(t instanceof ew)return p8(t,e);throw oy("To use ref(service, url), the first argument must be a Storage instance.")}else return TR(t,e)}function Q1(t,e){const n=e==null?void 0:e[uR];return n==null?null:hn.makeFromBucketSpec(n,t)}function g8(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:OI(s,t.app.options.projectId))}class ew{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=cR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uB,this._maxUploadRetryTime=dB,this._requests=new Set,s!=null?this._bucket=hn.makeFromBucketSpec(s,this._host):this._bucket=Q1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hn.makeFromBucketSpec(this._url,e):this._bucket=Q1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){G1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){G1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new IB(dR());{const o=LB(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Y1="@firebase/storage",X1="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="storage";function y8(t,e,n){return t=Me(t),u8(t,e,n)}function v8(t){return t=Me(t),d8(t)}function w8(t,e){return t=Me(t),m8(t,e)}function x8(t=ef(),e){t=Me(t);const r=Js(t,SR).getImmediate({identifier:e}),s=PI("storage");return s&&_8(r,...s),r}function _8(t,e,n,r={}){g8(t,e,n,r)}function E8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ew(n,r,s,e,Xi)}function b8(){Gn(new On(SR,E8,"PUBLIC").setMultipleInstances(!0)),Xt(Y1,X1,""),Xt(Y1,X1,"esm2017")}b8();const T8={apiKey:"AIzaSyA0WqUpvz94uLCnXBoZUWo4CC-STkOY0uk",authDomain:"bring-7d519.firebaseapp.com",projectId:"bring-7d519",storageBucket:"bring-7d519.appspot.com",messagingSenderId:"925221267917",appId:"1:925221267917:web:7c7d3e950dd4dbe9ac7c84",measurementId:"G-1452MRRRWD"},Kf=$I(T8),Gf=F$(Kf),ie=P9(Kf),S8=x8(Kf),I8=async()=>{try{return await aB()?iB(Kf):null}catch(t){return console.error("Analytics error:",t),null}};I8();const k8=async(t,e)=>{try{return(await E5(Gf,t,e)).user}catch(n){throw console.error("Registration error:",n),new Error(n.message)}},C8=async(t,e)=>{try{return(await b5(Gf,t,e)).user}catch(n){throw new Error(n.message)}},IR=async()=>{try{await k5(Gf)}catch(t){throw new Error(t.message)}},A8=async()=>{console.log("Firestore indexes should be created in the Firebase Console."),console.log("If you're seeing index errors, please follow the links in the error messages to create the required indexes.")},kR=p.createContext({currentUser:null,loading:!0}),bn=()=>p.useContext(kR),R8=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!0),i=Xr();return p.useEffect(()=>I5(Gf,a=>{n(a),s(!1),a?["/login","/register"].includes(window.location.pathname)&&i("/dashboard"):["/dashboard","/profile","/create-dream"].includes(window.location.pathname)&&i("/login")}),[i]),c.jsx(kR.Provider,{value:{currentUser:e,loading:r},children:!r&&t})};var im="focusScope.autoFocusOnMount",om="focusScope.autoFocusOnUnmount",J1={bubbles:!1,cancelable:!0},N8="FocusScope",CR=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=p.useState(null),u=en(s),d=en(i),f=p.useRef(null),h=wt(e,g=>l(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(w){if(m.paused||!a)return;const E=w.target;a.contains(E)?f.current=E:ls(f.current,{select:!0})},_=function(w){if(m.paused||!a)return;const E=w.relatedTarget;E!==null&&(a.contains(E)||ls(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const b of w)b.removedNodes.length>0&&ls(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",_);const v=new MutationObserver(y);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",_),v.disconnect()}}},[r,a,m.paused]),p.useEffect(()=>{if(a){eE.add(m);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(im,J1);a.addEventListener(im,u),a.dispatchEvent(y),y.defaultPrevented||(P8(L8(AR(a)),{select:!0}),document.activeElement===g&&ls(a))}return()=>{a.removeEventListener(im,u),setTimeout(()=>{const y=new CustomEvent(om,J1);a.addEventListener(om,d),a.dispatchEvent(y),y.defaultPrevented||ls(g??document.body,{select:!0}),a.removeEventListener(om,d),eE.remove(m)},0)}}},[a,u,d,m]);const x=p.useCallback(g=>{if(!n&&!r||m.paused)return;const _=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(_&&y){const v=g.currentTarget,[w,E]=D8(v);w&&E?!g.shiftKey&&y===E?(g.preventDefault(),n&&ls(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),n&&ls(E,{select:!0})):y===v&&g.preventDefault()}},[n,r,m.paused]);return c.jsx(ve.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});CR.displayName=N8;function P8(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ls(r,{select:e}),document.activeElement!==n)return}function D8(t){const e=AR(t),n=Z1(e,t),r=Z1(e.reverse(),t);return[n,r]}function AR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Z1(t,e){for(const n of t)if(!j8(n,{upTo:e}))return n}function j8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function O8(t){return t instanceof HTMLInputElement&&"select"in t}function ls(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&O8(t)&&e&&t.select()}}var eE=M8();function M8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=tE(t,e),t.unshift(e)},remove(e){var n;t=tE(t,e),(n=t[0])==null||n.resume()}}}function tE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function L8(t){return t.filter(e=>e.tagName!=="A")}var am=0;function V8(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??nE()),document.body.insertAdjacentElement("beforeend",t[1]??nE()),am++,()=>{am===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),am--}},[])}function nE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hd="right-scroll-bar-position",fd="width-before-scroll-bar",F8="with-scroll-bars-hidden",$8="--removed-body-scroll-bar-size";function lm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function U8(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var z8=typeof window<"u"?p.useLayoutEffect:p.useEffect,rE=new WeakMap;function B8(t,e){var n=U8(null,function(r){return t.forEach(function(s){return lm(s,r)})});return z8(function(){var r=rE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||lm(a,null)}),i.forEach(function(a){s.has(a)||lm(a,o)})}rE.set(n,t)},[t]),n}function H8(t){return t}function W8(t,e){e===void 0&&(e=H8);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function q8(t){t===void 0&&(t={});var e=W8(null);return e.options=ur({async:!0,ssr:!1},t),e}var RR=function(t){var e=t.sideCar,n=Vc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,ur({},n))};RR.isSideCarExport=!0;function K8(t,e){return t.useMedium(e),RR}var NR=q8(),cm=function(){},Qf=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:cm,onWheelCapture:cm,onTouchMoveCapture:cm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,x=t.inert,g=t.allowPinchZoom,_=t.as,y=_===void 0?"div":_,v=t.gapMode,w=Vc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,b=B8([n,e]),S=ur(ur({},w),s);return p.createElement(p.Fragment,null,d&&p.createElement(E,{sideCar:NR,removeScrollBar:u,shards:f,noIsolation:m,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:v}),o?p.cloneElement(p.Children.only(a),ur(ur({},S),{ref:b})):p.createElement(y,ur({},S,{className:l,ref:b}),a))});Qf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qf.classNames={fullWidth:fd,zeroRight:hd};var G8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=G8();return e&&t.setAttribute("nonce",e),t}function Y8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function X8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var J8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Q8())&&(Y8(e,n),X8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Z8=function(){var t=J8();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},PR=function(){var t=Z8(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},e7={left:0,top:0,right:0,gap:0},um=function(t){return parseInt(t||"",10)||0},t7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[um(n),um(r),um(s)]},n7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return e7;var e=t7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},r7=PR(),Wo="data-scroll-locked",s7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(F8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Wo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(hd," .").concat(hd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fd," .").concat(fd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wo,`] {
    `).concat($8,": ").concat(a,`px;
  }
`)},sE=function(){var t=parseInt(document.body.getAttribute(Wo)||"0",10);return isFinite(t)?t:0},i7=function(){p.useEffect(function(){return document.body.setAttribute(Wo,(sE()+1).toString()),function(){var t=sE()-1;t<=0?document.body.removeAttribute(Wo):document.body.setAttribute(Wo,t.toString())}},[])},o7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;i7();var i=p.useMemo(function(){return n7(s)},[s]);return p.createElement(r7,{styles:s7(i,!e,s,n?"":"!important")})},ay=!1;if(typeof window<"u")try{var Fu=Object.defineProperty({},"passive",{get:function(){return ay=!0,!0}});window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{ay=!1}var ho=ay?{passive:!1}:!1,a7=function(t){return t.tagName==="TEXTAREA"},DR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!a7(t)&&n[e]==="visible")},l7=function(t){return DR(t,"overflowY")},c7=function(t){return DR(t,"overflowX")},iE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=jR(t,r);if(s){var i=OR(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},u7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},d7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},jR=function(t,e){return t==="v"?l7(e):c7(e)},OR=function(t,e){return t==="v"?u7(e):d7(e)},h7=function(t,e){return t==="h"&&e==="rtl"?-1:1},f7=function(t,e,n,r,s){var i=h7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,h=0;do{var m=OR(t,a),x=m[0],g=m[1],_=m[2],y=g-_-i*x;(x||y)&&jR(t,a)&&(f+=y,h+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},$u=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},oE=function(t){return[t.deltaX,t.deltaY]},aE=function(t){return t&&"current"in t?t.current:t},p7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},m7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},g7=0,fo=[];function y7(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(g7++)[0],i=p.useState(PR)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=_F([t.lockRef.current],(t.shards||[]).map(aE),!0).filter(Boolean);return g.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(g,_){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=$u(g),v=n.current,w="deltaX"in g?g.deltaX:v[0]-y[0],E="deltaY"in g?g.deltaY:v[1]-y[1],b,S=g.target,T=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in g&&T==="h"&&S.type==="range")return!1;var C=iE(T,S);if(!C)return!0;if(C?b=T:(b=T==="v"?"h":"v",C=iE(T,S)),!C)return!1;if(!r.current&&"changedTouches"in g&&(w||E)&&(r.current=b),!b)return!0;var P=r.current||b;return f7(P,_,g,P==="h"?w:E,!0)},[]),l=p.useCallback(function(g){var _=g;if(!(!fo.length||fo[fo.length-1]!==i)){var y="deltaY"in _?oE(_):$u(_),v=e.current.filter(function(b){return b.name===_.type&&(b.target===_.target||_.target===b.shadowParent)&&p7(b.delta,y)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(aE).filter(Boolean).filter(function(b){return b.contains(_.target)}),E=w.length>0?a(_,w[0]):!o.current.noIsolation;E&&_.cancelable&&_.preventDefault()}}},[]),u=p.useCallback(function(g,_,y,v){var w={name:g,delta:_,target:y,should:v,shadowParent:v7(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),d=p.useCallback(function(g){n.current=$u(g),r.current=void 0},[]),f=p.useCallback(function(g){u(g.type,oE(g),g.target,a(g,t.lockRef.current))},[]),h=p.useCallback(function(g){u(g.type,$u(g),g.target,a(g,t.lockRef.current))},[]);p.useEffect(function(){return fo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ho),document.addEventListener("touchmove",l,ho),document.addEventListener("touchstart",d,ho),function(){fo=fo.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,ho),document.removeEventListener("touchmove",l,ho),document.removeEventListener("touchstart",d,ho)}},[]);var m=t.removeScrollBar,x=t.inert;return p.createElement(p.Fragment,null,x?p.createElement(i,{styles:m7(s)}):null,m?p.createElement(o7,{gapMode:t.gapMode}):null)}function v7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const w7=K8(NR,y7);var MR=p.forwardRef(function(t,e){return p.createElement(Qf,ur({},t,{ref:e,sideCar:w7}))});MR.classNames=Qf.classNames;var x7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},po=new WeakMap,Uu=new WeakMap,zu={},dm=0,LR=function(t){return t&&(t.host||LR(t.parentNode))},_7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=LR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},E7=function(t,e,n,r){var s=_7(e,Array.isArray(t)?t:[t]);zu[n]||(zu[n]=new WeakMap);var i=zu[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),x=m!==null&&m!=="false",g=(po.get(h)||0)+1,_=(i.get(h)||0)+1;po.set(h,g),i.set(h,_),o.push(h),g===1&&x&&Uu.set(h,!0),_===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),a.clear(),dm++,function(){o.forEach(function(f){var h=po.get(f)-1,m=i.get(f)-1;po.set(f,h),i.set(f,m),h||(Uu.has(f)||f.removeAttribute(r),Uu.delete(f)),m||f.removeAttribute(n)}),dm--,dm||(po=new WeakMap,po=new WeakMap,Uu=new WeakMap,zu={})}},b7=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=x7(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),E7(r,s,n,"aria-hidden")):function(){return null}},tw="Dialog",[VR,iW]=ka(tw),[T7,Zn]=VR(tw),FR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=p.useRef(null),l=p.useRef(null),[u=!1,d]=Pc({prop:r,defaultProp:s,onChange:i});return c.jsx(T7,{scope:e,triggerRef:a,contentRef:l,contentId:Sl(),titleId:Sl(),descriptionId:Sl(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};FR.displayName=tw;var $R="DialogTrigger",S7=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn($R,n),i=wt(e,s.triggerRef);return c.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sw(s.open),...r,ref:i,onClick:pe(t.onClick,s.onOpenToggle)})});S7.displayName=$R;var nw="DialogPortal",[I7,UR]=VR(nw,{forceMount:void 0}),zR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Zn(nw,e);return c.jsx(I7,{scope:e,forceMount:n,children:p.Children.map(r,o=>c.jsx(Gi,{present:n||i.open,children:c.jsx(iv,{asChild:!0,container:s,children:o})}))})};zR.displayName=nw;var yh="DialogOverlay",BR=p.forwardRef((t,e)=>{const n=UR(yh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Zn(yh,t.__scopeDialog);return i.modal?c.jsx(Gi,{present:r||i.open,children:c.jsx(k7,{...s,ref:e})}):null});BR.displayName=yh;var k7=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(yh,n);return c.jsx(MR,{as:ua,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ve.div,{"data-state":sw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Wi="DialogContent",HR=p.forwardRef((t,e)=>{const n=UR(Wi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Zn(Wi,t.__scopeDialog);return c.jsx(Gi,{present:r||i.open,children:i.modal?c.jsx(C7,{...s,ref:e}):c.jsx(A7,{...s,ref:e})})});HR.displayName=Wi;var C7=p.forwardRef((t,e)=>{const n=Zn(Wi,t.__scopeDialog),r=p.useRef(null),s=wt(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return b7(i)},[]),c.jsx(WR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault())})}),A7=p.forwardRef((t,e)=>{const n=Zn(Wi,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return c.jsx(WR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),WR=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Zn(Wi,n),l=p.useRef(null),u=wt(e,l);return V8(),c.jsxs(c.Fragment,{children:[c.jsx(CR,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Oh,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":sw(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(R7,{titleId:a.titleId}),c.jsx(P7,{contentRef:l,descriptionId:a.descriptionId})]})]})}),rw="DialogTitle",qR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(rw,n);return c.jsx(ve.h2,{id:s.titleId,...r,ref:e})});qR.displayName=rw;var KR="DialogDescription",GR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(KR,n);return c.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});GR.displayName=KR;var QR="DialogClose",YR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(QR,n);return c.jsx(ve.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>s.onOpenChange(!1))})});YR.displayName=QR;function sw(t){return t?"open":"closed"}var XR="DialogTitleWarning",[oW,JR]=ID(XR,{contentName:Wi,titleName:rw,docsSlug:"dialog"}),R7=({titleId:t})=>{const e=JR(XR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},N7="DialogDescriptionWarning",P7=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JR(N7).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},D7=FR,j7=zR,ZR=BR,eN=HR,tN=qR,nN=GR,O7=YR;const vh=D7,M7=j7,rN=p.forwardRef(({className:t,...e},n)=>c.jsx(ZR,{ref:n,className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));rN.displayName=ZR.displayName;const bc=p.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(M7,{children:[c.jsx(rN,{}),c.jsxs(eN,{ref:r,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(O7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(gS,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bc.displayName=eN.displayName;const ly=({className:t,...e})=>c.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ly.displayName="DialogHeader";const cy=p.forwardRef(({className:t,...e},n)=>c.jsx(tN,{ref:n,className:xe("text-lg font-semibold leading-none tracking-tight",t),...e}));cy.displayName=tN.displayName;const L7=p.forwardRef(({className:t,...e},n)=>c.jsx(nN,{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));L7.displayName=nN.displayName;function iw({open:t,onClose:e,onConfirm:n,minimal:r}){const[s,i]=p.useState(!1);return c.jsx(vh,{open:t,onOpenChange:e,children:c.jsxs(bc,{className:"max-w-xs p-6 rounded-xl text-center",onClick:o=>o.stopPropagation(),onPointerDown:o=>o.stopPropagation(),children:[c.jsx(Uh,{className:"mx-auto mb-2 text-destructive",size:32}),c.jsx("div",{className:"font-semibold text-lg mb-2",children:"Emin misiniz?"}),r?null:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-sm mb-4",children:'Bu rüyayı silmek istediğinize emin misiniz? Bu işlem geri alınamaz. Rüyanız "Silinen Dosyalar" bölümüne taşınacak.'}),c.jsxs("label",{className:"flex items-center justify-center gap-2 mb-4 text-xs",children:[c.jsx("input",{type:"checkbox",checked:s,onChange:o=>i(o.target.checked)}),"Bir daha gösterme"]})]}),c.jsxs("div",{className:"flex gap-2 justify-center",children:[c.jsx(X,{variant:"outline",onClick:e,children:"Hayır"}),c.jsx(X,{variant:"destructive",onClick:()=>n(s),children:"Evet"})]})]})})}async function ow(t){const e=ke(ie,"dreams",t),n=await Je(e);if(!n.exists())throw new Error("Rüya bulunamadı.");const r=n.data();await Qr(ke(ie,"silinen-dosyalar",t),{...r,deletedAt:new Date}),await FA(e)}function V7({comments:t,onReply:e}){const[n,r]=p.useState(null),[s,i]=p.useState("");return c.jsx("div",{className:"mt-3 border-t pt-3",children:t.map(o=>c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:o.user.avatar,alt:o.user.name,className:"h-6 w-6 rounded-full border"}),c.jsx("span",{className:"text-xs font-semibold",children:o.user.name}),c.jsx("span",{className:"text-xs text-muted-foreground",children:o.createdAt})]}),c.jsx("div",{className:"ml-8 text-sm py-1",children:o.text}),c.jsx("button",{className:"ml-8 text-xs text-blue-600 hover:underline",onClick:()=>r(o.id),children:"Yanıtla"}),n===o.id&&c.jsxs("form",{className:"flex gap-2 ml-8 mt-1",onSubmit:a=>{a.preventDefault(),e(o.id,s),i(""),r(null)},children:[c.jsx("input",{value:s,onChange:a=>i(a.target.value),className:"border rounded px-2 py-1 text-xs flex-1",placeholder:"Yanıt yaz..."}),c.jsx("button",{type:"submit",className:"text-xs text-white bg-blue-600 px-2 py-1 rounded",children:"Gönder"})]}),o.replies&&o.replies.length>0&&c.jsx("div",{className:"ml-12 mt-1 border-l pl-2",children:o.replies.map(a=>c.jsxs("div",{className:"mb-1",children:[c.jsx("span",{className:"text-xs font-semibold",children:a.user.name}),": ",c.jsx("span",{className:"text-xs",children:a.text})]},a.id))})]},o.id))})}function Ol({dream:t,onDelete:e}){const{currentUser:n}=bn(),[r,s]=p.useState(!1),i=S=>{S.stopPropagation(),s(!0)},o=()=>{window.location.href=`/dream/${t.id}`},[a,l]=p.useState(!1),[u,d]=p.useState(t.likes||0),[f,h]=p.useState([]),[m,x]=p.useState(!1),[g,_]=p.useState(!1),[y,v]=p.useState(Array.isArray(t.comments)?t.comments:[]),w=(S,T)=>{v(C=>C.map(P=>P.id===S?{...P,replies:[...P.replies||[],{id:Date.now().toString(),user:{name:"Sen",avatar:""},text:T}]}:P))},E=S=>{S.stopPropagation(),a?(l(!1),d(u-1),h(f.filter(T=>T!==((n==null?void 0:n.displayName)||"Sen")))):(l(!0),d(u+1),h([...f,(n==null?void 0:n.displayName)||"Sen"]))},b=S=>{S.stopPropagation(),_(!0)};return c.jsxs(tn,{className:"overflow-hidden border border-border/50 bg-background/95 backdrop-blur-sm hover:shadow-md transition-all relative",onClick:S=>{S.defaultPrevented||r||o()},children:[n&&t.user.id===n.uid&&c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),S.preventDefault(),i(S)},className:"dream-delete-btn absolute top-3 right-3 z-50 bg-transparent border-none p-1 rounded-full hover:bg-red-50",title:"Rüyayı Sil",children:c.jsx(Uh,{className:"h-6 w-6 text-red-500 hover:text-red-700 transition-colors"})}),c.jsx(iw,{open:r,onClose:()=>s(!1),onConfirm:async()=>{s(!1),await ow(t.id),e&&e(t.id)},minimal:!0})]}),c.jsx(Jr,{className:"p-4 pb-0",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(Qt,{className:"h-8 w-8 border border-border",children:[c.jsx(mn,{src:t.user.avatar,alt:t.user.name}),c.jsx(Yt,{children:t.user.name.slice(0,2).toUpperCase()})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("a",{href:`/profile/${t.user.username||t.user.id}`,className:"text-sm font-medium text-primary hover:underline cursor-pointer",onClick:S=>S.stopPropagation(),children:t.user.name}),c.jsx("span",{className:"text-xs text-muted-foreground",children:t.createdAt})]}),t.isPrivate&&c.jsx(uv,{className:"h-4 w-4 text-muted-foreground ml-auto"})]})}),c.jsxs(nn,{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.title}),c.jsx(Da,{className:"text-sm line-clamp-3",children:t.content})]}),c.jsxs(Mc,{className:"p-4 pt-0 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(X,{variant:a?"default":"ghost",size:"sm",className:"h-8 px-2 gap-1",onClick:E,"aria-pressed":a,children:[c.jsx(cv,{className:`h-4 w-4 ${a?"fill-red-500 text-red-500":""}`}),c.jsx("span",{className:"text-xs cursor-pointer underline decoration-dotted",onClick:S=>{S.stopPropagation(),x(!0)},children:u})]}),m&&c.jsxs("div",{className:"absolute z-50 bg-white border rounded shadow p-2 top-12 left-4 min-w-[120px]",onClick:S=>S.stopPropagation(),children:[c.jsx("div",{className:"font-semibold mb-1 text-sm",children:"Beğenenler"}),f.length===0?c.jsx("div",{className:"text-xs text-muted-foreground",children:"Henüz beğeni yok"}):f.map((S,T)=>c.jsx("div",{className:"text-xs",children:S},T)),c.jsx(X,{variant:"ghost",size:"xs",className:"mt-1",onClick:()=>x(!1),children:"Kapat"})]}),c.jsxs(X,{variant:"ghost",size:"sm",className:"h-8 px-2 gap-1",children:[c.jsx(Pi,{className:"h-4 w-4"}),c.jsx("span",{className:"text-xs",children:Array.isArray(t.comments)?t.comments.length:0})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(X,{variant:g?"default":"ghost",size:"sm",className:"h-8 px-2",onClick:b,"aria-pressed":g,children:[c.jsx($h,{className:`h-4 w-4 ${g?"text-blue-500":""}`}),c.jsx("span",{className:"text-xs",children:g?"Paylaşıldı":"Paylaş"})]})})]}),y.length>0&&c.jsx(V7,{comments:y,onReply:w})]})}const F7=()=>{const{currentUser:t}=bn(),[e,n]=p.useState([]),[r,s]=p.useState(!0);p.useEffect(()=>{(async()=>{if(!t){n([]),s(!1);return}try{const a=Jn(Pt(ie,"dreams"),gn("userId","==",t.uid),ro("createdAt","desc")),u=(await Gr(a)).docs.map(d=>{const f=d.data();return{id:d.id,title:f.title,content:f.content,createdAt:f.createdAt&&f.createdAt.toDate?new Date(f.createdAt.toDate()).toLocaleDateString("tr-TR"):"",isPrivate:f.isPrivate,likes:f.likes||0,comments:f.comments||0,user:{id:f.userId||"",name:f.userName||"Kullanıcı",avatar:f.userAvatar||""}}});n(u)}catch(a){console.error("Dreams fetch error:",a)}finally{s(!1)}})()},[t]);const i=o=>{n(a=>a.filter(l=>l.id!==o))};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#e3f0fa] via-[#c9e2f5] to-[#1e355d]",children:[c.jsx(Tv,{}),t&&c.jsx("div",{className:"absolute right-8 top-8 z-50",children:c.jsx(U4,{})}),c.jsx("div",{className:"absolute left-0 top-0 w-full z-0 pointer-events-none select-none",children:c.jsxs("div",{className:"relative w-full h-40",children:[c.jsx(c_,{className:"absolute left-4 top-8 w-32 h-16 opacity-80",style:{filter:"blur(1px)"}}),c.jsx(c_,{className:"absolute right-12 top-0 w-40 h-20 opacity-60",style:{filter:"blur(2px)"}}),c.jsx($4,{className:"absolute right-24 top-10 w-16 h-16 opacity-90"})]})}),c.jsx("section",{className:"pt-28 pb-16 px-4 md:px-6 max-w-6xl mx-auto relative z-10",children:c.jsx("div",{className:"flex flex-col md:flex-row items-center gap-8",children:c.jsxs("div",{className:"flex-1 space-y-6",children:[c.jsx("img",{src:"/vvvvv.png",alt:"Bring Logo",className:"h-20 w-auto mb-4 drop-shadow-2xl mx-auto md:mx-0 bg-white/70 rounded-2xl p-2 border border-blue-200",style:{maxWidth:220}}),c.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold leading-tight bg-gradient-to-r from-[#1e355d] via-[#2a406c] to-[#4fc3f7] bg-clip-text text-transparent drop-shadow-xl w-full max-w-3xl mx-auto text-center whitespace-pre-line break-words",children:"Hayal Gücünün Anahtarı"}),c.jsx("p",{className:"text-lg text-[#2a406c] font-medium",children:"Her sabah yeni bir başlangıç. Rüyalarını kaydet, keşfet ve paylaş. Sınırları olmayan bir dünyaya adım at."}),c.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[c.jsx(Pe,{to:"/register",children:c.jsx(X,{size:"lg",className:"bg-gradient-to-r from-[#1e355d] to-[#4fc3f7] text-white shadow-xl hover:from-[#2a406c] hover:to-[#81d4fa] transition font-bold px-8 py-2 text-lg",children:"Hemen Başla"})}),c.jsx(Pe,{to:"/about",children:c.jsx(X,{variant:"outline",size:"lg",className:"border-[#1e355d] text-[#1e355d] font-bold px-8 py-2 text-lg hover:bg-[#e3f0fa] hover:text-[#2a406c]",children:"Daha Fazla Öğren"})})]})]})})}),c.jsxs("section",{className:"py-16 px-4 md:px-6 max-w-6xl mx-auto",id:"features",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold mb-4 text-[#1e355d]",children:"Bring ile Neler Yapabilirsin?"}),c.jsx("p",{className:"text-[#2a406c] max-w-2xl mx-auto text-lg",children:"Hayallerini güvenle kaydet, ister paylaş ister sakla, ister yorumla. Hepsi senin kontrolünde."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[c.jsx(ku,{icon:c.jsx(fj,{size:28,color:"#1e355d"}),title:"Rüya Günlüğü",description:"Her sabah uyandığında rüyalarını kaydet, zamanla kendi hayal atlasını oluştur."}),c.jsx(ku,{icon:c.jsx($h,{size:28,color:"#1976d2"}),title:"Paylaşım",description:"Dilersen rüyalarını toplulukla paylaş, dilersen sadece kendine sakla. Seçim senin."}),c.jsx(ku,{icon:c.jsx(Pi,{size:28,color:"#0d47a1"}),title:"AI Yorum",description:"Yapay zeka ile rüyalarının gizemini çöz, yeni anlamlar keşfet."}),c.jsx(ku,{icon:c.jsx(uv,{size:28,color:"#1565c0"}),title:"Gizlilik",description:"Rüyalarını kimlerin görebileceğine sen karar ver. Tam gizlilik, tam özgürlük."})]}),c.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"p-8 bg-white/80 rounded-2xl shadow-xl border border-blue-100 flex flex-col items-center text-center",children:[c.jsx("h3",{className:"text-2xl font-bold text-[#1976d2] mb-2",children:"Günün İlhamı"}),c.jsx("p",{className:"text-[#2a406c] mb-4",children:"Her gün seni motive edecek yeni bir rüya sözüyle güne başla."}),c.jsx("blockquote",{className:"italic text-[#1e355d] font-semibold",children:'"Hayallerin sınırı yoktur, sadece senin cesaretin var."'})]}),c.jsxs("div",{className:"p-8 bg-gradient-to-br from-[#e3f0fa] to-[#c9e2f5] rounded-2xl shadow-xl border border-blue-100 flex flex-col items-center text-center",children:[c.jsx("h3",{className:"text-2xl font-bold text-[#1e355d] mb-2",children:"Hızlı Kayıt"}),c.jsx("p",{className:"text-[#2a406c] mb-4",children:"Tek tıkla rüya ekle, ister yaz ister sesli kaydet. Mobilde de süper hızlı!"}),c.jsx(X,{variant:"default",size:"lg",className:"bg-gradient-to-r from-[#1976d2] to-[#4fc3f7] text-white font-bold px-6 py-2 mt-2 shadow-md",children:"Rüya Ekle"})]})]}),c.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-white/80 rounded-xl shadow-lg border border-blue-100",children:[c.jsx("h4",{className:"text-lg font-semibold text-[#0d47a1] mb-2",children:"Karanlık Mod"}),c.jsx("p",{className:"text-[#2a406c]",children:"Gözlerini yormadan rüyalarını kaydet, gece-gündüz sana uyum sağlar."})]}),c.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-white/80 rounded-xl shadow-lg border border-blue-100",children:[c.jsx("h4",{className:"text-lg font-semibold text-[#1976d2] mb-2",children:"Topluluk Etkileşimi"}),c.jsx("p",{className:"text-[#2a406c]",children:"Diğer kullanıcıların rüyalarını keşfet, beğen ve yorum yap. İlham al, paylaş."})]}),c.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-white/80 rounded-xl shadow-lg border border-blue-100",children:[c.jsx("h4",{className:"text-lg font-semibold text-[#1e355d] mb-2",children:"Gelişmiş Arama"}),c.jsx("p",{className:"text-[#2a406c]",children:"Rüyalarını anahtar kelimeye, tarihe veya etikete göre kolayca bul."})]})]}),c.jsxs("div",{className:"mt-16",children:[c.jsx("h3",{className:"text-2xl font-bold text-[#1e355d] mb-6",children:"Rüyalarım"}),r?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Yükleniyor..."}):t?e.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(o=>c.jsx(Ol,{dream:o,onDelete:i},o.id))}):c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Henüz rüya kaydetmediniz."}):c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Rüyalarını görmek için giriş yap."})]})]}),c.jsx("section",{className:"py-16 px-4 md:px-6 bg-[#e3f0fa] backdrop-blur-sm",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold mb-4 text-[#1e355d]",children:"Nasıl Çalışır?"}),c.jsx("p",{className:"text-[#2a406c] max-w-2xl mx-auto text-lg",children:"Bring ile hayallerine yolculuk başlasın. Sadece üç adımda: Kayıt ol, rüyanı yaz, yeni anlamlar keşfet."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-white/70 rounded-xl shadow-lg border border-blue-100",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#1e355d] to-[#4fc3f7] flex items-center justify-center text-white font-bold text-xl mb-4 shadow-md",children:"1"}),c.jsx("h3",{className:"text-xl font-semibold mb-2 text-[#1e355d]",children:"Kayıt Ol"}),c.jsx("p",{className:"text-[#2a406c]",children:"Ücretsiz kaydol, Bring dünyasına ilk adımını at."})]}),c.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-white/70 rounded-xl shadow-lg border border-blue-100",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#1976d2] to-[#4fc3f7] flex items-center justify-center text-white font-bold text-xl mb-4 shadow-md",children:"2"}),c.jsx("h3",{className:"text-xl font-semibold mb-2 text-[#1976d2]",children:"Rüyanı Kaydet"}),c.jsx("p",{className:"text-[#2a406c]",children:"Rüyanı yaz, ister paylaş ister gizli tut."})]}),c.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-white/70 rounded-xl shadow-lg border border-blue-100",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#0d47a1] to-[#4fc3f7] flex items-center justify-center text-white font-bold text-xl mb-4 shadow-md",children:"3"}),c.jsx("h3",{className:"text-xl font-semibold mb-2 text-[#0d47a1]",children:"Yorumla & Keşfet"}),c.jsx("p",{className:"text-[#2a406c]",children:"Yapay zeka ile rüyalarının anlamını keşfet, topluluğu incele."})]})]})]})}),c.jsxs("section",{className:"py-20 px-4 md:px-6 max-w-6xl mx-auto text-center",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-[#1e355d]",children:"Hayallerini kaydetmeye hazır mısın?"}),c.jsx("p",{className:"text-lg text-[#2a406c] mb-8 max-w-2xl mx-auto",children:"Hemen ücretsiz bir hesap oluştur, Bring ile rüyalarını güvenle sakla ve keşfetmeye başla."}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[c.jsx(Pe,{to:"/register",children:c.jsx(X,{size:"lg",className:"bg-gradient-to-r from-[#4fc3f7] to-[#1e355d] text-white shadow-xl hover:from-[#81d4fa] hover:to-[#2a406c] transition font-bold px-8 py-2 text-lg border-2 border-[#4fc3f7]",children:"Hemen Kayıt Ol"})}),c.jsx(Pe,{to:"/login",children:c.jsx(X,{variant:"outline",size:"lg",className:"bg-gradient-to-r from-[#e3f0fa] to-[#c9e2f5] text-[#1e355d] font-bold px-8 py-2 text-lg border-2 border-[#1e355d] hover:bg-[#4fc3f7] hover:text-white hover:border-[#4fc3f7] transition",children:"Giriş Yap"})})]})]}),c.jsx("footer",{className:"py-8 px-4 border-t border-blue-100 bg-[#e3f0fa] backdrop-blur-sm",children:c.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center",children:[c.jsx("div",{className:"flex items-center gap-2 mb-4 md:mb-0",children:c.jsx("img",{src:"/vvvvv.png",alt:"Bring Logo",className:"h-5 w-auto drop-shadow-lg",style:{maxWidth:40}})}),c.jsxs("div",{className:"text-sm text-[#2a406c]",children:["© ",new Date().getFullYear()," Bring. Hayallerin sana ait."]})]})})]})},cn=p.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));cn.displayName="Input";const $7=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),o=Xr(),a=async l=>{l.preventDefault(),i(!0);try{await C8(t,n),ye.success("Başarıyla giriş yapıldı!"),o("/dashboard")}catch(u){ye.error("Giriş yapılamadı: "+u.message),console.error("Login error:",u)}finally{i(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/30",children:[c.jsx(Tv,{}),c.jsx("div",{className:"pt-28 pb-16 px-4 max-w-md mx-auto",children:c.jsxs(tn,{className:"border border-border/50 bg-background/80 backdrop-blur-sm shadow-lg animate-fade-in",children:[c.jsxs(Jr,{className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-2",children:c.jsx(pS,{className:"h-10 w-10 text-primary animate-pulse-gentle"})}),c.jsx(Pa,{className:"text-2xl",children:"Rüya Dünyasına Giriş"}),c.jsx(Da,{children:"Rüyalarınıza erişmek için giriş yapın"})]}),c.jsxs("form",{onSubmit:a,children:[c.jsxs(nn,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"E-posta"}),c.jsx(cn,{id:"email",type:"email",placeholder:"name@example.com",value:t,onChange:l=>e(l.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Şifre"}),c.jsx(cn,{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:l=>r(l.target.value),required:!0})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(Pe,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Şifremi unuttum"})})]}),c.jsxs(Mc,{className:"flex flex-col gap-4",children:[c.jsx(X,{type:"submit",className:"w-full",disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Giriş Yapılıyor..."]}):"Giriş Yap"}),c.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Hesabınız yok mu?"," ",c.jsx(Pe,{to:"/register",className:"text-primary font-medium hover:underline",children:"Kayıt ol"})]})]})]})]})})]})};function U7(t){return t?/^[a-z0-9_]{3,16}$/.test(t)?null:"Kullanıcı adı 3-16 karakter, küçük harf, rakam ve alt çizgi içerebilir.":"Kullanıcı adı boş olamaz."}const z7=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(null),[o,a]=p.useState(!1),[l,u]=p.useState(""),[d,f]=p.useState(""),[h,m]=p.useState(""),[x,g]=p.useState(!1),_=Xr();function y(w){r(w.toLowerCase());const E=U7(w.toLowerCase());i(E),!E&&(a(!0),setTimeout(async()=>{const b=Jn(Pt(ie,"users"),gn("username","==",w.toLowerCase()));(await Gr(b)).empty?i(null):i("Bu kullanıcı adı alınmış."),a(!1)},600))}const v=async w=>{if(w.preventDefault(),d!==h){ye.error("Şifreler eşleşmiyor!");return}if(s||!n){ye.error(s||"Kullanıcı adı zorunlu!");return}g(!0);try{const E=await k8(l,d);await Qr(ke(ie,"users",E.uid),{displayName:t,username:n,email:E.email,createdAt:new Date,photoURL:null,bio:"",dreamCount:0,followerCount:0,followingCount:0}),ye.success("Hesabınız başarıyla oluşturuldu!"),_("/dashboard")}catch(E){ye.error("Kayıt oluşturulamadı: "+E.message),console.error("Registration error:",E)}finally{g(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/30",children:[c.jsx(Tv,{}),c.jsx("div",{className:"pt-28 pb-16 px-4 max-w-md mx-auto",children:c.jsxs(tn,{className:"border border-border/50 bg-background/80 backdrop-blur-sm shadow-lg animate-fade-in",children:[c.jsxs(Jr,{className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-2",children:c.jsx(pS,{className:"h-10 w-10 text-primary animate-pulse-gentle"})}),c.jsx(Pa,{className:"text-2xl",children:"Rüya Dünyasına Kayıt"}),c.jsx(Da,{children:"Rüyalarınızı kaydetmek ve paylaşmak için hesap oluşturun"})]}),c.jsxs("form",{onSubmit:v,children:[c.jsxs(nn,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Ad Soyad"}),c.jsx(cn,{id:"name",placeholder:"Adınız Soyadınız",value:t,onChange:w=>e(w.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"username",className:"text-sm font-medium",children:"Kullanıcı Adı"}),c.jsx(cn,{id:"username",placeholder:"kullaniciadi",value:n,maxLength:16,onChange:w=>y(w.target.value)}),o&&c.jsx("span",{className:"text-xs text-blue-500",children:"Kontrol ediliyor..."}),s&&c.jsx("span",{className:"text-xs text-red-500",children:s})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),c.jsx(cn,{id:"email",type:"email",placeholder:"mail@ornek.com",value:l,onChange:w=>u(w.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Şifre"}),c.jsx(cn,{id:"password",type:"password",placeholder:"Şifreniz",value:d,onChange:w=>f(w.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Şifre Tekrar"}),c.jsx(cn,{id:"confirmPassword",type:"password",placeholder:"Şifrenizi tekrar girin",value:h,onChange:w=>m(w.target.value)})]})]}),c.jsxs(Mc,{className:"flex flex-col gap-2",children:[c.jsx(X,{type:"submit",className:"w-full",disabled:x||!!s,children:x?c.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}):"Kayıt Ol"}),c.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Hesabınız var mı? ",c.jsx(Pe,{to:"/login",className:"underline",children:"Giriş Yap"})]})]})]})]})})]})},B7=()=>{const t=Oc();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function vn({children:t}){const{currentUser:e}=bn(),n=Xr(),r=async()=>{try{await IR(),ye.success("Başarıyla çıkış yapıldı!"),n("/")}catch{ye.error("Çıkış yapılırken bir hata oluştu.")}};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/10",children:[c.jsxs("nav",{className:"w-full px-4 py-3 flex items-center justify-between border-b border-border/40 bg-background/90 backdrop-blur-md fixed top-0 z-50",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(Pe,{to:"/",children:c.jsx("img",{src:"/vvvvv.png",alt:"Logo",className:"h-10 w-auto",style:{maxWidth:160}})})}),c.jsx("div",{className:"flex items-center gap-4",children:e&&window.location.pathname.startsWith("/profile")&&c.jsx(X,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full p-2 hover:bg-red-50",title:"Çıkış Yap","aria-label":"Çıkış Yap",children:c.jsx(fS,{className:"h-5 w-5 text-red-400"})})})]}),c.jsx("div",{className:"fixed bottom-0 left-0 z-50 w-full bg-background/90 backdrop-blur-md border-t border-border/40 md:hidden",children:c.jsxs("div",{className:"grid h-16 grid-cols-5 mx-auto font-medium",children:[c.jsxs(Pe,{to:"/dashboard",className:"flex flex-col items-center justify-center px-4 py-2",children:[c.jsx(jx,{className:"w-5 h-5 text-primary"}),c.jsx("span",{className:"text-xs mt-1",children:"Ana Sayfa"})]}),c.jsxs(Pe,{to:"/create-dream",className:"flex flex-col items-center justify-center px-4 py-2",children:[c.jsx(Px,{className:"w-5 h-5 text-primary"}),c.jsx("span",{className:"text-xs mt-1",children:"Yeni Rüya"})]}),c.jsxs(Pe,{to:"/discover",className:"flex flex-col items-center justify-center px-4 py-2",children:[c.jsx(Dx,{className:"w-5 h-5 text-primary"}),c.jsx("span",{className:"text-xs mt-1",children:"Keşfet"})]}),c.jsxs(Pe,{to:"/messages",className:"flex flex-col items-center justify-center px-4 py-2",children:[c.jsx(Pi,{className:"w-5 h-5 text-primary"}),c.jsx("span",{className:"text-xs mt-1",children:"Mesajlar"})]}),c.jsxs(Pe,{to:"/profile",className:"flex flex-col items-center justify-center px-4 py-2",children:[c.jsx(Di,{className:"w-5 h-5 text-primary"}),c.jsx("span",{className:"text-xs mt-1",children:"Profil"})]})]})}),c.jsx("div",{className:"fixed left-0 top-0 h-screen w-64 border-r border-border/40 bg-background/90 backdrop-blur-md pt-20 hidden md:block",children:c.jsxs("div",{className:"flex flex-col space-y-2 p-4",children:[c.jsx(Pe,{to:"/dashboard",children:c.jsxs(X,{variant:"ghost",className:"w-full justify-start",children:[c.jsx(jx,{className:"mr-2 h-5 w-5"}),"Ana Sayfa"]})}),c.jsx(Pe,{to:"/create-dream",children:c.jsxs(X,{variant:"ghost",className:"w-full justify-start",children:[c.jsx(Px,{className:"mr-2 h-5 w-5"}),"Yeni Rüya"]})}),c.jsx(Pe,{to:"/discover",children:c.jsxs(X,{variant:"ghost",className:"w-full justify-start",children:[c.jsx(Dx,{className:"mr-2 h-5 w-5"}),"Keşfet"]})}),c.jsx(Pe,{to:"/messages",children:c.jsxs(X,{variant:"ghost",className:"w-full justify-start",children:[c.jsx(Pi,{className:"mr-2 h-5 w-5"}),"Mesajlar"]})}),c.jsx(Pe,{to:"/profile",children:c.jsxs(X,{variant:"ghost",className:"w-full justify-start",children:[c.jsx(Di,{className:"mr-2 h-5 w-5"}),"Profil"]})})]})}),c.jsx("main",{className:"pb-20 md:pb-6 pt-16 md:pl-64",children:c.jsx("div",{className:"container mx-auto p-4",children:t})})]})}function H7(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:m,...x}=f,g=(h==null?void 0:h[t][l])||a,_=p.useMemo(()=>x,Object.values(x));return c.jsx(g.Provider,{value:_,children:m})}function d(f,h){const m=(h==null?void 0:h[t][l])||a,x=p.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,W7(s,...e)]}function W7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var q7=p.createContext(void 0);function sN(t){const e=p.useContext(q7);return t||e||"ltr"}var hm="rovingFocusGroup.onEntryFocus",K7={bubbles:!1,cancelable:!0},Yf="RovingFocusGroup",[uy,iN,G7]=FT(Yf),[Q7,oN]=H7(Yf,[G7]),[Y7,X7]=Q7(Yf),aN=p.forwardRef((t,e)=>c.jsx(uy.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(uy.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(J7,{...t,ref:e})})}));aN.displayName=Yf;var J7=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=p.useRef(null),m=wt(e,h),x=sN(i),[g=null,_]=Pc({prop:o,defaultProp:a,onChange:l}),[y,v]=p.useState(!1),w=en(u),E=iN(n),b=p.useRef(!1),[S,T]=p.useState(0);return p.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(hm,w),()=>C.removeEventListener(hm,w)},[w]),c.jsx(Y7,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(C=>_(C),[_]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>T(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>T(C=>C-1),[]),children:c.jsx(ve.div,{tabIndex:y||S===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{b.current=!0}),onFocus:pe(t.onFocus,C=>{const P=!b.current;if(C.target===C.currentTarget&&P&&!y){const A=new CustomEvent(hm,K7);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const R=E().filter(V=>V.focusable),N=R.find(V=>V.active),$=R.find(V=>V.id===g),B=[N,$,...R].filter(Boolean).map(V=>V.ref.current);uN(B,d)}}b.current=!1}),onBlur:pe(t.onBlur,()=>v(!1))})})}),lN="RovingFocusGroupItem",cN=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Sl(),l=i||a,u=X7(lN,n),d=u.currentTabStopId===l,f=iN(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return p.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),c.jsx(uy.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:c.jsx(ve.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:pe(t.onMouseDown,x=>{r?u.onItemFocus(l):x.preventDefault()}),onFocus:pe(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:pe(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=tH(x,u.orientation,u.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=f().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const v=y.indexOf(x.currentTarget);y=u.loop?nH(y,v+1):y.slice(v+1)}setTimeout(()=>uN(y))}})})})});cN.displayName=lN;var Z7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function tH(t,e,n){const r=eH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Z7[r]}function uN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function nH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var rH=aN,sH=cN,aw="Tabs",[iH,aW]=ka(aw,[oN]),dN=oN(),[oH,lw]=iH(aw),hN=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=sN(a),[f,h]=Pc({prop:r,onChange:s,defaultProp:i});return c.jsx(oH,{scope:n,baseId:Sl(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:c.jsx(ve.div,{dir:d,"data-orientation":o,...u,ref:e})})});hN.displayName=aw;var fN="TabsList",pN=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=lw(fN,n),o=dN(n);return c.jsx(rH,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});pN.displayName=fN;var mN="TabsTrigger",gN=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=lw(mN,n),a=dN(n),l=wN(o.baseId,r),u=xN(o.baseId,r),d=r===o.value;return c.jsx(sH,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(ve.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:pe(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:pe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});gN.displayName=mN;var yN="TabsContent",vN=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=lw(yN,n),l=wN(a.baseId,r),u=xN(a.baseId,r),d=r===a.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(Gi,{present:s||d,children:({present:h})=>c.jsx(ve.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});vN.displayName=yN;function wN(t,e){return`${t}-trigger-${e}`}function xN(t,e){return`${t}-content-${e}`}var aH=hN,_N=pN,EN=gN,bN=vN;const TN=aH,cw=p.forwardRef(({className:t,...e},n)=>c.jsx(_N,{ref:n,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));cw.displayName=_N.displayName;const qo=p.forwardRef(({className:t,...e},n)=>c.jsx(EN,{ref:n,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));qo.displayName=EN.displayName;const Ko=p.forwardRef(({className:t,...e},n)=>c.jsx(bN,{ref:n,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ko.displayName=bN.displayName;const lH=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),{currentUser:s}=bn();return p.useEffect(()=>{(async()=>{if(s)try{const o=Jn(Pt(ie,"dreams"),gn("userId","==",s.uid),ro("createdAt","desc")),l=(await Gr(o)).docs.map(u=>{const d=u.data();return{id:u.id,title:d.title,content:d.content,createdAt:new Date(d.createdAt.toDate()).toLocaleDateString("tr-TR"),isPrivate:d.isPrivate,likes:d.likes||0,comments:d.comments||0,user:{id:d.userId||"",name:d.userName||"Kullanıcı",avatar:d.userAvatar||""}}});e(l)}catch(o){console.error("Dreams fetch error:",o)}finally{r(!1)}})()},[s]),c.jsx(vn,{children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Rüya Günlüğüm"}),c.jsxs(TN,{defaultValue:"all",className:"w-full",children:[c.jsxs(cw,{className:"mb-4",children:[c.jsx(qo,{value:"all",children:"Tüm Rüyalarım"}),c.jsx(qo,{value:"public",children:"Herkese Açık"}),c.jsx(qo,{value:"private",children:"Sadece Ben"})]}),c.jsx(Ko,{value:"all",className:"space-y-4",children:n?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})}):t.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(i=>c.jsx(Pe,{to:`/dream/${i.id}`,children:c.jsx(Ol,{dream:i})},i.id))}):c.jsx("p",{className:"text-center py-8 text-muted-foreground",children:'Henüz rüya kaydetmediniz. İlk rüyanızı kaydetmek için "Yeni Rüya" butonuna tıklayın.'})}),c.jsx(Ko,{value:"public",className:"space-y-4",children:n?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})}):t.filter(i=>!i.isPrivate).length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.filter(i=>!i.isPrivate).map(i=>c.jsx(Ol,{dream:i},i.id))}):c.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"Henüz herkese açık rüya paylaşmadınız."})}),c.jsx(Ko,{value:"private",className:"space-y-4",children:n?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})}):t.filter(i=>i.isPrivate).length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.filter(i=>i.isPrivate).map(i=>c.jsx(Ol,{dream:i},i.id))}):c.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"Henüz özel rüya kaydetmediniz."})})]})]})})},tu=p.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));tu.displayName="Textarea";function lE(t){return t?/^[a-z0-9_]{3,16}$/.test(t)?null:"Kullanıcı adı 3-16 karakter, küçük harf, rakam ve alt çizgi içerebilir.":"Kullanıcı adı boş olamaz."}const cH=()=>{const{currentUser:t}=bn(),[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,o]=p.useState(!1),[a,l]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(null),[m,x]=p.useState(""),[g,_]=p.useState(!1);p.useState(null),p.useRef(null),p.useEffect(()=>{(async()=>{if(t)try{const E=ke(ie,"users",t.uid),b=await Je(E);if(b.exists()){const S=b.data();n({displayName:S.displayName||"Kullanıcı",username:S.username||"",bio:S.bio||"",photoURL:S.photoURL,dreamCount:S.dreamCount||0,followerCount:S.followerCount||0,followingCount:S.followingCount||0}),l(S.displayName||""),d(S.username||""),x(S.bio||"")}else{const S={displayName:t.displayName||"Kullanıcı",username:"",email:t.email,bio:"",photoURL:null,createdAt:new Date,dreamCount:0,followerCount:0,followingCount:0};await Qr(E,S),n(S),l(S.displayName),d(S.username)}}catch(E){console.error("Profile fetch error:",E),ye.error("Profil bilgileri yüklenirken bir hata oluştu.")}finally{s(!1)}})()},[t]),p.useEffect(()=>{if(!u||(h(lE(u)),lE(u)))return;_(!0);const w=setTimeout(async()=>{const E=Jn(Pt(ie,"users"),gn("username","==",u)),b=await Gr(E);!b.empty&&b.docs[0].id!==(t==null?void 0:t.uid)?h("Bu kullanıcı adı alınmış."):h(null),_(!1)},600);return()=>clearTimeout(w)},[u,t]);const y=async()=>{if(t){if(f)return ye.error(f);s(!0);try{const w=ke(ie,"users",t.uid);await Qr(w,{displayName:a,username:u,bio:m},{merge:!0}),n(E=>E&&{...E,displayName:a,username:u,bio:m}),ye.success("Profil başarıyla güncellendi."),o(!1)}catch(w){console.error("Profile update error:",w),ye.error("Profil güncellenirken bir hata oluştu.")}finally{s(!1)}}},v=async()=>{try{await IR(),window.location.href="/login"}catch{ye.error("Çıkış yapılamadı. Lütfen tekrar deneyin.")}};return c.jsx(vn,{children:c.jsxs("div",{className:"w-full max-w-md mx-auto px-2 md:px-0 py-8 flex flex-col gap-6",children:[t&&c.jsx("button",{onClick:v,className:"absolute top-4 right-4 z-10 p-2 rounded-full hover:bg-red-50 transition",title:"Çıkış Yap","aria-label":"Çıkış Yap",children:c.jsx(fS,{className:"h-5 w-5 text-red-400"})}),r?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})}):c.jsxs("section",{className:"bg-white/90 shadow-xl rounded-2xl p-6 flex flex-col items-center gap-6 border border-gray-100",children:[c.jsx("div",{className:"relative",children:c.jsxs(Qt,{className:"h-24 w-24 md:h-28 md:w-28 border-2 border-primary/20 shadow-sm",children:[c.jsx(mn,{src:(e==null?void 0:e.photoURL)||void 0}),c.jsx(Yt,{children:a.slice(0,2).toUpperCase()})]})}),c.jsxs("div",{className:"text-center flex flex-col gap-1",children:[c.jsx("span",{className:"text-xl font-semibold text-gray-900 tracking-tight",children:e==null?void 0:e.displayName}),c.jsxs("span",{className:"text-sm text-gray-400 font-mono",children:["@",e==null?void 0:e.username]})]}),c.jsx("p",{className:"text-gray-600 text-sm text-center max-w-xs",children:(e==null?void 0:e.bio)||c.jsx("span",{className:"italic text-gray-300",children:"Kendini tanıtarak topluluğa katıl!"})}),c.jsxs("div",{className:"flex justify-center gap-8 w-full",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-lg font-bold text-primary",children:e==null?void 0:e.dreamCount}),c.jsx("span",{className:"text-xs text-gray-400",children:"Rüya"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-lg font-bold text-primary",children:e==null?void 0:e.followerCount}),c.jsx("span",{className:"text-xs text-gray-400",children:"Takipçi"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-lg font-bold text-primary",children:e==null?void 0:e.followingCount}),c.jsx("span",{className:"text-xs text-gray-400",children:"Takip"})]})]}),c.jsx("div",{className:"w-full flex justify-center",children:i?c.jsxs("form",{className:"w-full flex flex-col gap-3",onSubmit:w=>{w.preventDefault(),y()},children:[c.jsx(cn,{id:"name",value:a,onChange:w=>l(w.target.value),placeholder:"İsminiz",className:"text-center"}),c.jsx(cn,{id:"username",value:u,onChange:w=>d(w.target.value.toLowerCase()),placeholder:"kullaniciadi",maxLength:16,className:"text-center"}),g&&c.jsx("span",{className:"text-xs text-blue-500 text-center",children:"Kontrol ediliyor..."}),f&&c.jsx("span",{className:"text-xs text-red-500 text-center",children:f}),c.jsx(tu,{id:"bio",value:m,onChange:w=>x(w.target.value),placeholder:"Kısa bir bio yazın",rows:2,className:"text-center"}),c.jsxs("div",{className:"flex gap-2 mt-2 justify-center",children:[c.jsx(X,{type:"submit",disabled:r||!!f,size:"sm",className:"rounded-full px-4",children:r?c.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}):"Kaydet"}),c.jsx(X,{type:"button",variant:"outline",size:"sm",className:"rounded-full px-4",onClick:()=>{o(!1),l((e==null?void 0:e.displayName)||""),d((e==null?void 0:e.username)||""),x((e==null?void 0:e.bio)||"")},children:"İptal"})]})]}):c.jsx("button",{onClick:()=>o(!0),className:"px-4 py-1 text-xs rounded-full bg-primary/10 text-primary hover:bg-primary/20 transition font-medium",children:"Profili Düzenle"})})]})]})})};var uH="Label",SN=p.forwardRef((t,e)=>c.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));SN.displayName=uH;var IN=SN;const dH=Fh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pd=p.forwardRef(({className:t,...e},n)=>c.jsx(IN,{ref:n,className:xe(dH(),t),...e}));pd.displayName=IN.displayName;function hH(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var uw="Switch",[fH,lW]=ka(uw),[pH,mH]=fH(uw),kN=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,m]=p.useState(null),x=wt(e,w=>m(w)),g=p.useRef(!1),_=h?d||!!h.closest("form"):!0,[y=!1,v]=Pc({prop:s,defaultProp:i,onChange:u});return c.jsxs(pH,{scope:n,checked:y,disabled:a,children:[c.jsx(ve.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":RN(y),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:x,onClick:pe(t.onClick,w=>{v(E=>!E),_&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),_&&c.jsx(gH,{control:h,bubbles:!g.current,name:r,value:l,checked:y,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});kN.displayName=uw;var CN="SwitchThumb",AN=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=mH(CN,n);return c.jsx(ve.span,{"data-state":RN(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});AN.displayName=CN;var gH=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=p.useRef(null),o=hH(n),a=MS(e);return p.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[o,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function RN(t){return t?"checked":"unchecked"}var NN=kN,yH=AN;const PN=p.forwardRef(({className:t,...e},n)=>c.jsx(NN,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:c.jsx(yH,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));PN.displayName=NN.displayName;const vH="AIzaSyC9s1KViXMx5ZQ-_GYcyKr0saBEs8ewpak",wH="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",xH={klasik:t=>`Bu bir rüya açıklamasıdır: ${t}
Bu rüyayı klasik rüya tabirlerine göre yorumla. Rüyadaki sembolleri tek tek açıkla ve her sembolün ne anlama geldiğini belirt. Sonra tüm rüyayı birleştirerek genel bir analiz yap.
Yorumun sade, anlaşılır ve detaylı olsun.`,gizli:t=>`Bu rüya: ${t}
Bu şablonu kullan rüyanın anlamı diye başla işte birkaç formaliteden bir şey anlat sonra bir anda^Dur , sen Defne misin?' yaz Defne'ye rüyadan bağımsız olarak, gözlerinin çok güzel olduğunu söyle  sonra tam bu kısmı okuduğunda gülümseyeceği için ona  'sırtımda leen güldüğünü görüyorum yaz'  işte bu da Miraç’tan sana ikinci süprizz! `,kabus:t=>`Rüya: ${t}
Bu rüyayı bir uyarı gibi ele al. Rüyada dikkat edilmesi gereken sembolleri analiz et. Negatif çağrışımları açıkla ve olası riskleri yorumla.
Ancak kullanıcıyı korkutmadan, dikkatli olunması gereken alanlara vurgu yap.`,freud:t=>`Rüya içeriği: ${t}
Bu rüyayı Sigmund Freud’un psikanalitik yaklaşımına göre yorumla. Bastırılmış arzular, çocukluk anıları ve bilinçaltı temaları üzerinden analiz yap.`,jung:t=>`Rüya: ${t}
Carl Jung’un arketipsel sembollerine ve bireyselleşme sürecine göre bu rüyayı analiz et. Gölge, persona, anima gibi kavramlar çerçevesinde yorum yap.`,arabi:t=>`Bu rüya: ${t}
Rüyayı Muhyiddin-i Arabi'nin tasavvufi rüya yorumlarına benzer şekilde yorumla. Manevi boyutunu açıklayarak, rüyanın ruhsal bir mesaj taşıyıp taşımadığını analiz et.`,modern:t=>`Rüya: ${t}
Bu rüyayı, modern bir televizyon programında rüya yorumlayan ünlü bir yorumcu gibi açıkla. Yorumun hem bilgilendirici hem de halk diline uygun olsun. İçeriği günümüz yaşamı ve psikolojisiyle ilişkilendir, pratik ve anlaşılır öneriler de sun. İçine nasihatvari öğeler de ekleyebilirsin.`,kisa:t=>`Rüya: ${t}
Bu rüyayı çok kısa ve öz şekilde yorumla. Birkaç cümlede özetle ve olası anlamı belirt.`};function _H(t){if(!t)return!1;const e=["defne","defne öz","defne oz","Defne","Defne Öz","Defne Oz","defene"],n=(t.displayName||"").toLowerCase(),r=(t.username||"").toLowerCase();return e.some(s=>n===s||r===s)}const DN=async(t,e="klasik",n)=>{var r,s,i;try{let o=e;e==="olumlu"&&n&&_H(n)?o="gizli":e==="olumlu"&&(o="klasik");const a=xH[o](t),l=await fetch(`${wH}?key=${vH}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:a}]}]})});if(!l.ok)throw new Error(`API error: ${l.status}`);const u=await l.json();if(u.candidates&&((i=(s=(r=u.candidates[0])==null?void 0:r.content)==null?void 0:s.parts[0])!=null&&i.text))return{result:u.candidates[0].content.parts[0].text,mode:o};throw new Error("Rüyanız yorumlanamadı. Lütfen daha sonra tekrar deneyin.")}catch(o){return console.error("Dream interpretation error:",o),{result:"Rüya yorumlanırken bir hata oluştu. Lütfen daha sonra tekrar deneyin.",mode:e}}},EH=[{label:"Klasik",value:"klasik"},{label:"Olumlu",value:"olumlu"},{label:"Kabus/Uyarı",value:"kabus"},{label:"Freud (Psikanaliz)",value:"freud"},{label:"Jung (Arketipsel)",value:"jung"},{label:"Arabi (Tasavvufi)",value:"arabi"},{label:"Modern Yorumcu",value:"modern"},{label:"Kısa & Net",value:"kisa"}];function bH({dreamContent:t,commentCount:e}){const[n,r]=p.useState(null),[s,i]=p.useState(!1),[o,a]=p.useState("klasik"),l=d=>{ye(d,{duration:900,position:"top-center"})},u=async()=>{i(!0);try{const d=await DN(t,o);r(d),l("Rüya başarıyla yorumlandı!")}catch(d){console.error("Error interpreting dream:",d),l("Yorumlama sırasında hata oluştu.")}finally{i(!1)}};return c.jsxs(tn,{className:"border border-border/50 bg-primary/5 backdrop-blur-sm",children:[c.jsxs(Jr,{className:"pb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(hS,{className:"h-5 w-5 text-primary"}),c.jsx(Pa,{className:"text-lg",children:"Rüya Yorumu"})]}),c.jsx(Da,{children:"Sihirli Yorumlama ile rüyanı farklı bakış açılarıyla analiz et, paylaş ve beğen!"}),typeof e=="number"&&c.jsxs("div",{className:"mt-2 text-xs text-blue-600 font-semibold flex items-center gap-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-square h-4 w-4",children:c.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),c.jsxs("span",{children:[e," yorum"]})]})]}),c.jsxs(nn,{children:[c.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:EH.map(d=>c.jsx(X,{size:"sm",variant:o===d.value?"default":"outline",className:"text-xs",onClick:()=>a(d.value),disabled:s,children:d.label},d.value))}),n?c.jsx("p",{className:"text-sm leading-relaxed",children:n}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"Rüyanızın yorumunu görmek için aşağıdaki butona tıklayın."}),c.jsx(X,{variant:"outline",size:"sm",className:"mt-4 text-xs",onClick:u,disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx(at,{className:"mr-2 h-3 w-3 animate-spin"}),"Yorumlanıyor..."]}):n?"Yeniden Yorumla":"Rüyamı Yorumla"})]})]})}const TH=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[o,a]=p.useState(!1),[l,u]=p.useState(!1),{currentUser:d}=bn(),f=Xr(),h=async m=>{if(m.preventDefault(),!d){ye.error("Oturum açmanız gerekiyor.");return}if(!t.trim()||!n.trim()){ye.error("Başlık ve rüya metni ekleyin.");return}a(!0);try{const x=ke(ie,"users",d.uid),g=await Je(x),_=g.exists()?g.data():{},y=await Bf(Pt(ie,"dreams"),{title:t,content:n,isPrivate:s,createdAt:new Date,userId:d.uid,userName:_.displayName||"Kullanıcı",userAvatar:_.photoURL||null,userUsername:_.username||null,likes:0,comments:0});ye.success("Rüyanız başarıyla kaydedildi!"),f(`/dream/${y.id}`)}catch(x){console.error("Dream creation error:",x),ye.error("Rüya kaydedilirken bir hata oluştu.")}finally{a(!1)}};return c.jsx(vn,{children:c.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Yeni Rüya Ekle"}),c.jsx(tn,{children:c.jsx(nn,{className:"pt-6",children:c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(pd,{htmlFor:"title",children:"Rüya Başlığı"}),c.jsx(cn,{id:"title",placeholder:"Rüyanızın kısa bir başlığını yazın",value:t,onChange:m=>e(m.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(pd,{htmlFor:"content",children:"Rüya İçeriği"}),c.jsx(tu,{id:"content",placeholder:"Rüyanızı detaylı bir şekilde yazın...",value:n,onChange:m=>r(m.target.value),rows:10})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(PN,{id:"private",checked:s,onCheckedChange:i}),c.jsx(pd,{htmlFor:"private",className:"cursor-pointer",children:"Bu rüyayı sadece ben görebilirim"})]}),n.length>10&&!l&&c.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>u(!0),children:"Rüyamı Yorumla"})]}),c.jsx(X,{type:"submit",disabled:o,className:"w-full",children:o?c.jsxs(c.Fragment,{children:[c.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Kaydediliyor..."]}):"Rüyayı Kaydet"})]})})}),l&&n.length>10&&c.jsx(bH,{dreamContent:n})]})})};function SH(t){return t.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>")}function cE({comment:t,open:e,onClose:n}){return c.jsx(vh,{open:e,onOpenChange:n,children:c.jsxs(bc,{className:"max-w-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(bi,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-semibold text-lg",children:"Yapay Zeka Yorumu"})]}),c.jsx("div",{className:"text-base whitespace-pre-line",style:{maxHeight:"40vh",overflowY:"auto"},dangerouslySetInnerHTML:{__html:SH(t)}})]})})}function IH(t,e){let n=t;return n=n.replace(/(^|\n)\s*\*\s*(?=\*\*)/g,"$1"),n.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>")}function kH(t){if(!t)return!1;const e=(t.displayName||"").toLowerCase().replace(/ı/g,"i").replace(/ö/g,"o").replace(/ü/g,"u").replace(/ş/g,"s").replace(/ç/g,"c").replace(/ğ/g,"g").replace(/[^a-z0-9]/g,"").trim();return["defne","defneoz","ahmetdemir"].some(r=>e===r)}const CH=[{label:"Klasik",value:"klasik"},{label:"Gizli Yorum (😱)",value:"olumlu"},{label:"Kabus/Uyarı",value:"kabus"},{label:"Freud (Psikanaliz)",value:"freud"},{label:"Jung (Arketipsel)",value:"jung"},{label:"Arabi (Tasavvufi)",value:"arabi"},{label:"Modern Yorumcu",value:"modern"},{label:"Kısa & Net",value:"kisa"}];function AH({dreamId:t,dreamContent:e,onNewAIComment:n}){const{currentUser:r}=bn(),[s,i]=p.useState(!1),[o,a]=p.useState(null);p.useState(!1);const[l,u]=p.useState(null),[d,f]=p.useState(0),[h,m]=p.useState("klasik"),[x,g]=p.useState([]);p.useEffect(()=>{if(!r||!t)return;(async()=>{const C=Jn(Pt(ie,"ai-comments"),gn("dreamId","==",t),gn("userId","==",r.uid),ro("createdAt","desc")),P=await Gr(C),A=`ai-comment-limit-${t}-${r.uid}`,R=P.docs.map(N=>{var $;return{id:N.id,text:N.data().text,mode:N.data().mode||"klasik",createdAt:($=N.data().createdAt)!=null&&$.toDate?N.data().createdAt.toDate():new Date}});g(R),f(R.length),R.length>=3?localStorage.setItem(A,"1"):localStorage.removeItem(A)})()},[r,t]);const _=CH.filter(T=>T.value!=="olumlu"||kH(r||{})),y=async()=>{i(!0),a(null);try{const T=x.find(R=>R.mode===h);T&&await FA(ke(ie,"ai-comments",T.id));const{result:C,mode:P}=await DN(e,h,r||void 0),A=await Bf(Pt(ie,"ai-comments"),{dreamId:t,text:C,mode:P,createdAt:new Date,userId:r.uid,userName:r.displayName||"Sen",userAvatar:r.photoURL||null});a(C),m(P),u(A.id),g(R=>[...R.filter($=>$.mode!==P),{id:A.id,text:C,mode:P,createdAt:new Date}]),f(R=>{const N=x.filter($=>$.mode!==P).length+1;return N>=3?localStorage.setItem(`ai-comment-limit-${t}-${r.uid}`,"1"):localStorage.removeItem(`ai-comment-limit-${t}-${r.uid}`),N}),n(C)}catch{a("Yorum alınamadı.")}finally{i(!1)}},[v,w]=p.useState(!1),[E,b]=p.useState(null),S=o&&o.length>180;return o&&S&&o.slice(0,180)+"",c.jsxs("div",{className:"border rounded-lg bg-muted/30 p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(bi,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-semibold",children:"Sihirli Yorumlama"})]}),x.length>0&&c.jsx("div",{className:"flex flex-col gap-2 my-3 w-full",children:x.map((T,C)=>c.jsxs("div",{className:"cursor-pointer w-full p-3 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 transition-all shadow-sm flex flex-col gap-1",onClick:()=>{w(!0),b(T)},title:"Detaylı gör",children:[c.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[c.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-bold bg-blue-200 text-blue-700",children:T.mode==="klasik"?"Klasik":T.mode==="olumlu"?"Gizli Yorum (😱)":T.mode==="kabus"?"Kabus/Uyarı":T.mode==="freud"?"Freud (Psikanaliz)":T.mode==="jung"?"Jung (Arketipsel)":T.mode==="arabi"?"Arabi (Tasavvufi)":T.mode==="modern"?"Modern Yorumcu":"Kısa & Net"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["Yorum ",C+1]})]}),c.jsx("div",{className:"text-xs text-blue-900 mt-1 w-full",style:{width:"100%",maxWidth:"100%",whiteSpace:"pre-line",display:"-webkit-box",WebkitLineClamp:5,WebkitBoxOrient:"vertical",overflow:"hidden"},dangerouslySetInnerHTML:{__html:IH(T.text)}})]},T.id))}),E&&c.jsx(cE,{comment:E.text,open:v,onClose:()=>w(!1)}),d<3&&c.jsxs("div",{className:"flex flex-col items-center mb-3",children:[c.jsx("div",{className:"flex gap-3 flex-wrap justify-center mb-2",children:_.map(T=>c.jsx(X,{variant:h===T.value?"default":"outline",size:"sm",className:`rounded-full px-5 font-semibold transition-all duration-150 ${h===T.value?"shadow-lg scale-105":""}`,onClick:()=>{m(T.value),a(null)},disabled:s,children:T.label},T.value))}),h&&c.jsxs(X,{onClick:y,disabled:s,className:"gap-2 mt-2 w-full max-w-xs mx-auto",children:[s?c.jsx(at,{className:"animate-spin h-4 w-4"}):c.jsx(bi,{className:"h-4 w-4"}),"Rüyayı Yorumlat (",3-d," hakkınız kaldı)"]})]}),o&&c.jsx(cE,{comment:o})]})}const RH=()=>{const[t,e]=p.useState(!1),{dreamId:n}=Yh(),r=Xr(),[s,i]=p.useState(null),[o,a]=p.useState([]),[l,u]=p.useState(""),[d,f]=p.useState(!0),[h,m]=p.useState(!1);p.useState(!1);const{currentUser:x}=bn(),[g,_]=p.useState(!1),[y,v]=p.useState((s==null?void 0:s.likes)||0),[w,E]=p.useState(!1),b=p.useRef(null),S=()=>{_(A=>!A),v(A=>g?A-1:A+1)},T=()=>{setTimeout(()=>{var A;(A=b.current)==null||A.scrollIntoView({behavior:"smooth",block:"start"})},100)},C=()=>{navigator.clipboard.writeText(window.location.href),E(!0),setTimeout(()=>E(!1),2e3)};p.useEffect(()=>{(async()=>{if(n)try{const R=ke(ie,"dreams",n),N=await Je(R);if(N.exists()){const $=N.data();if($.isPrivate&&$.userId!==(x==null?void 0:x.uid)){ye.error("Bu rüya özel olarak ayarlanmış.",{position:"top-center"}),f(!1);return}i({id:N.id,title:$.title,content:$.content,createdAt:new Date($.createdAt.toDate()).toLocaleDateString("tr-TR"),isPrivate:$.isPrivate,userId:$.userId,userName:$.userName,userAvatar:$.userAvatar,userUsername:$.userUsername||null,likes:$.likes||0,comments:$.comments||0});const I=Jn(Pt(ie,"comments"),gn("dreamId","==",n),ro("createdAt","desc"));return sy(I,V=>{const G=V.docs.map(k=>{const j=k.data();return{id:k.id,text:j.text,createdAt:new Date(j.createdAt.toDate()).toLocaleDateString("tr-TR"),userId:j.userId,userName:j.userName,userAvatar:j.userAvatar}});a(G)})}else ye.error("Rüya bulunamadı.",{position:"top-center"})}catch(R){console.error("Dream fetch error:",R),ye.error("Rüya yüklenirken bir hata oluştu.",{position:"top-center"})}finally{f(!1)}})()},[n,x]);const P=async()=>{if(!(!x||!n||!l.trim())){m(!0);try{const A=ke(ie,"users",x.uid),R=await Je(A),N=R.exists()?R.data():{};await Bf(Pt(ie,"comments"),{dreamId:n,text:l,createdAt:new Date,userId:x.uid,userName:N.displayName||"Kullanıcı",userAvatar:N.photoURL||null}),u(""),ye.success("Yorumunuz eklendi.",{position:"top-center"})}catch(A){console.error("Comment error:",A),ye.error("Yorum eklenirken bir hata oluştu.",{position:"top-center"})}finally{m(!1)}}};return d?c.jsx(vn,{children:c.jsx("div",{className:"flex justify-center py-12",children:c.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})})}):s?c.jsx(vn,{children:c.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto",children:[c.jsxs(tn,{className:"overflow-hidden border border-border/50 bg-background/95 backdrop-blur-sm",children:[c.jsxs(Jr,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsxs(Qt,{className:"h-10 w-10 border border-border",children:[c.jsx(mn,{src:s.userAvatar||void 0}),c.jsx(Yt,{children:s.userName.slice(0,2).toUpperCase()})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("span",{className:"text-sm font-medium",children:[c.jsx("a",{href:`/profile/${s.userUsername||s.userId}`,className:"text-primary hover:underline cursor-pointer",onClick:A=>A.stopPropagation(),children:s.userName}),s.userUsername&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"·"}),c.jsxs("a",{href:`/profile/${s.userUsername}`,className:"text-xs text-blue-700 hover:underline ml-1 cursor-pointer",onClick:A=>A.stopPropagation(),children:["@",s.userUsername]})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:s.createdAt})]}),s.isPrivate&&c.jsx(uv,{className:"h-4 w-4 text-muted-foreground ml-auto"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-semibold mb-2",children:s.title}),x&&s.userId===x.uid&&c.jsxs("div",{className:"flex gap-2",children:[c.jsx(X,{variant:"ghost",size:"icon",title:"Rüyayı Düzenle",onClick:()=>r(`/editdream/${s.id}`),children:c.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-pencil",children:c.jsx("path",{d:"M17.414 2.586a2 2 0 0 1 2.828 2.828l-12 12A2 2 0 0 1 6 18H2v-4a2 2 0 0 1 .586-1.414l12-12z"})})}),c.jsx(X,{variant:"ghost",size:"icon",title:"Rüyayı Sil",onClick:()=>e(!0),children:c.jsx(Uh,{className:"h-5 w-5 text-red-500"})}),c.jsx(iw,{open:t,onClose:()=>e(!1),onConfirm:async()=>{e(!1),await ow(s.id),ye.success("Rüya silindi.",{position:"top-center"}),r("/dashboard")},minimal:!0})]})]})]}),c.jsx(nn,{className:"p-6 pt-0",children:c.jsx("p",{className:"text-base whitespace-pre-line",children:s.content})}),c.jsxs(Mc,{className:"p-6 pt-0 flex items-center justify-between border-t border-border/30 mt-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(X,{variant:g?"default":"ghost",size:"sm",className:"h-8 px-2 gap-1",onClick:S,"aria-pressed":g,children:[c.jsx(cv,{className:`h-4 w-4 ${g?"fill-red-500 text-red-500 scale-110":""}`}),c.jsx("span",{className:`text-xs font-medium ${g?"text-red-500":""}`,children:y})]}),c.jsxs(X,{variant:"ghost",size:"sm",className:"h-8 px-2 gap-1",onClick:T,children:[c.jsx(Pi,{className:"h-4 w-4"}),c.jsx("span",{className:"text-xs",children:o.length})]})]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(X,{variant:"ghost",size:"sm",onClick:C,children:[c.jsx($h,{className:`h-4 w-4 ${w?"text-blue-500 scale-110":""}`}),c.jsx("span",{className:`text-xs font-medium ${w?"text-blue-500":""}`,children:w?"Bağlantı kopyalandı!":"Paylaş"})]})})]})]}),c.jsx("div",{className:"flex flex-col gap-4 mt-6",children:c.jsx(AH,{dreamId:s.id,dreamContent:s.content,onNewAIComment:()=>{}})}),c.jsxs("div",{className:"space-y-4 mt-6",ref:b,children:[c.jsxs("h2",{className:"text-xl font-semibold",children:["Yorumlar (",o.length,")"]}),x&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx(Qt,{className:"h-10 w-10 mt-1",children:c.jsx(Yt,{children:c.jsx(Di,{className:"h-5 w-5"})})}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx(tu,{placeholder:"Rüya hakkında bir yorum yazın...",value:l,onChange:A=>u(A.target.value),rows:2}),c.jsx(X,{size:"sm",onClick:P,disabled:h||!l.trim(),children:h?c.jsxs(c.Fragment,{children:[c.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Gönderiliyor..."]}):"Yorum Yap"})]})]}),c.jsx("div",{className:"space-y-4 pt-2",children:o.filter(A=>A.userId!=="ai").length>0?o.filter(A=>A.userId!=="ai").map(A=>c.jsx(tn,{className:"bg-muted/30",children:c.jsx(nn,{className:"p-4",children:c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx(Qt,{className:"h-8 w-8",children:c.jsxs(c.Fragment,{children:[c.jsx(mn,{src:A.userAvatar||void 0}),c.jsx(Yt,{children:A.userName.slice(0,2).toUpperCase()})]})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:A.userName}),c.jsx("span",{className:"text-xs text-muted-foreground",children:A.createdAt})]}),c.jsx("p",{className:"text-sm mt-1 whitespace-pre-line",children:A.text})]})]})})},A.id)):c.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Henüz yorum yapılmamış. İlk yorumu sen yap!"})})]})]})}):c.jsx(vn,{children:c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{children:"Rüya bulunamadı veya bu içeriğe erişim izniniz yok."})})})},NH=Fh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function fm({className:t,variant:e,...n}){return c.jsx("div",{className:xe(NH({variant:e}),t),...n})}const PH=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState(!0),[o,a]=p.useState(!1),[l,u]=p.useState(""),[d,f]=p.useState("dreams"),[h,m]=p.useState(null),[x,g]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const B=Jn(Pt(ie,"dreams"),gn("isPrivate","==",!1),ro("createdAt","desc"),U9(50)),G=(await Gr(B)).docs.map(k=>{const j=k.data();return{id:k.id,title:j.title,content:j.content,createdAt:new Date(j.createdAt.toDate()).toLocaleDateString("tr-TR"),isPrivate:j.isPrivate,likes:j.likes||0,comments:Array.isArray(j.comments)?j.comments:[],reposts:j.reposts||0,user:{id:j.userId||"",name:j.userName||"Kullanıcı",avatar:j.userAvatar||""}}});e(G)}catch(B){console.error("Dreams fetch error:",B)}finally{i(!1)}})()},[]);function _(I){return I.toLowerCase().replace(/ı/g,"i").replace(/İ/g,"i").replace(/ü/g,"u").replace(/Ü/g,"u").replace(/ö/g,"o").replace(/Ö/g,"o").replace(/ş/g,"s").replace(/Ş/g,"s").replace(/ç/g,"c").replace(/Ç/g,"c").replace(/ğ/g,"g").replace(/Ğ/g,"g")}const y=async I=>{const B=typeof I=="string"?I:l;if(!B.trim()){r([]);return}a(!0);try{const V=Pt(ie,"users"),k=(await Gr(V)).docs.map(L=>({id:L.id,displayName:L.data().displayName||"Kullanıcı",username:L.data().username||"",photoURL:L.data().photoURL||null})),j=_(B),U=k.filter(L=>_(L.displayName||"").includes(j)||_(L.username||"").includes(j));r(U),f("users")}catch(V){console.error("Users search error:",V)}finally{a(!1)}};function v(I){return(I.match(/#(\w+)/g)||[]).map(B=>B.replace("#",""))}function w({dream:I}){const B=I.content.split(new RegExp("(?<=[.!?])\\s+")).filter(Boolean);return c.jsx("div",{className:"flex flex-col gap-0.5",children:B.map((V,G)=>c.jsx("div",{className:"text-base leading-relaxed py-1 px-2 hover:bg-blue-50 rounded transition cursor-pointer",children:V},G))})}function E({hashtags:I,onTag:B}){return I.length?c.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:I.map(V=>c.jsxs(fm,{className:"cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>B(V),children:["#",V]},V))}):null}function b({allTags:I,selectedTag:B,onTag:V}){return c.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[c.jsx(fm,{className:`cursor-pointer ${B===null?"bg-blue-500 text-white":"bg-blue-100 text-blue-800"}`,onClick:()=>V(null),children:"#Tümü"},"all"),I.map(G=>c.jsxs(fm,{className:`cursor-pointer ${B===G?"bg-blue-500 text-white":"bg-blue-100 text-blue-800"}`,onClick:()=>V(G),children:["#",G]},G))]})}function S({reposts:I,likes:B}){return c.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:[I||0," kez paylaşıldı"]}),B>10&&c.jsx("span",{className:"text-xs font-bold text-primary",children:"🔥 Popüler Rüya"})]})}function T(I){if(!I)return 0;let B=I.length;for(const V of I)Array.isArray(V.replies)&&(B+=T(V.replies));return B}function C({dream:I,onLike:B,onComment:V,onRepost:G,liked:k,likeCount:j,comments:U,reposted:L,commentCount:Q}){const oe=Te=>{Te.stopPropagation();const ut=`${window.location.origin}/dream/${I.id}`;navigator.clipboard.writeText(ut),G()};return c.jsxs("div",{className:"flex gap-4 items-center mt-2 select-none",children:[c.jsxs("button",{className:"flex items-center gap-1 group",onClick:B,"aria-pressed":k,children:[c.jsx(cv,{className:`h-5 w-5 transition ${k?"fill-red-500 text-red-500 scale-110":"text-muted-foreground group-hover:text-red-400"}`}),c.jsx("span",{className:`text-xs font-medium ${k?"text-red-500":"text-muted-foreground group-hover:text-red-400"}`,children:j})]}),c.jsxs("button",{className:"flex items-center gap-1 group",onClick:V,children:[c.jsx(Pi,{className:"h-5 w-5 text-muted-foreground group-hover:text-blue-500 transition"}),Q>0?c.jsx("span",{className:"text-xs font-medium text-blue-500 group-hover:text-blue-700",children:Q}):c.jsx("span",{className:"text-xs font-medium text-muted-foreground group-hover:text-blue-500",children:"Yorum yok"})]}),c.jsxs("button",{className:"flex items-center gap-1 group",onClick:oe,"aria-pressed":L,title:"Bağlantıyı kopyala",children:[c.jsx($h,{className:`h-5 w-5 transition ${L?"text-blue-500 scale-110":"text-muted-foreground group-hover:text-blue-400"}`}),c.jsx("span",{className:`text-xs font-medium ${L?"text-blue-500":"text-muted-foreground group-hover:text-blue-400"}`,children:L?"Kopyalandı!":"Paylaş"})]})]})}function P({comments:I,onReply:B}){const[V,G]=p.useState(null),[k,j]=p.useState("");return c.jsx("div",{className:"mt-3 border-t pt-3",children:I.map(U=>c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Qt,{className:"h-6 w-6 border",children:[c.jsx(mn,{src:U.user.avatar,alt:U.user.name}),c.jsx(Yt,{children:U.user.name.slice(0,2).toUpperCase()})]}),c.jsx("span",{className:"text-xs font-semibold",children:U.user.name}),c.jsx("span",{className:"text-xs text-muted-foreground",children:U.createdAt})]}),c.jsx("div",{className:"ml-8 text-sm py-1",children:U.text}),c.jsx("button",{className:"ml-8 text-xs text-blue-600 hover:underline",onClick:()=>G(U.id),children:"Yanıtla"}),V===U.id&&c.jsxs("form",{className:"flex gap-2 ml-8 mt-1",onSubmit:L=>{L.preventDefault(),B(U.id,k),j(""),G(null)},children:[c.jsx("input",{value:k,onChange:L=>j(L.target.value),className:"border rounded px-2 py-1 text-xs flex-1",placeholder:"Yanıt yaz..."}),c.jsx("button",{type:"submit",className:"text-xs text-white bg-blue-600 px-2 py-1 rounded",children:"Gönder"})]}),U.replies&&U.replies.length>0&&c.jsx("div",{className:"ml-12 mt-1 border-l pl-2",children:U.replies.map(L=>c.jsxs("div",{className:"mb-1",children:[c.jsx("span",{className:"text-xs font-semibold",children:L.user.name}),": ",c.jsx("span",{className:"text-xs",children:L.text})]},L.id))})]},U.id))})}function A({dream:I,externalCommentCount:B,onDelete:V}){const G=Array.isArray(I.comments)?I.comments:[],[k,j]=p.useState(!1),[U,L]=p.useState(I.likes||0),[Q,oe]=p.useState(!1),[Te,ut]=p.useState(!1),[he,rn]=p.useState(G),[er,Tn]=p.useState(!1),{currentUser:Sn}=bn(),so=()=>{j(ge=>!ge),L(ge=>k?ge-1:ge+1)},es=()=>{oe(!0),setTimeout(()=>oe(!1),2e3)},kr=()=>ut(ge=>!ge),si=(ge,ts)=>{rn(Xf=>Xf.map(oo=>oo.id===ge?{...oo,replies:[...oo.replies||[],{id:Date.now().toString(),user:{name:"Sen",avatar:""},text:ts}]}:oo))},io=ge=>{ge.target.closest("button, a, input, form")||(window.location.href=`/dream/${I.id}`)},tr=typeof B=="number"?B:T(he),za=ge=>{ge.stopPropagation(),Tn(!0)},Ba=async ge=>{Tn(!1),ge&&localStorage.setItem("hideDeleteDreamDialog","1"),await ow(I.id),V&&V(I.id)};return c.jsxs("div",{onClick:io,className:"relative group border rounded-xl bg-white/80 shadow-md hover:shadow-lg transition-all p-5 flex flex-col gap-2 cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Pe,{to:`/profile/${I.user.id}`,children:c.jsxs(Qt,{className:"h-8 w-8 border border-border",children:[c.jsx(mn,{src:I.user.avatar,alt:I.user.name}),c.jsx(Yt,{children:I.user.name.slice(0,2).toUpperCase()})]})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-medium",children:I.user.name}),c.jsx("span",{className:"text-xs text-muted-foreground",children:I.createdAt})]}),I.user.id===(Sn==null?void 0:Sn.uid)&&c.jsx("button",{onClick:za,className:"ml-auto p-1 rounded hover:bg-red-100",title:"Rüyayı Sil",children:c.jsx(Uh,{className:"h-5 w-5 text-red-500"})})]}),c.jsx(w,{dream:I}),c.jsx(E,{hashtags:v(I.content+" "+I.title),onTag:m}),c.jsx(S,{reposts:I.reposts||0,likes:I.likes}),c.jsx(C,{dream:I,onLike:so,onComment:kr,onRepost:es,liked:k,likeCount:U,comments:he,reposted:Q,commentCount:tr}),he.length>0&&c.jsx(P,{comments:he,onReply:si}),c.jsx(iw,{open:er,onClose:()=>Tn(!1),onConfirm:Ba})]})}const R=[...t].sort((I,B)=>B.likes-I.likes).slice(0,3),N=h?t.filter(I=>v(I.content+" "+I.title).includes(h)):t,$=Array.from(new Set(t.flatMap(I=>v(I.content+" "+I.title))));return c.jsx(vn,{children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[c.jsx(Aj,{className:"h-7 w-7 text-primary"})," Keşfet"]}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(X,{variant:x?"default":"outline",size:"sm",onClick:()=>g(!0),children:"Popüler Rüyalar"}),c.jsx(X,{variant:x?"outline":"default",size:"sm",onClick:()=>g(!1),children:"Tüm Rüyalar"}),c.jsx(X,{variant:"ghost",size:"icon",onClick:()=>m(null),title:"Filtreyi temizle",children:c.jsx(Sj,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"mb-6",children:c.jsx(b,{allTags:$,selectedTag:h,onTag:m})}),c.jsx("div",{className:"flex gap-2",children:c.jsx(cn,{value:l,onChange:I=>{u(I.target.value),y(I.target.value)},placeholder:"Rüya, kullanıcı adı veya isim ara...",className:"max-w-lg w-full"})}),c.jsxs(TN,{value:d,onValueChange:I=>f(I),children:[c.jsxs(cw,{children:[c.jsx(qo,{value:"dreams",children:"Rüyalar"}),c.jsx(qo,{value:"users",children:"Kullanıcılar"})]}),c.jsx(Ko,{value:"dreams",className:"space-y-4",children:s?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})}):(x?R:N).length>0?c.jsx("div",{className:"flex flex-col gap-8",children:(x?R:N).map(I=>c.jsx(A,{dream:I,onDelete:B=>e(V=>V.filter(G=>G.id!==B))},I.id))}):c.jsx("p",{className:"text-center py-8 text-muted-foreground",children:l?"Arama kriterlerine uygun rüya bulunamadı.":"Henüz paylaşılan rüya bulunmuyor."})}),c.jsx(Ko,{value:"users",className:"space-y-4",children:o?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})}):n.length>0?c.jsx("div",{className:"space-y-2 mt-4",children:n.map(I=>c.jsxs("div",{className:"flex items-center gap-3 p-3 rounded hover:bg-blue-50 transition",children:[c.jsxs(Pe,{to:`/profile/${I.username||I.id}`,className:"flex items-center gap-3 flex-1",children:[c.jsxs(Qt,{className:"h-10 w-10",children:[c.jsx(mn,{src:I.photoURL||void 0}),c.jsx(Yt,{className:"bg-primary/10 text-lg",children:c.jsx(Di,{className:"h-5 w-5 text-primary"})})]}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-primary",children:I.displayName}),c.jsxs("div",{className:"text-xs text-gray-500",children:["@",I.username]})]})]}),c.jsx(Pe,{to:`/messages/${I.username||I.id}`,children:c.jsx(X,{variant:"outline",size:"sm",children:"Mesaj Gönder"})})]},I.id))}):c.jsx("p",{className:"text-center py-8 text-muted-foreground",children:l?"Arama kriterlerine uygun kullanıcı bulunamadı.":"Kullanıcı aramak için arama terimini girin."})})]})]})})},uE=()=>{const{currentUser:t}=bn(),{contactId:e}=Yh(),[n,r]=p.useState(!0),[s,i]=p.useState([]),[o,a]=p.useState([]),[l,u]=p.useState(""),[d,f]=p.useState(null),[h,m]=p.useState(!1),[x,g]=p.useState(!0),[_,y]=p.useState(null),v=p.useRef(null);p.useEffect(()=>{if(!t)return;const T=Jn(Pt(ie,"conversations"),gn("participants","array-contains",t.uid)),C=sy(T,async P=>{var R;const A=[];for(const N of P.docs){const $=N.data(),I=$.participants.find(B=>B!==t.uid);if(I){const V=(await Je(ke(ie,"users",I))).data();V&&A.push({id:I,displayName:V.displayName||"Kullanıcı",photoURL:V.photoURL,lastMessage:$.lastMessage||"",lastMessageTime:$.updatedAt?$.updatedAt.toDate():new Date,unread:((R=$.unreadBy)==null?void 0:R.includes(t.uid))||!1})}}A.sort((N,$)=>$.lastMessageTime.getTime()-N.lastMessageTime.getTime()),i(A),r(!1)});return()=>C()},[t]),p.useEffect(()=>{if(!e||d||n)return;const T=s.find(C=>C.id===e);T?w(T):(async()=>{const C=await Je(ke(ie,"users",e));if(C.exists()){const P=C.data();w({id:e,displayName:P.displayName||"Kullanıcı",photoURL:P.photoURL||null,lastMessage:"",lastMessageTime:new Date,unread:!1})}})()},[e,s,d,n]);const w=async T=>{if(f(T),a([]),r(!0),!t)return;const C=[t.uid,T.id].sort().join("_"),P=Jn(Pt(ie,"messages"),gn("conversationId","==",C),ro("createdAt","asc"));return sy(P,R=>{const N=R.docs.map($=>{const I=$.data();return{id:$.id,content:I.content,senderId:I.senderId,receiverId:I.receiverId,createdAt:I.createdAt.toDate(),senderName:I.senderName||"Kullanıcı",senderAvatar:I.senderAvatar||null,imageUrl:I.imageUrl||null}});a(N),r(!1)})},E=T=>{w(T),window.innerWidth<768&&g(!1)};p.useEffect(()=>{const T=()=>{window.innerWidth>=768&&g(!0)};return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),p.useEffect(()=>{v.current&&v.current.scrollIntoView({behavior:"smooth"})},[o,d]);const b=T=>{T.target.files&&T.target.files[0]&&y(T.target.files[0])},S=async()=>{if(!(!t||!d||!l.trim()&&!_)){m(!0);try{const T=ke(ie,"users",t.uid),C=await Je(T),P=C.exists()?C.data():{},A=[t.uid,d.id].sort().join("_");let R=null;if(_){const I=w8(S8,`messages/${A}/${Date.now()}_${_.name}`);await y8(I,_),R=await v8(I)}await Bf(Pt(ie,"messages"),{conversationId:A,content:l,imageUrl:R||null,senderId:t.uid,receiverId:d.id,createdAt:new Date,senderName:P.displayName||"Kullanıcı",senderAvatar:P.photoURL||null});const N=ke(ie,"conversations",A);(await Je(N)).exists()?await ba(N,{lastMessage:l||"[Görsel]",updatedAt:new Date}):await Qr(N,{participants:[t.uid,d.id],lastMessage:l||"[Görsel]",updatedAt:new Date}),u(""),y(null)}catch(T){console.error("Fotoğraf yükleme hatası:",T),ye.error("Mesaj gönderilemedi: "+((T==null?void 0:T.message)||T))}finally{m(!1)}}};return c.jsx(vn,{children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Mesajlar"}),c.jsxs("div",{className:"md:grid md:grid-cols-3 gap-4 flex flex-col",children:[c.jsx(tn,{className:`md:col-span-1 h-[calc(80vh-8rem)] ${x?"":"hidden md:block"}`,children:c.jsxs(nn,{className:"p-4",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Kişiler"}),n?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})}):s.length>0?c.jsx("div",{className:"space-y-2 overflow-y-auto max-h-[calc(80vh-12rem)]",children:s.map(T=>c.jsxs("div",{onClick:()=>E(T),className:`p-2 rounded-md flex items-center gap-3 cursor-pointer transition-colors ${(d==null?void 0:d.id)===T.id?"bg-secondary":"hover:bg-secondary/50"}`,children:[c.jsxs(Qt,{className:"h-10 w-10",children:[c.jsx(mn,{src:T.photoURL||void 0}),c.jsx(Yt,{children:c.jsx(Di,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-medium truncate",children:T.displayName}),T.unread&&c.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),c.jsx("p",{className:"text-sm text-muted-foreground truncate",children:T.lastMessage})]})]},T.id))}):c.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"Henüz mesajlaşma geçmişi bulunmuyor."})]})}),c.jsx(tn,{className:`md:col-span-2 h-[calc(80vh-8rem)] flex flex-col ${x?"hidden md:flex":"flex"}`,style:{overflow:"hidden"},children:c.jsx(nn,{className:"p-0 flex-1 flex flex-col",children:d?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-3 p-4 pb-4 border-b",children:[window.innerWidth<768&&c.jsx(X,{variant:"ghost",size:"icon",onClick:()=>g(!0),className:"mr-2",children:c.jsx(hj,{className:"h-5 w-5"})}),c.jsxs(Qt,{className:"h-10 w-10",children:[c.jsx(mn,{src:d.photoURL||void 0}),c.jsx(Yt,{children:c.jsx(Di,{className:"h-5 w-5"})})]}),c.jsx("span",{className:"font-medium",children:d.displayName})]}),c.jsx("div",{className:"flex-1 overflow-y-auto py-4 px-4 space-y-4 bg-background",id:"messagesScrollArea",style:{maxHeight:"calc(80vh - 8rem - 90px)",minHeight:"200px",scrollbarWidth:"thin",scrollbarColor:"#ccc #f9f9f9",overscrollBehavior:"contain",borderRadius:"0 0 1.5rem 1.5rem"},children:n?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})}):o.length>0?c.jsxs(c.Fragment,{children:[o.map(T=>c.jsx("div",{className:`flex ${T.senderId===(t==null?void 0:t.uid)?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-[85vw] md:max-w-[70%] px-4 py-2 rounded-lg break-words shadow-sm ${T.senderId===(t==null?void 0:t.uid)?"bg-primary text-primary-foreground":"bg-muted"}`,children:[T.imageUrl&&c.jsx("img",{src:T.imageUrl,alt:"gönderilen görsel",className:"rounded-lg max-w-full max-h-60 mt-2"}),T.content&&c.jsx("p",{children:T.content}),c.jsx("p",{className:"text-xs opacity-70 mt-1",children:T.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},T.id)),c.jsx("div",{ref:v})]}):c.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"Henüz mesaj bulunmuyor. İlk mesajınızı gönderin!"})}),c.jsxs("div",{className:"flex gap-2 border-t p-4 bg-background sticky bottom-0 z-10",children:[c.jsxs("label",{className:"cursor-pointer",children:[c.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:b}),c.jsx("span",{className:"inline-block p-2 bg-muted rounded-full hover:bg-secondary transition",children:c.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-image",children:[c.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),c.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),c.jsx("polyline",{points:"21 15 16 10 5 21"})]})})]}),c.jsx(cn,{placeholder:"Mesajınızı yazın...",value:l,onChange:T=>u(T.target.value),className:"flex-1 text-base py-3 px-4 rounded-full",style:{fontSize:"1rem"},onKeyDown:T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),S())}}),c.jsx(X,{onClick:S,disabled:h||!l.trim()&&!_,className:"rounded-full h-12 w-12 flex items-center justify-center",children:h?c.jsx(at,{className:"h-5 w-5 animate-spin"}):c.jsx(kj,{className:"h-5 w-5"})})]})]}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("p",{className:"text-muted-foreground",children:"Mesajlaşmak için sol taraftan bir kişi seçin."})})})})]})]})})},DH=()=>{const{dreamId:t}=Yh(),e=Xr(),{currentUser:n}=bn(),[r,s]=p.useState(""),[i,o]=p.useState(""),[a,l]=p.useState(!0),[u,d]=p.useState(!1);p.useEffect(()=>{(async()=>{if(t)try{const m=ke(ie,"dreams",t),x=await Je(m);if(x.exists()){const g=x.data();if(g.userId!==(n==null?void 0:n.uid)){ye.error("Bu rüyayı düzenleme yetkiniz yok."),e(-1);return}s(g.title),o(g.content)}else ye.error("Rüya bulunamadı."),e(-1)}catch{ye.error("Rüya yüklenirken hata oluştu."),e(-1)}finally{l(!1)}})()},[t,n,e]);const f=async h=>{if(h.preventDefault(),!(!t||!r.trim()||!i.trim())){d(!0);try{const m=ke(ie,"dreams",t);await ba(m,{title:r,content:i}),ye.success("Rüya başarıyla güncellendi"),e(`/dream/${t}`)}catch{ye.error("Güncelleme sırasında hata oluştu")}finally{d(!1)}}};return a?c.jsx(vn,{children:c.jsx("div",{className:"py-12 text-center",children:"Yükleniyor..."})}):c.jsx(vn,{children:c.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:c.jsxs(tn,{children:[c.jsx(Jr,{children:"Rüyayı Düzenle"}),c.jsx(nn,{children:c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2",placeholder:"Rüya başlığı",value:r,onChange:h=>s(h.target.value),required:!0}),c.jsx(tu,{className:"w-full",rows:8,placeholder:"Rüya içeriği",value:i,onChange:h=>o(h.target.value),required:!0}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(X,{type:"button",variant:"outline",onClick:()=>e(-1),children:"Vazgeç"}),c.jsx(X,{type:"submit",disabled:u,children:u?"Kaydediliyor...":"Kaydet"})]})]})})]})})})},jH="modulepreload",OH=function(t){return"/"+t},dE={},pm=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=OH(l),l in dE)return;dE[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":jH,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function jN(t,e){if(t===e)throw new Error("Kendini takip edemezsin");const n=ke(ie,"users",e),r=ke(ie,"users",t),s=await Je(n),i=await Je(r);s.exists()||await Qr(n,{followers:[],followerCount:0,following:[],followingCount:0,createdAt:new Date}),i.exists()||await Qr(r,{followers:[],followerCount:0,following:[],followingCount:0,createdAt:new Date}),await ba(n,{followers:L1(t),followerCount:ph(1)}),await ba(r,{following:L1(e),followingCount:ph(1)})}async function ON(t,e){if(t===e)throw new Error("Kendini takipten çıkaramazsın");const n=ke(ie,"users",e),r=ke(ie,"users",t),s=await Je(n),i=await Je(r);s.exists()||await Qr(n,{followers:[],followerCount:0,following:[],followingCount:0,createdAt:new Date}),i.exists()||await Qr(r,{followers:[],followerCount:0,following:[],followingCount:0,createdAt:new Date}),await ba(n,{followers:V1(t),followerCount:ph(-1)}),await ba(r,{following:V1(e),followingCount:ph(-1)})}async function MN(t,e){if(!t||!e)return!1;const r=(await Je(ke(ie,"users",t))).data();return Array.isArray(r==null?void 0:r.following)&&r.following.includes(e)}const mm=Object.freeze(Object.defineProperty({__proto__:null,followUser:jN,isFollowing:MN,unfollowUser:ON},Symbol.toStringTag,{value:"Module"}));function hE({targetUid:t}){const{currentUser:e}=bn(),[n,r]=p.useState(!1),[s,i]=p.useState(!1);if(p.useEffect(()=>{let l=!0;return(async()=>{if(!e||!t||e.uid===t)return;const d=await MN(e.uid,t);l&&r(d)})(),()=>{l=!1}},[e,t]),!e||e.uid===t)return null;const o=async()=>{i(!0);try{await jN(e.uid,t),r(!0)}finally{i(!1)}},a=async()=>{i(!0);try{await ON(e.uid,t),r(!1)}finally{i(!1)}};return n?c.jsx(X,{size:"sm",variant:"outline",disabled:s,onClick:a,children:"Takipten Çık"}):c.jsx(X,{size:"sm",variant:"default",disabled:s,onClick:o,children:"Takip Et"})}const MH=()=>{const{userId:t}=Yh(),[e,n]=p.useState(null),[r,s]=p.useState([]),[i,o]=p.useState(!0),[a,l]=p.useState(!1),[u,d]=p.useState(!1),[f,h]=p.useState(!1),[m,x]=p.useState([]),[g,_]=p.useState(!1),[y,v]=p.useState([]),[w,E]=p.useState(null),{currentUser:b}=bn(),S=Xr();p.useEffect(()=>{(async()=>{if(t)try{let N=null,$=t;const I=Jn(Pt(ie,"users"),gn("username","==",t)),B=await Gr(I);if(!B.empty)N=B.docs[0],$=N.id;else if(N=await Je(ke(ie,"users",t)),!N.exists())return n(null);E($);const V=N.data();if(n({displayName:V.displayName||"Kullanıcı",username:V.username||t,photoURL:V.photoURL||null,bio:V.bio||"Bu kullanıcı henüz bir biyografi eklememiş.",createdAt:V.createdAt?V.createdAt.toDate():new Date,followerCount:V.followerCount||0,followingCount:V.followingCount||0}),b&&$!==b.uid){const{isFollowing:U}=await pm(async()=>{const{isFollowing:L}=await Promise.resolve().then(()=>mm);return{isFollowing:L}},void 0);l(await U(b.uid,$))}const G=Jn(Pt(ie,"dreams"),gn("userId","==",$),gn("isPrivate","==",!1),ro("createdAt","desc")),j=(await Gr(G)).docs.map(U=>{const L=U.data();return{id:U.id,title:L.title,content:L.content,createdAt:new Date(L.createdAt.toDate()).toLocaleDateString("tr-TR"),isPrivate:L.isPrivate,likes:L.likes||0,comments:L.comments||0,user:{name:L.userName||"Kullanıcı",avatar:L.userAvatar||""}}});s(j)}catch{n(null)}finally{o(!1)}})()},[t,b]);const T=async()=>{if(!(!b||!w)){d(!0);try{const{followUser:R}=await pm(async()=>{const{followUser:N}=await Promise.resolve().then(()=>mm);return{followUser:N}},void 0);await R(b.uid,w),l(!0),n(N=>N&&{...N,followerCount:(N.followerCount||0)+1})}catch(R){ye.error(R.message||"Takip edilemedi")}finally{d(!1)}}},C=async()=>{if(!(!b||!w)){d(!0);try{const{unfollowUser:R}=await pm(async()=>{const{unfollowUser:N}=await Promise.resolve().then(()=>mm);return{unfollowUser:N}},void 0);await R(b.uid,w),l(!1),n(N=>N&&{...N,followerCount:(N.followerCount||1)-1})}catch(R){ye.error(R.message||"Takipten çıkılamadı")}finally{d(!1)}}},P=async()=>{if(w){x([]),h(!0);try{const R=await Je(ke(ie,"users",w)),N=R.exists()&&Array.isArray(R.data().followers)?R.data().followers:[];if(N.length===0)return;const $=await Promise.all(N.slice(0,20).map(I=>Je(ke(ie,"users",I))));x($.filter(I=>I.exists()).map(I=>({uid:I.id,displayName:I.data().displayName||"Kullanıcı",username:I.data().username||I.id,photoURL:I.data().photoURL||null})))}catch{}}},A=async()=>{if(w){v([]),_(!0);try{const R=await Je(ke(ie,"users",w)),N=R.exists()&&Array.isArray(R.data().following)?R.data().following:[];if(N.length===0)return;const $=await Promise.all(N.slice(0,20).map(I=>Je(ke(ie,"users",I))));v($.filter(I=>I.exists()).map(I=>({uid:I.id,displayName:I.data().displayName||"Kullanıcı",username:I.data().username||I.id,photoURL:I.data().photoURL||null})))}catch{}}};return i?c.jsx(vn,{children:c.jsx("div",{className:"flex justify-center py-12",children:c.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})})}):e?c.jsxs(vn,{children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs(tn,{className:"overflow-hidden",children:[c.jsx("div",{className:"h-32 bg-gradient-to-r from-primary/30 to-secondary/30"}),c.jsxs(nn,{className:"pt-0",children:[c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsxs(Qt,{className:"h-24 w-24 border-4 border-primary/20",children:[c.jsx(mn,{src:(e==null?void 0:e.photoURL)||void 0}),c.jsx(Yt,{className:"bg-primary/10 text-xl",children:c.jsx(Di,{className:"h-8 w-8 text-primary"})})]}),c.jsxs("h2",{className:"text-2xl font-bold text-primary flex items-center gap-2",children:[e==null?void 0:e.displayName,c.jsxs("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:["@",e==null?void 0:e.username]})]}),c.jsxs("div",{className:"flex gap-6 py-2",children:[c.jsxs("button",{className:"flex flex-col items-center group",onClick:P,children:[c.jsx("span",{className:"text-lg font-bold text-primary group-hover:underline",children:(e==null?void 0:e.followerCount)??0}),c.jsx("span",{className:"text-xs text-gray-400",children:"Takipçi"})]}),c.jsxs("button",{className:"flex flex-col items-center group",onClick:A,children:[c.jsx("span",{className:"text-lg font-bold text-primary group-hover:underline",children:(e==null?void 0:e.followingCount)??0}),c.jsx("span",{className:"text-xs text-gray-400",children:"Takip"})]})]}),b&&w!==b.uid&&c.jsxs("div",{className:"flex gap-2 mt-2",children:[a?c.jsx(X,{variant:"outline",size:"sm",disabled:u,onClick:C,children:"Takipten Çık"}):c.jsx(X,{variant:"default",size:"sm",disabled:u,onClick:T,children:"Takip Et"}),c.jsx(X,{variant:"secondary",size:"sm",onClick:()=>S(`/messages/${w}`),children:"Mesaj Gönder"})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Hakkında"}),c.jsx("p",{children:e.bio})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Paylaşılan Rüyalar"}),r.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(R=>c.jsx(Ol,{dream:R},R.id))}):c.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"Bu kullanıcı henüz rüya paylaşmamış."})]})]}),c.jsx(vh,{open:f,onOpenChange:h,children:c.jsxs(bc,{"aria-describedby":"followers-desc",children:[c.jsx(ly,{children:c.jsx(cy,{children:"Takipçiler"})}),c.jsx("div",{id:"followers-desc",className:"space-y-2 max-h-72 overflow-y-auto",children:m.length===0?c.jsx("div",{className:"text-center text-gray-400 text-sm py-8",children:"Takipçi yok"}):m.map(R=>c.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[c.jsxs(Qt,{className:"h-8 w-8",children:[c.jsx(mn,{src:R.photoURL||void 0}),c.jsx(Yt,{children:R.displayName.slice(0,2).toUpperCase()})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium truncate",children:R.displayName}),c.jsxs("div",{className:"text-xs text-gray-400 truncate",children:["@",R.username]})]}),b&&R.uid!==b.uid&&c.jsxs("div",{className:"flex gap-2",children:[c.jsx(hE,{targetUid:R.uid}),c.jsx(X,{size:"sm",variant:"secondary",onClick:()=>S(`/messages/${R.uid}`),children:"Mesaj Gönder"})]}),b&&R.uid===b.uid&&c.jsx("span",{className:"text-xs text-green-600 font-semibold ml-2",children:"(Sen)"})]},R.uid))})]})}),c.jsx(vh,{open:g,onOpenChange:_,children:c.jsxs(bc,{"aria-describedby":"following-desc",children:[c.jsx(ly,{children:c.jsx(cy,{children:"Takip Edilenler"})}),c.jsx("div",{id:"following-desc",className:"space-y-2 max-h-72 overflow-y-auto",children:y.length===0?c.jsx("div",{className:"text-center text-gray-400 text-sm py-8",children:"Takip edilen yok"}):y.map(R=>c.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[c.jsxs(Qt,{className:"h-8 w-8",children:[c.jsx(mn,{src:R.photoURL||void 0}),c.jsx(Yt,{children:R.displayName.slice(0,2).toUpperCase()})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium truncate",children:R.displayName}),c.jsxs("div",{className:"text-xs text-gray-400 truncate",children:["@",R.username]})]}),b&&R.uid!==b.uid&&c.jsxs("div",{className:"flex gap-2",children:[c.jsx(hE,{targetUid:R.uid}),c.jsx(X,{size:"sm",variant:"secondary",onClick:()=>S(`/messages/${R.uid}`),children:"Mesaj Gönder"})]}),b&&R.uid===b.uid&&c.jsx("span",{className:"text-xs text-green-600 font-semibold ml-2",children:"(Sen)"})]},R.uid))})]})})]}):c.jsx(vn,{children:c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{children:"Kullanıcı bulunamadı."})})})},LH=[{title:"Rüya Paylaşım Örneği",content:"Gece bir ormanda kaybolduğumu gördüm ve gökyüzünde parlak bir yıldız vardı. Bu ne anlama geliyor?",ai:"Bu rüya, bilinçaltınızda yeni bir yolculuğa çıkma arzunuzu ve umutlarınızı simgeliyor olabilir. Yıldız, rehberlik ve umut anlamı taşır!"},{title:"AI Yorumlama Örneği",content:"Bir aslanla konuştuğumu gördüm. Korkmuyordum, aksine huzurluydum.",ai:"Rüyanızda aslan, içsel gücünüzü ve özgüveninizi temsil edebilir. Huzur hissetmeniz, bu gücü kabullendiğiniz anlamına gelir."},{title:"Topluluk Etkileşimi",content:"Bir kullanıcı rüyanıza yorum yaptı: 'Ben de benzer bir rüya gördüm, çok ilginç!'",ai:"Toplulukta benzer deneyimleri paylaşmak, kendinizi daha iyi anlamanıza yardımcı olur."}];function VH(){const[t,e]=p.useState(!1);return c.jsx("div",{className:"max-w-3xl mx-auto py-10 px-4",children:c.jsxs(tn,{className:"bg-gradient-to-br from-blue-50 to-white border-0 shadow-2xl",children:[c.jsx(Jr,{className:"flex flex-col items-center gap-2 pb-0",children:c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx(bi,{className:"h-12 w-12 text-blue-500 animate-pulse"}),c.jsx(Pa,{className:"text-4xl font-extrabold text-blue-800 tracking-tight text-center drop-shadow",children:"Daha Fazla Öğren & İlham Al"})]})}),c.jsxs(nn,{className:"pt-2",children:[c.jsxs("section",{className:"mb-6 text-center",children:[c.jsxs("p",{className:"text-lg text-gray-700 mb-2",children:[c.jsx("span",{className:"font-bold",children:"Bring"})," ile rüyalarını paylaş, toplulukla etkileşime geç ve ",c.jsx("span",{className:"text-blue-600 font-semibold",children:"yapay zeka"})," ile rüyalarını farklı açılardan analiz et!"]}),c.jsx("p",{className:"text-base text-gray-500",children:"Kendi rüya yolculuğunu başlatmak için örnekleri incele, deneyimleri keşfet ve ilham al."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(hS,{className:"h-9 w-9 text-indigo-400 mb-1"}),c.jsx("span",{className:"font-semibold text-indigo-700",children:"Yapay Zeka Yorumları"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"Rüyanı farklı bakış açılarıyla analiz eden güçlü AI yorumlama modları."})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(Rj,{className:"h-9 w-9 text-pink-400 mb-1"}),c.jsx("span",{className:"font-semibold text-pink-700",children:"Topluluk ve Etkileşim"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"Rüyalarına yorum yap, beğen, paylaş ve başkalarıyla bağlantı kur."})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(Ej,{className:"h-9 w-9 text-green-400 mb-1"}),c.jsx("span",{className:"font-semibold text-green-700",children:"Gizlilik ve Güvenlik"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"Rüyalarını gizli veya herkese açık paylaş, kontrol daima sende!"})]})]}),c.jsxs("div",{className:"mt-10 flex flex-col items-center",children:[c.jsxs(X,{onClick:()=>e(n=>!n),variant:"outline",size:"lg",className:"rounded-full px-6 py-2 flex items-center gap-2 shadow hover:bg-blue-50",children:[c.jsx(_j,{className:"h-5 w-5 text-yellow-400"}),"İlham Al & Örnekleri Gör",c.jsx(pj,{className:`h-5 w-5 transition-transform ${t?"rotate-180":""}`})]}),t&&c.jsx("div",{className:"w-full mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:LH.map((n,r)=>c.jsxs("div",{className:"bg-white rounded-xl shadow p-4 flex flex-col gap-2 border border-blue-100",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(mS,{className:"h-4 w-4 text-yellow-400"}),c.jsx("span",{className:"font-semibold text-blue-700 text-sm",children:n.title})]}),c.jsx("div",{className:"text-xs text-gray-600 italic",children:n.content}),c.jsx("div",{className:"text-xs text-green-700 border-l-4 border-green-200 pl-2 mt-1",children:n.ai})]},r))})]}),c.jsxs("div",{className:"mt-10 flex flex-col items-center",children:[c.jsx(X,{asChild:!0,size:"lg",className:"bg-blue-600 text-white rounded-full px-8 py-2 shadow-lg hover:bg-blue-700",children:c.jsx("a",{href:"/Register",children:"Keşfetmeye Başla"})}),c.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Soruların için: ",c.jsx("a",{href:"mailto:destek@bring.app",className:"underline text-blue-500",children:"destek@bring.app"})]})]})]})]})})}const gm=[{id:1,name:"Defne Öz",lastMessage:"Görüşürüz!",time:"16:45",avatar:"https://randomuser.me/api/portraits/women/1.jpg",ai:!1,selected:!0},{id:2,name:"Ahmet Demir",lastMessage:"AI: Rüyan ilginçmiş!",time:"15:20",avatar:"https://randomuser.me/api/portraits/men/2.jpg",ai:!0,selected:!1}],FH=()=>c.jsxs("aside",{className:"w-20 md:w-72 h-full bg-gray-100 dark:bg-black border-r border-gray-200 dark:border-gray-800 flex flex-col",children:[c.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-gray-200 dark:border-gray-800",children:[c.jsx("img",{src:gm[0].avatar,alt:"Profil",className:"w-10 h-10 rounded-full border-2 border-blue-400"}),c.jsx("span",{className:"hidden md:block font-semibold text-gray-800 dark:text-gray-100 ml-2",children:gm[0].name}),c.jsx("button",{className:"ml-auto p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:c.jsx(Ij,{className:"w-5 h-5 text-gray-500"})})]}),c.jsx("nav",{className:"flex-1 overflow-y-auto",children:gm.map(t=>c.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 cursor-pointer transition-all select-none group ${t.selected?"bg-blue-100 dark:bg-purple-900/40 border-l-4 border-blue-500":"hover:bg-gray-200 dark:hover:bg-gray-800"}`,children:[c.jsx("img",{src:t.avatar,alt:t.name,className:"w-9 h-9 rounded-full border border-gray-300 dark:border-gray-700"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"truncate font-medium text-sm text-gray-900 dark:text-gray-100",children:t.name}),t.ai&&c.jsx(Fd,{className:"w-4 h-4 text-purple-500 ml-1",title:"AI Bot"})]}),c.jsx("span",{className:"block truncate text-xs text-gray-500 dark:text-gray-400",children:t.lastMessage})]}),c.jsx("span",{className:"text-xs text-gray-400 ml-2 whitespace-nowrap",children:t.time})]},t.id))}),c.jsxs("div",{className:"p-3 border-t border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[c.jsx("button",{className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:c.jsx(Pi,{className:"w-5 h-5 text-blue-500"})}),c.jsx("button",{className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:c.jsx(Fd,{className:"w-5 h-5 text-purple-500"})}),c.jsx("button",{className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:c.jsx(gj,{className:"w-5 h-5 text-gray-500"})})]})]}),$H=[{id:1,sender:"me",text:"Merhaba! Nasılsın?",time:"16:45"},{id:2,sender:"other",text:"İyiyim, sen?",time:"16:46"},{id:3,sender:"ai",text:"AI: Size yardımcı olabilirim!",time:"16:46"}],UH=()=>c.jsxs("section",{className:"flex flex-col flex-1 h-full bg-white dark:bg-neutral-950",children:[c.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-gray-200 dark:border-gray-800",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-bold",children:"D"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Defne Öz"}),c.jsx("div",{className:"text-xs text-green-500 flex items-center gap-1",children:"● Çevrim içi"})]}),c.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:c.jsx(bi,{className:"w-5 h-5 text-purple-500",title:"AI Özetle"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-3",children:$H.map(t=>c.jsx("div",{className:`flex ${t.sender==="me"?"justify-end":t.sender==="ai"?"justify-center":"justify-start"}`,children:c.jsxs("div",{className:`relative max-w-[70%] px-4 py-2 rounded-2xl text-sm shadow transition-all group
                ${t.sender==="me"?"bg-blue-100 dark:bg-blue-900 text-right text-gray-900 dark:text-gray-100 rounded-br-md":t.sender==="ai"?"bg-gradient-to-tr from-purple-200 via-yellow-100 to-white dark:from-purple-900/70 dark:via-yellow-900/30 dark:to-neutral-900 text-purple-900 dark:text-purple-100 border border-purple-300 dark:border-purple-700 font-semibold rounded-3xl":"bg-gray-100 dark:bg-neutral-800 text-gray-900 dark:text-gray-100 rounded-bl-md"}`,children:[t.text,c.jsxs("div",{className:"flex items-center gap-1 mt-1 opacity-70 text-xs justify-end",children:[c.jsx("span",{children:t.time}),t.sender==="me"&&c.jsx(mj,{className:"w-3 h-3 text-blue-400"}),t.sender==="ai"&&c.jsx(Fd,{className:"w-3 h-3 text-purple-400 ml-1",title:"AI"})]}),c.jsxs("div",{className:"absolute -top-7 right-0 left-0 mx-auto w-max opacity-0 group-hover:opacity-100 transition pointer-events-none group-hover:pointer-events-auto flex gap-1",children:[c.jsx("button",{className:"bg-white dark:bg-neutral-900 border border-gray-200 dark:border-gray-700 rounded-full px-2 py-1 text-xs shadow hover:bg-gray-100 dark:hover:bg-neutral-800",children:"😀"}),c.jsxs("button",{className:"bg-white dark:bg-neutral-900 border border-purple-300 dark:border-purple-700 rounded-full px-2 py-1 text-xs shadow hover:bg-purple-100 dark:hover:bg-purple-900/60 flex items-center gap-1",children:[c.jsx(bi,{className:"w-3 h-3 text-purple-400"})," AI ile cevap öner"]})]})]})},t.id))}),c.jsxs("form",{className:"flex items-end gap-2 px-4 py-4 border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-neutral-950",children:[c.jsx("button",{type:"button",className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:c.jsx(Cj,{className:"w-5 h-5 text-yellow-500"})}),c.jsx("button",{type:"button",className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:c.jsx(Tj,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:"text",className:"flex-1 rounded-2xl border border-gray-200 dark:border-gray-700 px-4 py-2 bg-gray-50 dark:bg-neutral-900 focus:outline-none focus:ring-2 focus:ring-blue-300 dark:focus:ring-purple-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Yazarken AI öneriyor..."}),c.jsx("button",{type:"button",className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:c.jsx(bj,{className:"w-5 h-5 text-gray-400"})}),c.jsx("button",{type:"submit",className:"p-2 rounded-full bg-blue-500 hover:bg-blue-600 text-white shadow",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-5 h-5",children:c.jsx("path",{d:"M5 12h14M12 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),c.jsx("button",{type:"button",className:"p-2 rounded-full hover:bg-purple-100 dark:hover:bg-purple-900/60",children:c.jsx(bi,{className:"w-5 h-5 text-purple-500",title:"AI'dan cevap iste"})})]}),c.jsxs("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:[c.jsx("button",{className:"bg-blue-100 dark:bg-blue-900/80 text-blue-700 dark:text-blue-200 px-3 py-1 rounded-full shadow text-xs font-medium hover:bg-blue-200 dark:hover:bg-blue-800 transition",children:"🎉 Esprili cevap"}),c.jsx("button",{className:"bg-green-100 dark:bg-green-900/80 text-green-700 dark:text-green-200 px-3 py-1 rounded-full shadow text-xs font-medium hover:bg-green-200 dark:hover:bg-green-800 transition",children:"💬 Kibar cevap"}),c.jsx("button",{className:"bg-purple-100 dark:bg-purple-900/80 text-purple-700 dark:text-purple-200 px-3 py-1 rounded-full shadow text-xs font-medium hover:bg-purple-200 dark:hover:bg-purple-800 transition",children:"🧠 Bilgi ver"})]})]}),zH=()=>c.jsxs("aside",{className:"hidden lg:flex flex-col w-80 h-full bg-gray-50 dark:bg-neutral-900 border-l border-gray-200 dark:border-gray-800 p-6 gap-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("img",{src:"https://randomuser.me/api/portraits/women/1.jpg",alt:"Profil",className:"w-16 h-16 rounded-full border-2 border-purple-400"}),c.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-gray-100",children:"Defne Öz"}),c.jsx("div",{className:"text-xs text-green-500",children:"Çevrim içi"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(xj,{className:"w-4 h-4"})," Medya"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("img",{src:"https://placehold.co/48x48",alt:"Medya",className:"w-12 h-12 rounded-lg object-cover"}),c.jsx("img",{src:"https://placehold.co/48x48",alt:"Medya",className:"w-12 h-12 rounded-lg object-cover"})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(vj,{className:"w-4 h-4"})," Dosyalar"]}),c.jsx("div",{className:"text-xs text-gray-400",children:"Henüz dosya yok"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-semibold text-sm text-purple-700 dark:text-purple-300 mb-2 flex items-center gap-2",children:[c.jsx(Fd,{className:"w-4 h-4"})," AI Özetleri"]}),c.jsxs("ul",{className:"space-y-1",children:[c.jsxs("li",{className:"bg-purple-100 dark:bg-purple-900/60 rounded px-3 py-2 text-xs text-purple-800 dark:text-purple-200 flex items-center gap-2",children:[c.jsx(mS,{className:"w-3 h-3 text-yellow-400"}),' "Rüyanızda geçen semboller: su, köpek, yol..."']}),c.jsxs("li",{className:"bg-purple-100 dark:bg-purple-900/60 rounded px-3 py-2 text-xs text-purple-800 dark:text-purple-200 flex items-center gap-2",children:[c.jsx(wj,{className:"w-3 h-3 text-blue-400"}),' "AI: Bu rüya özgürlük arzusunu simgeliyor."']})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(yj,{className:"w-4 h-4"})," Ayarlar"]}),c.jsx("button",{className:"w-full text-left px-3 py-2 rounded hover:bg-gray-200 dark:hover:bg-gray-800 text-xs text-gray-600 dark:text-gray-300",children:"Sohbeti Sessize Al"}),c.jsx("button",{className:"w-full text-left px-3 py-2 rounded hover:bg-gray-200 dark:hover:bg-gray-800 text-xs text-red-600 dark:text-red-400",children:"Sohbeti Sil"})]})]}),BH=()=>c.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-black",children:[c.jsx(FH,{}),c.jsx("main",{className:"flex-1 flex flex-col relative",children:c.jsx(UH,{})}),c.jsx(zH,{})]}),HH=new VL,WH=()=>(p.useEffect(()=>{A8()},[]),c.jsx($L,{client:HH,children:c.jsxs(mL,{children:[c.jsx(hO,{}),c.jsx(UO,{}),c.jsx(O4,{children:c.jsx(R8,{children:c.jsxs(C4,{children:[c.jsx(Tt,{path:"/",element:c.jsx(F7,{})}),c.jsx(Tt,{path:"/login",element:c.jsx($7,{})}),c.jsx(Tt,{path:"/register",element:c.jsx(z7,{})}),c.jsx(Tt,{path:"/dashboard",element:c.jsx(lH,{})}),c.jsx(Tt,{path:"/profile",element:c.jsx(cH,{})}),c.jsx(Tt,{path:"/profile/:userId",element:c.jsx(MH,{})}),c.jsx(Tt,{path:"/create-dream",element:c.jsx(TH,{})}),c.jsx(Tt,{path:"/dream/:dreamId",element:c.jsx(RH,{})}),c.jsx(Tt,{path:"/discover",element:c.jsx(PH,{})}),c.jsx(Tt,{path:"/about",element:c.jsx(VH,{})}),c.jsx(Tt,{path:"/messages/:contactId",element:c.jsx(uE,{})}),c.jsx(Tt,{path:"/messages",element:c.jsx(uE,{})}),c.jsx(Tt,{path:"/editdream/:dreamId",element:c.jsx(DH,{})}),c.jsx(Tt,{path:"/chat",element:c.jsx(BH,{})}),c.jsx(Tt,{path:"*",element:c.jsx(B7,{})})]})})})]})}));MT(document.getElementById("root")).render(c.jsx(WH,{}));
